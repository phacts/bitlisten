/*! BitListen.Cash Copyright (c) 2018 Maximillian Laumeister, see README.md for license info. */

function surrogateCtor(){}function extend(a,b){surrogateCtor.prototype=a.prototype,b.prototype=new surrogateCtor,b.prototype.constructor=b}function Block(a,b,c,d){if("visible"===document.visibilityState){Floatable.call(this);var e=Math.floor(c/satoshi)+" BCH",f=Math.floor(d/1024)+" KB";this.width=this.height=500,this.addImage(blockImage,this.width,this.height),this.addText("Block #"+a+"<br />Number of Transactions: "+b+"<br />Transaction Volume: "+e+"<br />Block Size: "+f),this.initPosition()}Sound.playRandomSwell()}function Floatable(){this.velocity={x:0,y:-1},this.pageDiv=document.getElementById("bubbleDiv"),this.updateContainerSize(),this.div=document.createElement("div"),this.div.className="floatableDiv",this.pageDiv.appendChild(this.div),this.innerDiv=document.createElement("div"),this.div.appendChild(this.innerDiv),this.innerDiv.className="innerDiv",updateTargets.push(this)}function setGlobalRate(a){if(-1===globalRate){var b=$("#showDollarCheckBox");b.prop("disabled",!1),b.parent().removeClass("disabled")}$("#rate").html(parseFloat(a).toFixed(2)),globalRate=a}function TransactionSocket(){}function Sound(){}function zeroPad(a,b){var c=b-a.toString().length+1;return Array(+(c>0&&c)).join("0")+a}function StatusBox(){}function Transaction(a,b,c,d){if("visible"===document.visibilityState){Floatable.call(this),this.area=100*a+3e3,this.width=this.height=2*Math.sqrt(this.area/Math.PI),this.addImage(bubbleImage,this.width,this.height);var e,f=a.toFixed(2);e=!0===globalShowDollar?"$"+(a*globalRate).toFixed(0):"0.00"===f?"&lt;<span class='bitcoinsymbol'>B</span>0.01":"<span class='bitcoinsymbol'>B</span>"+f,b?this.addText('<span style="color: yellow;">'+e+'</span><br /><span style="color: cyan;">Donation</span><br /><span style="color: lime;">Thanks!</span>'):this.addText(e),c&&d&&this.addText("<br />"+c.toFixed(2)+" "+d),this.initPosition();var g=1e3,h=.3,i=.7,j=a/(g/(i-h))+h;j>i&&(j=i);var k=100,l=1.0715307808111487,m=Math.min(k,Math.log(a+l)/Math.log(l));m=k-m,globalScalePitch?Sound.playPitchAtVolume(j,m):Sound.playRandomAtVolume(j),transaction_count++,5===transaction_count&&(document.getElementById("waitingForTransactions").style.opacity="0")}}var Konami=function(a){var b={addEvent:function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&(a["e"+b+c]=c,a[b+c]=function(){a["e"+b+c](window.event,d)},a.attachEvent("on"+b,a[b+c]))},input:"",pattern:"38384040373937396665",load:function(a){this.addEvent(document,"keydown",function(c,d){if(d&&(b=d),b.input+=c?c.keyCode:event.keyCode,b.input.length>b.pattern.length&&(b.input=b.input.substr(b.input.length-b.pattern.length)),b.input==b.pattern)return b.code(a),b.input="",c.preventDefault(),!1},this),this.iphone.load(a)},code:function(a){window.location=a},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],code:function(a){b.code(a)},load:function(a){this.orig_keys=this.keys,b.addEvent(document,"touchmove",function(a){if(1==a.touches.length&&1==b.iphone.capture){var c=a.touches[0];b.iphone.stop_x=c.pageX,b.iphone.stop_y=c.pageY,b.iphone.tap=!1,b.iphone.capture=!1,b.iphone.check_direction()}}),b.addEvent(document,"touchend",function(c){1==b.iphone.tap&&b.iphone.check_direction(a)},!1),b.addEvent(document,"touchstart",function(a){b.iphone.start_x=a.changedTouches[0].pageX,b.iphone.start_y=a.changedTouches[0].pageY,b.iphone.tap=!0,b.iphone.capture=!0})},check_direction:function(a){x_magnitude=Math.abs(this.start_x-this.stop_x),y_magnitude=Math.abs(this.start_y-this.stop_y),x=this.start_x-this.stop_x<0?"RIGHT":"LEFT",y=this.start_y-this.stop_y<0?"DOWN":"UP",result=x_magnitude>y_magnitude?x:y,result=1==this.tap?"TAP":result,result==this.keys[0]&&(this.keys=this.keys.slice(1,this.keys.length)),0==this.keys.length&&(this.keys=this.orig_keys,this.code(a))}}};return"string"==typeof a&&b.load(a),"function"==typeof a&&(b.code=a,b.load()),b};!function(){"use strict";var a=function(){this.init()};a.prototype={init:function(){var a=this||b;return a._counter=1e3,a._codecs={},a._howls=[],a._muted=!1,a._volume=1,a._canPlayEvent="canplaythrough",a._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,a.masterGain=null,a.noAudio=!1,a.usingWebAudio=!0,a.autoSuspend=!0,a.ctx=null,a.mobileAutoEnable=!0,a._setup(),a},volume:function(a){var c=this||b;if(a=parseFloat(a),c.ctx||j(),void 0!==a&&a>=0&&a<=1){if(c._volume=a,c._muted)return c;c.usingWebAudio&&c.masterGain.gain.setValueAtTime(a,b.ctx.currentTime);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var e=c._howls[d]._getSoundIds(),f=0;f<e.length;f++){var g=c._howls[d]._soundById(e[f]);g&&g._node&&(g._node.volume=g._volume*a)}return c}return c._volume},mute:function(a){var c=this||b;c.ctx||j(),c._muted=a,c.usingWebAudio&&c.masterGain.gain.setValueAtTime(a?0:c._volume,b.ctx.currentTime);for(var d=0;d<c._howls.length;d++)if(!c._howls[d]._webAudio)for(var e=c._howls[d]._getSoundIds(),f=0;f<e.length;f++){var g=c._howls[d]._soundById(e[f]);g&&g._node&&(g._node.muted=!!a||g._muted)}return c},unload:function(){for(var a=this||b,c=a._howls.length-1;c>=0;c--)a._howls[c].unload();return a.usingWebAudio&&a.ctx&&void 0!==a.ctx.close&&(a.ctx.close(),a.ctx=null,j()),a},codecs:function(a){return(this||b)._codecs[a.replace(/^x-/,"")]},_setup:function(){var a=this||b;if(a.state=a.ctx?a.ctx.state||"running":"running",a._autoSuspend(),!a.usingWebAudio)if("undefined"!=typeof Audio)try{var c=new Audio;void 0===c.oncanplaythrough&&(a._canPlayEvent="canplay")}catch(d){a.noAudio=!0}else a.noAudio=!0;try{var c=new Audio;c.muted&&(a.noAudio=!0)}catch(d){}return a.noAudio||a._setupCodecs(),a},_setupCodecs:function(){var a=this||b,c=null;try{c="undefined"!=typeof Audio?new Audio:null}catch(g){return a}if(!c||"function"!=typeof c.canPlayType)return a;var d=c.canPlayType("audio/mpeg;").replace(/^no$/,""),e=a._navigator&&a._navigator.userAgent.match(/OPR\/([0-6].)/g),f=e&&parseInt(e[0].split("/")[1],10)<33;return a._codecs={mp3:!(f||!d&&!c.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!d,opus:!!c.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!c.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!c.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!c.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!c.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(c.canPlayType("audio/x-m4a;")||c.canPlayType("audio/m4a;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(c.canPlayType("audio/x-mp4;")||c.canPlayType("audio/mp4;")||c.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!c.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!c.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(c.canPlayType("audio/x-flac;")||c.canPlayType("audio/flac;")).replace(/^no$/,"")},a},_enableMobileAudio:function(){var a=this||b,c=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(a._navigator&&a._navigator.userAgent),d=!!("ontouchend"in window||a._navigator&&a._navigator.maxTouchPoints>0||a._navigator&&a._navigator.msMaxTouchPoints>0);if(!a._mobileEnabled&&a.ctx&&(c||d)){a._mobileEnabled=!1,a._mobileUnloaded||44100===a.ctx.sampleRate||(a._mobileUnloaded=!0,a.unload()),a._scratchBuffer=a.ctx.createBuffer(1,1,22050);var e=function(){b._autoResume();var c=a.ctx.createBufferSource();c.buffer=a._scratchBuffer,c.connect(a.ctx.destination),void 0===c.start?c.noteOn(0):c.start(0),"function"==typeof a.ctx.resume&&a.ctx.resume(),c.onended=function(){c.disconnect(0),a._mobileEnabled=!0,a.mobileAutoEnable=!1,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0)}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),a}},_autoSuspend:function(){var a=this;if(a.autoSuspend&&a.ctx&&void 0!==a.ctx.suspend&&b.usingWebAudio){for(var c=0;c<a._howls.length;c++)if(a._howls[c]._webAudio)for(var d=0;d<a._howls[c]._sounds.length;d++)if(!a._howls[c]._sounds[d]._paused)return a;return a._suspendTimer&&clearTimeout(a._suspendTimer),a._suspendTimer=setTimeout(function(){a.autoSuspend&&(a._suspendTimer=null,a.state="suspending",a.ctx.suspend().then(function(){a.state="suspended",a._resumeAfterSuspend&&(delete a._resumeAfterSuspend,a._autoResume())}))},3e4),a}},_autoResume:function(){var a=this;if(a.ctx&&void 0!==a.ctx.resume&&b.usingWebAudio)return"running"===a.state&&a._suspendTimer?(clearTimeout(a._suspendTimer),a._suspendTimer=null):"suspended"===a.state?(a.ctx.resume().then(function(){a.state="running";for(var b=0;b<a._howls.length;b++)a._howls[b]._emit("resume")}),a._suspendTimer&&(clearTimeout(a._suspendTimer),a._suspendTimer=null)):"suspending"===a.state&&(a._resumeAfterSuspend=!0),a}};var b=new a,c=function(a){var b=this;if(!a.src||0===a.src.length)return void console.error("An array of source files must be passed with any new Howl.");b.init(a)};c.prototype={init:function(a){var c=this;return b.ctx||j(),c._autoplay=a.autoplay||!1,c._format="string"!=typeof a.format?a.format:[a.format],c._html5=a.html5||!1,c._muted=a.mute||!1,c._loop=a.loop||!1,c._pool=a.pool||5,c._preload="boolean"!=typeof a.preload||a.preload,c._rate=a.rate||1,c._sprite=a.sprite||{},c._src="string"!=typeof a.src?a.src:[a.src],c._volume=void 0!==a.volume?a.volume:1,c._xhrWithCredentials=a.xhrWithCredentials||!1,c._duration=0,c._state="unloaded",c._sounds=[],c._endTimers={},c._queue=[],c._playLock=!1,c._onend=a.onend?[{fn:a.onend}]:[],c._onfade=a.onfade?[{fn:a.onfade}]:[],c._onload=a.onload?[{fn:a.onload}]:[],c._onloaderror=a.onloaderror?[{fn:a.onloaderror}]:[],c._onplayerror=a.onplayerror?[{fn:a.onplayerror}]:[],c._onpause=a.onpause?[{fn:a.onpause}]:[],c._onplay=a.onplay?[{fn:a.onplay}]:[],c._onstop=a.onstop?[{fn:a.onstop}]:[],c._onmute=a.onmute?[{fn:a.onmute}]:[],c._onvolume=a.onvolume?[{fn:a.onvolume}]:[],c._onrate=a.onrate?[{fn:a.onrate}]:[],c._onseek=a.onseek?[{fn:a.onseek}]:[],c._onresume=[],c._webAudio=b.usingWebAudio&&!c._html5,void 0!==b.ctx&&b.ctx&&b.mobileAutoEnable&&b._enableMobileAudio(),b._howls.push(c),c._autoplay&&c._queue.push({event:"play",action:function(){c.play()}}),c._preload&&c.load(),c},load:function(){var a=this,c=null;if(b.noAudio)return void a._emit("loaderror",null,"No audio support.");"string"==typeof a._src&&(a._src=[a._src]);for(var e=0;e<a._src.length;e++){var g,h;if(a._format&&a._format[e])g=a._format[e];else{if("string"!=typeof(h=a._src[e])){a._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}g=/^data:audio\/([^;,]+);/i.exec(h),g||(g=/\.([^.]+)$/.exec(h.split("?",1)[0])),g&&(g=g[1].toLowerCase())}if(g||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),g&&b.codecs(g)){c=a._src[e];break}}return c?(a._src=c,a._state="loading","https:"===window.location.protocol&&"http:"===c.slice(0,5)&&(a._html5=!0,a._webAudio=!1),new d(a),a._webAudio&&f(a),a):void a._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(a,c){var d=this,e=null;if("number"==typeof a)e=a,a=null;else{if("string"==typeof a&&"loaded"===d._state&&!d._sprite[a])return null;if(void 0===a){a="__default";for(var f=0,g=0;g<d._sounds.length;g++)d._sounds[g]._paused&&!d._sounds[g]._ended&&(f++,e=d._sounds[g]._id);1===f?a=null:e=null}}var h=e?d._soundById(e):d._inactiveSound();if(!h)return null;if(e&&!a&&(a=h._sprite||"__default"),"loaded"!==d._state){h._sprite=a,h._ended=!1;var i=h._id;return d._queue.push({event:"play",action:function(){d.play(i)}}),i}if(e&&!h._paused)return c||d._loadQueue("play"),h._id;d._webAudio&&b._autoResume();var j=Math.max(0,h._seek>0?h._seek:d._sprite[a][0]/1e3),k=Math.max(0,(d._sprite[a][0]+d._sprite[a][1])/1e3-j),l=1e3*k/Math.abs(h._rate);h._paused=!1,h._ended=!1,h._sprite=a,h._seek=j,h._start=d._sprite[a][0]/1e3,h._stop=(d._sprite[a][0]+d._sprite[a][1])/1e3,h._loop=!(!h._loop&&!d._sprite[a][2]);var m=h._node;if(d._webAudio){var n=function(){d._refreshBuffer(h);var a=h._muted||d._muted?0:h._volume;m.gain.setValueAtTime(a,b.ctx.currentTime),h._playStart=b.ctx.currentTime,void 0===m.bufferSource.start?h._loop?m.bufferSource.noteGrainOn(0,j,86400):m.bufferSource.noteGrainOn(0,j,k):h._loop?m.bufferSource.start(0,j,86400):m.bufferSource.start(0,j,k),l!==1/0&&(d._endTimers[h._id]=setTimeout(d._ended.bind(d,h),l)),c||setTimeout(function(){d._emit("play",h._id)},0)};"running"===b.state?n():(d.once("resume",n),d._clearTimer(h._id))}else{var o=function(){m.currentTime=j,m.muted=h._muted||d._muted||b._muted||m.muted,m.volume=h._volume*b.volume(),m.playbackRate=h._rate;try{var e=m.play();if("undefined"!=typeof Promise&&e instanceof Promise){d._playLock=!0;var f=function(){d._playLock=!1,c||d._emit("play",h._id)};e.then(f,f)}else c||d._emit("play",h._id);if(m.playbackRate=h._rate,m.paused)return void d._emit("playerror",h._id,"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");"__default"!==a||h._loop?d._endTimers[h._id]=setTimeout(d._ended.bind(d,h),l):(d._endTimers[h._id]=function(){d._ended(h),m.removeEventListener("ended",d._endTimers[h._id],!1)},m.addEventListener("ended",d._endTimers[h._id],!1))}catch(g){d._emit("playerror",h._id,g)}},p=window&&window.ejecta||!m.readyState&&b._navigator.isCocoonJS;if(m.readyState>=3||p)o();else{var q=function(){o(),m.removeEventListener(b._canPlayEvent,q,!1)};m.addEventListener(b._canPlayEvent,q,!1),d._clearTimer(h._id)}}return h._id},pause:function(a){var b=this;if("loaded"!==b._state||b._playLock)return b._queue.push({event:"pause",action:function(){b.pause(a)}}),b;for(var c=b._getSoundIds(a),d=0;d<c.length;d++){b._clearTimer(c[d]);var e=b._soundById(c[d]);if(e&&!e._paused&&(e._seek=b.seek(c[d]),e._rateSeek=0,e._paused=!0,b._stopFade(c[d]),e._node))if(b._webAudio){if(!e._node.bufferSource)continue;void 0===e._node.bufferSource.stop?e._node.bufferSource.noteOff(0):e._node.bufferSource.stop(0),b._cleanBuffer(e._node)}else isNaN(e._node.duration)&&e._node.duration!==1/0||e._node.pause();arguments[1]||b._emit("pause",e?e._id:null)}return b},stop:function(a,b){var c=this;if("loaded"!==c._state)return c._queue.push({event:"stop",action:function(){c.stop(a)}}),c;for(var d=c._getSoundIds(a),e=0;e<d.length;e++){c._clearTimer(d[e]);var f=c._soundById(d[e]);f&&(f._seek=f._start||0,f._rateSeek=0,f._paused=!0,f._ended=!0,c._stopFade(d[e]),f._node&&(c._webAudio?f._node.bufferSource&&(void 0===f._node.bufferSource.stop?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),c._cleanBuffer(f._node)):isNaN(f._node.duration)&&f._node.duration!==1/0||(f._node.currentTime=f._start||0,f._node.pause())),b||c._emit("stop",f._id))}return c},mute:function(a,c){var d=this;if("loaded"!==d._state)return d._queue.push({event:"mute",action:function(){d.mute(a,c)}}),d;if(void 0===c){if("boolean"!=typeof a)return d._muted;d._muted=a}for(var e=d._getSoundIds(c),f=0;f<e.length;f++){var g=d._soundById(e[f]);g&&(g._muted=a,g._interval&&d._stopFade(g._id),d._webAudio&&g._node?g._node.gain.setValueAtTime(a?0:g._volume,b.ctx.currentTime):g._node&&(g._node.muted=!!b._muted||a),d._emit("mute",g._id))}return d},volume:function(){var a,c,d=this,e=arguments;if(0===e.length)return d._volume;if(1===e.length||2===e.length&&void 0===e[1]){d._getSoundIds().indexOf(e[0])>=0?c=parseInt(e[0],10):a=parseFloat(e[0])}else e.length>=2&&(a=parseFloat(e[0]),c=parseInt(e[1],10));var f;if(!(void 0!==a&&a>=0&&a<=1))return f=c?d._soundById(c):d._sounds[0],f?f._volume:0;if("loaded"!==d._state)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,e)}}),d;void 0===c&&(d._volume=a),c=d._getSoundIds(c);for(var g=0;g<c.length;g++)(f=d._soundById(c[g]))&&(f._volume=a,e[2]||d._stopFade(c[g]),d._webAudio&&f._node&&!f._muted?f._node.gain.setValueAtTime(a,b.ctx.currentTime):f._node&&!f._muted&&(f._node.volume=a*b.volume()),d._emit("volume",f._id));return d},fade:function(a,c,d,e){var f=this;if("loaded"!==f._state)return f._queue.push({event:"fade",action:function(){f.fade(a,c,d,e)}}),f;f.volume(a,e);for(var g=f._getSoundIds(e),h=0;h<g.length;h++){var i=f._soundById(g[h]);if(i){if(e||f._stopFade(g[h]),f._webAudio&&!i._muted){var j=b.ctx.currentTime,k=j+d/1e3;i._volume=a,i._node.gain.setValueAtTime(a,j),i._node.gain.linearRampToValueAtTime(c,k)}f._startFadeInterval(i,a,c,d,g[h],void 0===e)}}return f},_startFadeInterval:function(a,b,c,d,e,f){var g=this,h=b,i=c-b,j=Math.abs(i/.01),k=Math.max(4,j>0?d/j:d),l=Date.now();a._fadeTo=c,a._interval=setInterval(function(){var e=(Date.now()-l)/d;l=Date.now(),h+=i*e,h=Math.max(0,h),h=Math.min(1,h),h=Math.round(100*h)/100,g._webAudio?a._volume=h:g.volume(h,a._id,!0),f&&(g._volume=h),(c<b&&h<=c||c>b&&h>=c)&&(clearInterval(a._interval),a._interval=null,a._fadeTo=null,g.volume(c,a._id),g._emit("fade",a._id))},k)},_stopFade:function(a){var c=this,d=c._soundById(a);return d&&d._interval&&(c._webAudio&&d._node.gain.cancelScheduledValues(b.ctx.currentTime),clearInterval(d._interval),d._interval=null,c.volume(d._fadeTo,a),d._fadeTo=null,c._emit("fade",a)),c},loop:function(){var a,b,c,d=this,e=arguments;if(0===e.length)return d._loop;if(1===e.length){if("boolean"!=typeof e[0])return!!(c=d._soundById(parseInt(e[0],10)))&&c._loop;a=e[0],d._loop=a}else 2===e.length&&(a=e[0],b=parseInt(e[1],10));for(var f=d._getSoundIds(b),g=0;g<f.length;g++)(c=d._soundById(f[g]))&&(c._loop=a,d._webAudio&&c._node&&c._node.bufferSource&&(c._node.bufferSource.loop=a,a&&(c._node.bufferSource.loopStart=c._start||0,c._node.bufferSource.loopEnd=c._stop)));return d},rate:function(){var a,c,d=this,e=arguments;if(0===e.length)c=d._sounds[0]._id;else if(1===e.length){var f=d._getSoundIds(),g=f.indexOf(e[0]);g>=0?c=parseInt(e[0],10):a=parseFloat(e[0])}else 2===e.length&&(a=parseFloat(e[0]),c=parseInt(e[1],10));var h;if("number"!=typeof a)return h=d._soundById(c),h?h._rate:d._rate;if("loaded"!==d._state)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,e)}}),d;void 0===c&&(d._rate=a),c=d._getSoundIds(c);for(var i=0;i<c.length;i++)if(h=d._soundById(c[i])){h._rateSeek=d.seek(c[i]),h._playStart=d._webAudio?b.ctx.currentTime:h._playStart,h._rate=a,d._webAudio&&h._node&&h._node.bufferSource?h._node.bufferSource.playbackRate.setValueAtTime(a,b.ctx.currentTime):h._node&&(h._node.playbackRate=a);var j=d.seek(c[i]),k=(d._sprite[h._sprite][0]+d._sprite[h._sprite][1])/1e3-j,l=1e3*k/Math.abs(h._rate);!d._endTimers[c[i]]&&h._paused||(d._clearTimer(c[i]),d._endTimers[c[i]]=setTimeout(d._ended.bind(d,h),l)),d._emit("rate",h._id)}return d},seek:function(){var a,c,d=this,e=arguments;if(0===e.length)c=d._sounds[0]._id;else if(1===e.length){var f=d._getSoundIds(),g=f.indexOf(e[0]);g>=0?c=parseInt(e[0],10):d._sounds.length&&(c=d._sounds[0]._id,a=parseFloat(e[0]))}else 2===e.length&&(a=parseFloat(e[0]),c=parseInt(e[1],10));if(void 0===c)return d;if("loaded"!==d._state)return d._queue.push({event:"seek",action:function(){d.seek.apply(d,e)}}),d;var h=d._soundById(c);if(h){if(!("number"==typeof a&&a>=0)){if(d._webAudio){var i=d.playing(c)?b.ctx.currentTime-h._playStart:0,j=h._rateSeek?h._rateSeek-h._seek:0;return h._seek+(j+i*Math.abs(h._rate))}return h._node.currentTime}var k=d.playing(c);if(k&&d.pause(c,!0),h._seek=a,h._ended=!1,d._clearTimer(c),k&&d.play(c,!0),!d._webAudio&&h._node&&(h._node.currentTime=a),k&&!d._webAudio){var l=function(){d._playLock?setTimeout(l,0):d._emit("seek",c)};setTimeout(l,0)}else d._emit("seek",c)}return d},playing:function(a){var b=this;if("number"==typeof a){var c=b._soundById(a);return!!c&&!c._paused}for(var d=0;d<b._sounds.length;d++)if(!b._sounds[d]._paused)return!0;return!1},duration:function(a){var b=this,c=b._duration,d=b._soundById(a);return d&&(c=b._sprite[d._sprite][1]/1e3),c},state:function(){return this._state},unload:function(){for(var a=this,c=a._sounds,d=0;d<c.length;d++){if(c[d]._paused||a.stop(c[d]._id),!a._webAudio){/MSIE |Trident\//.test(b._navigator&&b._navigator.userAgent)||(c[d]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),c[d]._node.removeEventListener("error",c[d]._errorFn,!1),c[d]._node.removeEventListener(b._canPlayEvent,c[d]._loadFn,!1)}delete c[d]._node,a._clearTimer(c[d]._id);var f=b._howls.indexOf(a);f>=0&&b._howls.splice(f,1)}var g=!0;for(d=0;d<b._howls.length;d++)if(b._howls[d]._src===a._src){g=!1;break}return e&&g&&delete e[a._src],b.noAudio=!1,a._state="unloaded",a._sounds=[],a=null,null},on:function(a,b,c,d){var e=this,f=e["_on"+a];return"function"==typeof b&&f.push(d?{id:c,fn:b,once:d}:{id:c,fn:b}),e},off:function(a,b,c){var d=this,e=d["_on"+a],f=0;if("number"==typeof b&&(c=b,b=null),b||c)for(f=0;f<e.length;f++){var g=c===e[f].id;if(b===e[f].fn&&g||!b&&g){e.splice(f,1);break}}else if(a)d["_on"+a]=[];else{var h=Object.keys(d);for(f=0;f<h.length;f++)0===h[f].indexOf("_on")&&Array.isArray(d[h[f]])&&(d[h[f]]=[])}return d},once:function(a,b,c){var d=this;return d.on(a,b,c,1),d},_emit:function(a,b,c){for(var d=this,e=d["_on"+a],f=e.length-1;f>=0;f--)e[f].id&&e[f].id!==b&&"load"!==a||(setTimeout(function(a){a.call(this,b,c)}.bind(d,e[f].fn),0),e[f].once&&d.off(a,e[f].fn,e[f].id));return d._loadQueue(a),d},_loadQueue:function(a){var b=this;if(b._queue.length>0){var c=b._queue[0];c.event===a&&(b._queue.shift(),b._loadQueue()),a||c.action()}return b},_ended:function(a){var c=this,d=a._sprite;if(!c._webAudio&&a._node&&!a._node.paused&&!a._node.ended&&a._node.currentTime<a._stop)return setTimeout(c._ended.bind(c,a),100),c;var e=!(!a._loop&&!c._sprite[d][2]);if(c._emit("end",a._id),!c._webAudio&&e&&c.stop(a._id,!0).play(a._id),c._webAudio&&e){c._emit("play",a._id),a._seek=a._start||0,a._rateSeek=0,a._playStart=b.ctx.currentTime;var f=1e3*(a._stop-a._start)/Math.abs(a._rate);c._endTimers[a._id]=setTimeout(c._ended.bind(c,a),f)}return c._webAudio&&!e&&(a._paused=!0,a._ended=!0,a._seek=a._start||0,a._rateSeek=0,c._clearTimer(a._id),c._cleanBuffer(a._node),b._autoSuspend()),c._webAudio||e||c.stop(a._id),c},_clearTimer:function(a){var b=this;if(b._endTimers[a]){if("function"!=typeof b._endTimers[a])clearTimeout(b._endTimers[a]);else{var c=b._soundById(a);c&&c._node&&c._node.removeEventListener("ended",b._endTimers[a],!1)}delete b._endTimers[a]}return b},_soundById:function(a){for(var b=this,c=0;c<b._sounds.length;c++)if(a===b._sounds[c]._id)return b._sounds[c];return null},_inactiveSound:function(){var a=this;a._drain();for(var b=0;b<a._sounds.length;b++)if(a._sounds[b]._ended)return a._sounds[b].reset();return new d(a)},_drain:function(){var a=this,b=a._pool,c=0,d=0;if(!(a._sounds.length<b)){for(d=0;d<a._sounds.length;d++)a._sounds[d]._ended&&c++;for(d=a._sounds.length-1;d>=0;d--){if(c<=b)return;a._sounds[d]._ended&&(a._webAudio&&a._sounds[d]._node&&a._sounds[d]._node.disconnect(0),a._sounds.splice(d,1),c--)}}},_getSoundIds:function(a){var b=this;if(void 0===a){for(var c=[],d=0;d<b._sounds.length;d++)c.push(b._sounds[d]._id);return c}return[a]},_refreshBuffer:function(a){var c=this;return a._node.bufferSource=b.ctx.createBufferSource(),a._node.bufferSource.buffer=e[c._src],a._panner?a._node.bufferSource.connect(a._panner):a._node.bufferSource.connect(a._node),a._node.bufferSource.loop=a._loop,a._loop&&(a._node.bufferSource.loopStart=a._start||0,a._node.bufferSource.loopEnd=a._stop),a._node.bufferSource.playbackRate.setValueAtTime(a._rate,b.ctx.currentTime),c},_cleanBuffer:function(a){var c=this;if(b._scratchBuffer){a.bufferSource.onended=null,a.bufferSource.disconnect(0);try{a.bufferSource.buffer=b._scratchBuffer}catch(d){}}return a.bufferSource=null,c}};var d=function(a){this._parent=a,this.init()};d.prototype={init:function(){var a=this,c=a._parent;return a._muted=c._muted,a._loop=c._loop,a._volume=c._volume,a._rate=c._rate,a._seek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++b._counter,c._sounds.push(a),a.create(),a},create:function(){var a=this,c=a._parent,d=b._muted||a._muted||a._parent._muted?0:a._volume;return c._webAudio?(a._node=void 0===b.ctx.createGain?b.ctx.createGainNode():b.ctx.createGain(),a._node.gain.setValueAtTime(d,b.ctx.currentTime),a._node.paused=!0,a._node.connect(b.masterGain)):(a._node=new Audio,a._errorFn=a._errorListener.bind(a),a._node.addEventListener("error",a._errorFn,!1),a._loadFn=a._loadListener.bind(a),a._node.addEventListener(b._canPlayEvent,a._loadFn,!1),a._node.src=c._src,a._node.preload="auto",a._node.volume=d*b.volume(),a._node.load()),a},reset:function(){var a=this,c=a._parent;return a._muted=c._muted,a._loop=c._loop,a._volume=c._volume,a._rate=c._rate,a._seek=0,a._rateSeek=0,a._paused=!0,a._ended=!0,a._sprite="__default",a._id=++b._counter,a},_errorListener:function(){var a=this;a._parent._emit("loaderror",a._id,a._node.error?a._node.error.code:0),a._node.removeEventListener("error",a._errorFn,!1)},_loadListener:function(){var a=this,c=a._parent;c._duration=Math.ceil(10*a._node.duration)/10,0===Object.keys(c._sprite).length&&(c._sprite={__default:[0,1e3*c._duration]}),"loaded"!==c._state&&(c._state="loaded",c._emit("load"),c._loadQueue()),a._node.removeEventListener(b._canPlayEvent,a._loadFn,!1)}};var e={},f=function(a){var b=a._src;if(e[b])return a._duration=e[b].duration,void i(a);if(/^data:[^;]+;base64,/.test(b)){for(var c=atob(b.split(",")[1]),d=new Uint8Array(c.length),f=0;f<c.length;++f)d[f]=c.charCodeAt(f);h(d.buffer,a)}else{var j=new XMLHttpRequest;j.open("GET",b,!0),j.withCredentials=a._xhrWithCredentials,j.responseType="arraybuffer",j.onload=function(){var b=(j.status+"")[0];if("0"!==b&&"2"!==b&&"3"!==b)return void a._emit("loaderror",null,"Failed loading audio file with status: "+j.status+".");h(j.response,a)},j.onerror=function(){a._webAudio&&(a._html5=!0,a._webAudio=!1,a._sounds=[],delete e[b],a.load())},g(j)}},g=function(a){try{a.send()}catch(b){a.onerror()}},h=function(a,c){b.ctx.decodeAudioData(a,function(a){a&&c._sounds.length>0&&(e[c._src]=a,i(c,a))},function(){c._emit("loaderror",null,"Decoding audio data failed.")})},i=function(a,b){b&&!a._duration&&(a._duration=b.duration),0===Object.keys(a._sprite).length&&(a._sprite={__default:[0,1e3*a._duration]}),"loaded"!==a._state&&(a._state="loaded",a._emit("load"),a._loadQueue())},j=function(){try{"undefined"!=typeof AudioContext?b.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?b.ctx=new webkitAudioContext:b.usingWebAudio=!1}catch(f){b.usingWebAudio=!1}var a=/iP(hone|od|ad)/.test(b._navigator&&b._navigator.platform),c=b._navigator&&b._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=c?parseInt(c[1],10):null;if(a&&d&&d<9){var e=/safari/.test(b._navigator&&b._navigator.userAgent.toLowerCase());(b._navigator&&b._navigator.standalone&&!e||b._navigator&&!b._navigator.standalone&&!e)&&(b.usingWebAudio=!1)}b.usingWebAudio&&(b.masterGain=void 0===b.ctx.createGain?b.ctx.createGainNode():b.ctx.createGain(),b.masterGain.gain.setValueAtTime(b._muted?0:1,b.ctx.currentTime),b.masterGain.connect(b.ctx.destination)),b._setup()};"function"==typeof define&&define.amd&&define([],function(){return{Howler:b,Howl:c}}),"undefined"!=typeof exports&&(exports.Howler=b,exports.Howl=c),"undefined"!=typeof window?(window.HowlerGlobal=a,window.Howler=b,window.Howl=c,window.Sound=d):"undefined"!=typeof global&&(global.HowlerGlobal=a,global.Howler=b,global.Howl=c,global.Sound=d)}(),function(a){a.fn.qr=function(b){function c(b,c){for(var d=escape(b);-1!=d.indexOf("/");)d=d.replace("/","%2f");var e=document.createElement("div");return $qr=a(e),$qr.css({background:"url('https://chart.apis.google.com/chart?cht=qr&chs="+c+"x"+c+"&chl="+d+"') no-repeat",width:c+"px",height:c+"px",display:"none","border-style":"solid","border-width":"1px",position:"absolute","z-index":"1000"}),a("body").append($qr),e}return this.each(function(){var d={size:"230",delay:"0"};b&&a.extend(d,b);var e=a(this);e.qr_div=c(e.attr("qrtarget"),d.size),e.mouseenter(function(b){e.qr_timeout_id=window.setTimeout(function(){a(e.qr_div).css({display:"block",top:b.pageY+5,left:b.pageX+15})},d.delay)}),e.mouseleave(function(b){null!=e.qr_timeout_id&&(window.clearTimeout(e.qr_timeout_id),e.qr_timeout_id=null),a(e.qr_div).css({display:"none"})})})}}(jQuery),function(a){"use strict";function b(a){throw new RangeError("noUiSlider: "+a)}function c(a,c,d){(a[c]||a[d])&&a[c]===a[d]&&b("(Link) '"+c+"' can't match '"+d+"'.'")}function d(a){return Math.max(Math.min(a,100),0)}function e(a,b){return Math.round(a/b)*b}function f(a,b){return 100/(b-a)}function g(a,b){return typeof a==typeof b}function h(b){return b instanceof a||a.zepto&&a.zepto.isZ(b)}function i(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function j(b){return a.isArray(b)?b:[b]}function k(a,b,c){a.addClass(b),setTimeout(function(){a.removeClass(b)},c)}function l(a,b){return 100*b/(a[1]-a[0])}function m(a,b){return l(a,a[0]<0?b+Math.abs(a[0]):b-a[0])}function n(a,b){return b*(a[1]-a[0])/100+a[0]}function o(a,b){if(b>=a.xVal.slice(-1)[0])return 100;for(var c,d,e,g,h=1;b>=a.xVal[h];)h++;return c=a.xVal[h-1],d=a.xVal[h],e=a.xPct[h-1],g=a.xPct[h],e+m([c,d],b)/f(e,g)}function p(a,b){if(b>=100)return a.xVal.slice(-1)[0];for(var c,d,e,g,h=1;b>=a.xPct[h];)h++;return c=a.xVal[h-1],d=a.xVal[h],e=a.xPct[h-1],g=a.xPct[h],n([c,d],(b-e)*f(e,g))}function q(a,b){for(var c,d,f=1;b>=a.xPct[f];)f++;return a.snap?(c=a.xPct[f-1],d=a.xPct[f],b-c>(d-c)/2?d:c):a.xSteps[f-1]?a.xPct[f-1]+e(b-a.xPct[f-1],a.xSteps[f-1]):b}function r(a){a.preventDefault();var b,c,d=0===a.type.indexOf("touch"),e=0===a.type.indexOf("mouse"),f=0===a.type.indexOf("pointer"),g=a;return 0===a.type.indexOf("MSPointer")&&(f=!0),a.originalEvent&&(a=a.originalEvent),d&&(b=a.changedTouches[0].pageX,c=a.changedTouches[0].pageY),(e||f)&&(f||void 0!==window.pageXOffset||(window.pageXOffset=document.documentElement.scrollLeft,window.pageYOffset=document.documentElement.scrollTop),b=a.clientX+window.pageXOffset,c=a.clientY+window.pageYOffset),g.points=[b,c],g.cursor=e,g}function s(d){void 0===d&&(d={}),"object"!=typeof d&&b("(Format) 'format' option must be an object.");var e={};a(U).each(function(a,c){void 0===d[c]?e[c]=V[a]:g(d[c],V[a])?("decimals"===c&&(d[c]<0||d[c]>7)&&b("(Format) 'format.decimals' option must be between 0 and 7."),e[c]=d[c]):b("(Format) 'format."+c+"' must be a "+typeof V[a]+".")}),c(e,"mark","thousand"),c(e,"prefix","negative"),c(e,"prefix","negativeBefore"),this.settings=e}function t(b,c){if(!(this instanceof t))throw new Error("Link: Don't use Link as a function. Use the 'new' keyword.");if(!b)throw new RangeError("Link: missing parameters.");this.formatting=b.format||{},this.update=!c;var d=this,e=b.target||function(){},f=b.method,g="string"==typeof e&&0===e.indexOf("-tooltip-"),i="string"==typeof e&&0!==e.indexOf("-"),j="function"==typeof e,k=h(e),l=k&&e.is("input, select, textarea"),m=k&&"function"==typeof f,n=k&&"string"==typeof f&&e[f];if(g)return this.method=f||"html",void(this.el=a(e.replace("-tooltip-","")||"<div/>")[0]);if(i)return this.method="val",this.el=document.createElement("input"),this.el.name=e,void(this.el.type="hidden");if(j)return this.target=!1,void(this.method=e);if(k){if(f&&(m||n))return this.target=e,void(this.method=f);if(!f&&l)return this.method="val",this.target=e,void this.target.on("change",function(b){function c(a,b,c){return[c?a:b,c?b:a]}var e=c(null,a(b.target).val(),d.N);d.obj.val(e,{link:d})});if(!f&&!l)return this.method="html",void(this.target=e)}throw new RangeError("Link: Invalid Link.")}function u(a,c){i(c)||b("'step' is not numeric."),a.xSteps[0]=c}function v(c,d){("object"!=typeof d||a.isArray(d))&&b("'range' is not an object."),a.each(d,function(d,e){var f;"number"==typeof e&&(e=[e]),a.isArray(e)||b("'range' contains invalid value."),f="min"===d?0:"max"===d?100:parseFloat(d),i(f)&&i(e[0])||b("'range' value isn't numeric."),c.xPct.push(f),c.xVal.push(e[0]),f?c.xSteps.push(!isNaN(e[1])&&e[1]):isNaN(e[1])||(c.xSteps[0]=e[1])}),
a.each(c.xSteps,function(a,b){if(!b)return!0;c.xSteps[a]=l([c.xVal[a],c.xVal[a+1]],b)/f(c.xPct[a],c.xPct[a+1])})}function w(c,d){"number"==typeof d&&(d=[d]),(!a.isArray(d)||!d.length||d.length>2)&&b("'start' option is incorrect."),c.handles=d.length,c.start=d}function x(a,c){a.snap=c,"boolean"!=typeof c&&b("'snap' option must be a boolean.")}function y(a,c){"lower"===c&&1===a.handles?a.connect=1:"upper"===c&&1===a.handles?a.connect=2:!0===c&&2===a.handles?a.connect=3:!1===c?a.connect=0:b("'connect' option was doesn't match handle count.")}function z(a,c){switch(c){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:b("'orientation' option is invalid.")}}function A(a,c){a.xPct.length>2&&b("'margin' option is only supported on linear sliders."),a.margin=l(a.xVal,c),i(c)||b("'margin' option must be numeric.")}function B(a,c){switch(c){case"ltr":a.dir=0;break;case"rtl":a.dir=1,a.connect=[0,2,1,3][a.connect];break;default:b("'direction' option was not recognized.")}}function C(a,c){"string"!=typeof c&&b("'behaviour' must be a string containing options.");var d=c.indexOf("tap")>=0,e=c.indexOf("extend")>=0,f=c.indexOf("drag")>=0,g=c.indexOf("fixed")>=0,h=c.indexOf("snap")>=0;a.events={tap:d||h,extend:e,drag:f,fixed:g,snap:h}}function D(c,d,e){c.ser=[d.lower,d.upper],c.formatting=new s(d.format),a.each(c.ser,function(c,f){a.isArray(f)||b("'serialization."+(c?"upper":"lower")+"' must be an array."),a.each(f,function(){this instanceof t||b("'serialization."+(c?"upper":"lower")+"' can only contain Link instances."),this.N=c,this.obj=e,this.scope=this.scope||e,this.formatting=new s(a.extend({},d.format,this.formatting))})}),c.dir&&c.handles>1&&c.ser.reverse()}function E(c,d){var e,f={xPct:[],xVal:[],xSteps:[!1],margin:0};return e={step:{r:!1,t:u},range:{r:!0,t:v},start:{r:!0,t:w},snap:{r:!1,t:x},connect:{r:!0,t:y},orientation:{r:!1,t:z},margin:{r:!1,t:A},direction:{r:!0,t:B},behaviour:{r:!0,t:C},serialization:{r:!0,t:D}},c=a.extend({connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal"},c),c.serialization=a.extend({lower:[],upper:[],format:{}},c.serialization),a.each(e,function(a,e){if(void 0===c[a]){if(!e.r)return!0;b("'"+a+"' is required.")}e.t(f,c[a],d)}),f.style=f.ort?"top":"left",f}function F(b,c){var d=a("<div><div/></div>").addClass(T[2]),e=["-lower","-upper"];return b.dir&&e.reverse(),d.children().addClass(T[3]+" "+T[3]+e[c]),d}function G(b,c){return c.el&&(c=new t({target:a(c.el).clone().appendTo(b),method:c.method,format:c.formatting},!0)),c}function H(a,b,c){var d,e=[];for(e.push(new t({format:c},!0)),d=0;d<a.length;d++)e.push(G(b,a[d]));return e}function I(a,b){var c,d=[];for(c=0;c<a.handles;c++)d[c]=H(a.ser[c],b[c].children(),a.formatting);return d}function J(a,b,c){switch(a){case 1:b.addClass(T[7]),c[0].addClass(T[6]);break;case 3:c[1].addClass(T[6]);case 2:c[0].addClass(T[7]);case 0:b.addClass(T[6])}}function K(a,b){var c,d=[];for(c=0;c<a.handles;c++)d.push(F(a,c).appendTo(b));return d}function L(b,c){return c.addClass([T[0],T[8+b.dir],T[4+b.ort]].join(" ")),a("<div/>").appendTo(c).addClass(T[1])}function M(b,c,e){function f(){return v[["width","height"][c.ort]]()}function g(a){var b,c=[y.val()];for(b=0;b<a.length;b++)y.trigger(a[b],c)}function h(b,e,f){var g=b[0]!==x[0][0]?1:0,h=z[0]+c.margin,i=z[1]-c.margin;return f&&x.length>1&&(e=g?Math.max(e,h):Math.min(e,i)),e<100&&(e=q(c,e)),(e=d(parseFloat(e.toFixed(7))))===z[g]?1!==x.length&&((e===h||e===i)&&0):(b.css(c.style,e+"%"),b.is(":first-child")&&b.toggleClass(T[17],e>50),z[g]=e,c.dir&&(e=100-e),a(w[g]).each(function(){this.write(c,e,b.children(),y)}),!0)}function i(a,b,c){var e=a+b[0],f=a+b[1];return c?(e<0&&(f+=Math.abs(e)),f>100&&(e-=f-100),[d(e),d(f)]):[e,f]}function j(a,b,c){c||k(y,T[14],300),h(a,b,!1),g(["slide","set","change"])}function l(a,b,d,e){return a=a.replace(/\s/g,Q+" ")+Q,b.on(a,function(a){var b=y.attr("disabled");if(b=!(void 0===b||null===b),y.hasClass(T[14])||b)return!1;a=r(a),a.calcPoint=a.points[c.ort],d(a,e)})}function m(a,b){var c,d=b.handles||x,e=!1,j=100*(a.calcPoint-b.start)/f(),k=d[0][0]!==x[0][0]?1:0;c=i(j,b.positions,d.length>1),e=h(d[0],c[k],1===d.length),d.length>1&&(e=h(d[1],c[k?0:1],!1)||e),e&&g(["slide"])}function n(b){a("."+T[15]).removeClass(T[15]),b.cursor&&a("body").css("cursor","").off(Q),P.off(Q),y.removeClass(T[12]),g(["set","change"])}function p(b,c){1===c.handles.length&&c.handles[0].children().addClass(T[15]),b.stopPropagation(),l(S.move,P,m,{start:b.calcPoint,handles:c.handles,positions:[z[0],z[x.length-1]]}),l(S.end,P,n,null),b.cursor&&(a("body").css("cursor",a(b.target).css("cursor")),x.length>1&&y.addClass(T[12]),a("body").on("selectstart"+Q,!1))}function s(b){var d,e=b.calcPoint,g=0;b.stopPropagation(),a.each(x,function(){g+=this.offset()[c.style]}),g=e<g/2||1===x.length?0:1,e-=v.offset()[c.style],d=100*e/f(),j(x[g],d,c.events.snap),c.events.snap&&p(b,{handles:[x[g]]})}function t(a){var b=a.calcPoint<v.offset()[c.style],d=b?0:100;b=b?0:x.length-1,j(x[b],d,!1)}function u(a){var b,c;if(!a.fixed)for(b=0;b<x.length;b++)l(S.start,x[b].children(),p,{handles:[x[b]]});a.tap&&l(S.start,v,s,{handles:x}),a.extend&&(y.addClass(T[16]),a.tap&&l(S.start,y,t,{handles:x})),a.drag&&(c=v.find("."+T[7]).addClass(T[10]),a.fixed&&(c=c.add(v.children().not(c).children())),l(S.start,c,p,{handles:x}))}var v,w,x,y=a(b),z=[-1,-1];if(!y.is(":empty"))throw new Error("Slider was already initialized.");v=L(c,y),x=K(c,v),w=I(c,x),J(c.connect,y,x),u(c.events),b.vSet=function(b,d,e,f,i){var j,l;for(c.dir&&c.handles>1&&b.reverse(),i&&k(y,T[14],300),j=0;j<(x.length>1?3:1);j++)l=e||w[j%2][0],!1!==(l=l.valueOf(b[j%2]))&&(l=o(c,l),c.dir&&(l=100-l),!0!==h(x[j%2],l,!0)&&a(w[j%2]).each(function(){this.write(c,z[j%2],x[j%2].children(),y,f)}));return!0===d&&g(["set"]),this},b.vGet=function(){var a,b=[];for(a=0;a<c.handles;a++)b[a]=w[a][0].saved;return 1===b.length?b[0]:c.dir&&c.handles>1?b.reverse():b},b.destroy=function(){return a.each(w,function(){a.each(this,function(){this.target&&this.target.off(Q)})}),a(this).off(Q).removeClass(T.join(" ")).empty(),e},y.val(c.start)}function N(a){this.length||b("Can't initialize slider on empty selection.");var c=E(a,this);return this.each(function(){M(this,c,a)})}function O(b){return this.each(function(){var c=a(this).val(),d=this.destroy(),e=a.extend({},d,b);a(this).noUiSlider(e),d.start===e.start&&a(this).val(c)})}var P=a(document),Q=".nui",R=a.fn.val,S=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},T=["noUi-target","noUi-base","noUi-origin","noUi-handle","noUi-horizontal","noUi-vertical","noUi-background","noUi-connect","noUi-ltr","noUi-rtl","noUi-dragable","","noUi-state-drag","","noUi-state-tap","noUi-active","noUi-extended","noUi-stacking"],U=["decimals","mark","thousand","prefix","postfix","encoder","decoder","negative","negativeBefore"],V=[2,".","","","",function(a){return a},function(a){return a},"-",""];s.prototype.v=function(a){return this.settings[a]},s.prototype.to=function(a){function b(a){return a.split("").reverse().join("")}a=this.v("encoder")(a);var c="",d="",e="",f="";return a<0&&(c=this.v("negative"),d=this.v("negativeBefore")),a=Math.abs(a).toFixed(this.v("decimals")).toString(),a=a.split("."),0===parseFloat(a)&&(a[0]="0"),this.v("thousand")?(e=b(a[0]).match(/.{1,3}/g),e=b(e.join(b(this.v("thousand"))))):e=a[0],this.v("mark")&&a.length>1&&(f=this.v("mark")+a[1]),d+this.v("prefix")+c+e+f+this.v("postfix")},s.prototype.from=function(a){function b(a){return a.replace(/[\-\/\\\^$*+?.()|\[\]{}]/g,"\\$&")}var c;return null!==a&&void 0!==a&&(a=a.toString(),c=a.replace(new RegExp("^"+b(this.v("negativeBefore"))),""),a!==c?(a=c,c="-"):c="",a=a.replace(new RegExp("^"+b(this.v("prefix"))),""),this.v.negative&&(c="",a=a.replace(new RegExp("^"+b(this.v("negative"))),"-")),a=a.replace(new RegExp(b(this.v("postfix"))+"$"),"").replace(new RegExp(b(this.v("thousand")),"g"),"").replace(this.v("mark"),"."),a=this.v("decoder")(parseFloat(c+a)),!isNaN(a)&&a)},t.prototype.write=function(a,b,c,d,e){this.update&&!1===e||(b=p(a,b),b=this.format(b),this.saved=b,"function"==typeof this.method?this.method.call(this.target[0]||d[0],b,c,d):this.target[this.method](b,c,d))},t.prototype.format=function(a){return this.formatting.to(a)},t.prototype.valueOf=function(a){return this.formatting.from(a)},a.noUiSlider={Link:t},a.fn.noUiSlider=function(a,b){return(b?O:N).call(this,a)},a.fn.val=function(){var b,c,d,e,f=Array.prototype.slice.call(arguments,0);return f.length?("object"==typeof f[1]?(b=f[1].set,c=f[1].link,d=f[1].update,e=f[1].animate):!0===f[1]&&(b=!0),this.each(function(){a(this).hasClass(T[0])?this.vSet(j(f[0]),b,c,d,e):R.apply(a(this),f)})):this.hasClass(T[0])?this[0].vGet():R.apply(this)}}(window.jQuery||window.Zepto),window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){window.setTimeout(a,1e3/60)}}()),function(){window.visibly={b:null,q:document,p:void 0,prefixes:["webkit","ms"],props:["VisibilityState","visibilitychange","Hidden"],m:["focus","blur"],visibleCallbacks:[],hiddenCallbacks:[],_callbacks:[],onVisible:function(a){this.visibleCallbacks.push(a)},onHidden:function(a){this.hiddenCallbacks.push(a)},isSupported:function(){return this._supports(0)||this._supports(1)},_supports:function(a){return this.prefixes[a]+this.props[2]in this.q},runCallbacks:function(a){if(a){this._callbacks=1==a?this.visibleCallbacks:this.hiddenCallbacks;for(var b=0;b<this._callbacks.length;b++)this._callbacks[b]()}},_visible:function(){window.visibly.runCallbacks(1)},_hidden:function(){window.visibly.runCallbacks(2)},_nativeSwitch:function(){!0===this.q[this.b+this.props[2]]?this._hidden():this._visible()},listen:function(){try{this.isSupported()?(this.b=this._supports(0)==this.p?this.prefixes[1]:this.prefixes[0],this.q.addEventListener(this.b+this.props[1],function(){window.visibly._nativeSwitch.apply(window.visibly,arguments)},1)):document.addEventListener?(window.addEventListener(this.m[0],this._visible,1),window.addEventListener(this.m[1],this._hidden,1)):(this.q.attachEvent("onfocusin",this._visible),this.q.attachEvent("onfocusout",this._hidden))}catch(a){}},init:function(){this.listen()}},this.visibly.init()}(),function(a,b){"function"==typeof define&&define.amd?define([],b):"undefined"!=typeof module&&module.exports?module.exports=b():a.ReconnectingWebSocket=b()}(this,function(){function a(b,c){function d(i){e=new WebSocket(b,c),f.onconnecting(),(f.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",b);var j=e,k=setTimeout(function(){(f.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",b),h=!0,j.close(),h=!1},f.timeoutInterval);e.onopen=function(c){clearTimeout(k),(f.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onopen",b),f.readyState=WebSocket.OPEN,i=!1,f.reconnectAttempts=0,f.onopen(c)},e.onclose=function(c){clearTimeout(k),e=null,g?(f.readyState=WebSocket.CLOSED,f.onclose(c)):(f.readyState=WebSocket.CONNECTING,f.onconnecting(),i||h||((f.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onclose",b),f.onclose(c)),setTimeout(function(){f.reconnectAttempts++,d(!0)},f.reconnectInterval*Math.pow(f.reconnectDecay,f.reconnectAttempts)))},e.onmessage=function(c){(f.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",b,c.data),f.onmessage(c)},e.onerror=function(c){(f.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","onerror",b,c),f.onerror(c)}}c=c||[],this.debug=!1,this.reconnectInterval=1e3,this.reconnectDecay=1.5,this.reconnectAttempts=0,this.timeoutInterval=2e3;var e,f=this,g=!1,h=!1;this.url=b,this.protocols=c,this.readyState=WebSocket.CONNECTING,this.URL=b,this.onopen=function(a){},this.onclose=function(a){},this.onconnecting=function(a){},this.onmessage=function(a){},this.onerror=function(a){},d(!1),this.send=function(c){if(e)return(f.debug||a.debugAll)&&console.debug("ReconnectingWebSocket","send",b,c),e.send(c);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(){g=!0,e&&e.close()},this.refresh=function(){e&&e.close()}}return a.debugAll=!1,a}),extend(Floatable,Block),Floatable.prototype.updateContainerSize=function(){this.pageDivWidth=$(this.pageDiv).width(),this.pageDivHeight=$(this.pageDiv).height()},Floatable.prototype.update=function(a){var b=1,c=a/50;this.x+=this.velocity.x*c,this.y+=this.velocity.y*c,this.velocity.x+=(.1*Math.random()-.05)*c,this.velocity.x>b?this.velocity.x=b:this.velocity.x<-b&&(this.velocity.x=-b),this.x<0?this.velocity.x+=.005*c:this.x>this.pageDivWidth-this.width&&(this.velocity.x-=.005*c),this.updateDiv(),this.y<-this.height&&this.removeSelf()},Floatable.prototype.updateDiv=function(){this.div.style["-webkit-transform"]="translate("+this.x+"px,"+this.y+"px)",this.div.style.transform="translate("+this.x+"px,"+this.y+"px)"},Floatable.prototype.removeSelf=function(){this.pageDiv.removeChild(this.div),updateTargets.splice(updateTargets.indexOf(this),1)},Floatable.prototype.addImage=function(a,b,c){this.canvas=document.createElement("canvas"),this.image=a,this.canvas.height=c,this.canvas.width=b,this.canvas.style.position="absolute",this.canvas.style.top="0px",this.canvas.style.left="0px",this.canvas.getContext("2d").drawImage(this.image,0,0,b-1,c-1),this.div.appendChild(this.canvas)},Floatable.prototype.addText=function(a){this.innerDiv.innerHTML+=a},Floatable.prototype.initPosition=function(){this.x=Math.random()*(this.pageDivWidth-this.width),this.y=this.pageDivHeight,this.updateDiv(),this.div.style.width=this.width+"px",this.div.style.height=this.height+"px",this.innerDiv.style.top=this.height/2-this.innerDiv.offsetHeight/2+"px"};var easterSuccess=function(){var a=new Floatable;a.width=53,a.height=48,a.image=document.createElement("img"),a.image.src="images/easteregg.gif",a.image.height=a.height,a.image.width=a.width,a.image.style.position="absolute",a.image.style.top="0px",a.image.style.left="0px",a.div.appendChild(a.image),a.initPosition(),a.update=function(b){Floatable.prototype.update.call(a,b),a.velocity.x+=.3*Math.random()-.15,a.velocity.x>.1&&$(a.image).css({"-moz-transform":"scaleX(-1)","-o-transform":"scaleX(-1)","-webkit-transform":"scaleX(-1)",transform:"scaleX(-1)"}),a.velocity.x<-.1&&$(a.image).css({"-moz-transform":"scaleX(1)","-o-transform":"scaleX(1)","-webkit-transform":"scaleX(1)",transform:"scaleX(1)"})}};new Konami(easterSuccess);var DEBUG_MODE=!1,DONATION_ADDRESS,SOUND_DONATION_ADDRESS,globalMute=!1,instanceId=0,pageDivId="pageDiv",last_update=0,updateTargets=[],transaction_count=0,bubbleImage=new Image;bubbleImage.src="images/bubble.png";var blockImage=new Image;blockImage.src="images/block.png";var debugSpawner,updateLayoutWidth=function(){$(".chartMask").css("visibility","visible")},updateLayoutHeight=function(){var a=window.innerHeight;"none"!=$("#header").css("display")&&(a-=$("#header").outerHeight()),$("#pageSplitter").height(a)};$(document).ready(function(){prevChartWidth=$("#pageSplitter").width()/2,$("#chartCell").hide(),DONATION_ADDRESS="1CXEWG16ec6mjJbPxnSUE2xHvmzMiB1ZVp",$("#noJavascript").css("display","none"),updateLayoutHeight(),StatusBox.init(DEBUG_MODE),$(".clickSuppress").click(function(){$(".clickSuppress").parent().slideUp(300)}),debugSpawner=function(){if(Math.random()<=.1){var a,b=Math.random();a=b<.6?Math.random():b<.8?10*Math.random():b<.95?100*Math.random():1e3*Math.random(),Math.random()<.5?new Transaction(a,!1):new Transaction(a,!1,75*a,"USD")}},switchExchange("bitstamp"),$("#donationAddress").qr()});var toggleInterface=function(){0===$(".interface:hidden").length?($(".interface").fadeOut(500,updateLayoutHeight),$("#hideInterface").html("[ Show Interface ]"),$("#hideInterface").css("opacity","0.5")):($(".interface").fadeIn(500),$("#hideInterface").html("[ Hide Interface ]"),$("#hideInterface").css("opacity","1"),updateLayoutHeight())},globalUpdate=function(a){window.requestAnimationFrame(globalUpdate);var b=a-last_update;last_update=a;for(var c=0;c<updateTargets.length;c++)updateTargets[c].update(b)};$(window).bind("load",function(){DEBUG_MODE?setInterval(debugSpawner,100):($("#blockchainCheckBox").prop("checked")&&TransactionSocket.init(),$("#mtgoxCheckBox").prop("checked")&&TradeSocket.init()),window.requestAnimationFrame(globalUpdate),Sound.loadup(),Sound.init(0),"running"!==Howler.ctx.state&&$("#init_me").attr("style","display:inherit;"),$("#init_me").bind("click",function(a){return a.preventDefault(),Howler.ctx.resume(),$(this).attr("style","display:none;"),!1})});var endResize=function(){$(".chartMask").css("visibility","hidden");for(var a=0;a<updateTargets.length;a++)updateTargets[a].updateContainerSize()},hideChart=function(){$("#chartElement").hide(),$("#showChart").show(),prevChartWidth=$("#chartCell").width(),$("#chartCell").width(0),$("#chartCell").hide(),$("#pageSplitter").colResizable({disable:!0})},showChart=function(){};$(window).resize(function(){updateLayoutHeight()}),window.onbeforeunload=function(a){clearInterval(globalUpdate),TransactionSocket.close(),TradeSocket.close()};var rateboxTimeout,currentExchange,ratebox_ms=2e4,globalRate=-1;rateboxGetRate=function(){$.getJSON("https://api.coinmarketcap.com/v1/ticker/bitcoin-cash/",function(a){setGlobalRate(a[0].price_usd)})},$(document).ready(function(){rateboxGetRate(),setInterval(rateboxGetRate,ratebox_ms)}),switchExchange=function(a){};var satoshi=1e8,DELAY_CAP=2e4,lastBlockHeight=0,provider_name="blockchain.info",transactionSocketDelay=1e3;TransactionSocket.init=function(){if(TransactionSocket.connection&&TransactionSocket.connection.close(),"WebSocket"in window){var a=new ReconnectingWebSocket("wss://ws.blockchain.info/bch/inv");TransactionSocket.connection=a,StatusBox.reconnecting("blockchain"),a.onopen=function(){console.log("Blockchain.info: Connection open!"),StatusBox.connected("blockchain");var b={op:"unconfirmed_sub"},c={op:"blocks_sub"};a.send(JSON.stringify(b)),a.send(JSON.stringify(c)),a.send(JSON.stringify({op:"ping_tx"}))},a.onclose=function(){console.log("Blockchain.info: Connection closed"),$("#blockchainCheckBox").prop("checked")?StatusBox.reconnecting("blockchain"):StatusBox.closed("blockchain")},a.onerror=function(a){console.log("Blockchain.info: Connection Error: "+a)},a.onmessage=function(a){var b=JSON.parse(a.data);if("no_data"==b.op&&(TransactionSocket.close(),setTimeout(TransactionSocket.init,transactionSocketDelay),transactionSocketDelay*=2,console.log("connection borked, reconnecting")),"utx"==b.op){for(var c=0,d=0;d<b.x.out.length;d++)c+=b.x.out[d].value;for(var e=c/satoshi,f=b.x.out,g=0;g<f.length;g++)if(f[g].addr==DONATION_ADDRESS)return console.log("found donation!",f[g]),e=b.x.out[g].value/satoshi,void new Transaction(e,!0);0===transaction_count?new Transaction(e):setTimeout(function(){new Transaction(e)},Math.random()*DELAY_CAP)}else if("block"==b.op){var h=b.x.height,i=b.x.nTx,j=b.x.estimatedBTCSent,k=b.x.size;h>lastBlockHeight&&(lastBlockHeight=h,console.log("New Block",b),new Block(h,i,j,k))}}}else console.log("No websocket support."),StatusBox.nosupport("blockchain")},TransactionSocket.close=function(){TransactionSocket.connection&&TransactionSocket.connection.close(),StatusBox.closed("blockchain")};var globalVolume=50,globalScalePitch,globalBank,globalShowDollar=!1;Howler.volume(.01*globalVolume);var soundBank=[];soundBank[0]=["planet",33],soundBank[1]=["celesta",22],soundBank[2]=["wikki",13],Sound.loadup=function(){sound0=[],sound1=[],sound2=[],swells0=[],swells1=[],swells2=[]},Sound.init=function(){$("#volumeControl").click(function(){globalMute?(globalMute=!1,Howler.unmute(),$("#volumeControl").css("background-position","0 -46px")):(globalMute=!0,Howler.mute(),$("#volumeControl").css("background-position","0 0"))}),$("#volumeSlider").noUiSlider({range:{min:0,max:100},start:50,handles:1,step:1,orientation:"vertical"}).on("slide",function(){globalVolume=100-$(this).val(),Howler.volume(.01*globalVolume)}),globalScalePitch=$("#scalePitchCheckBox").attr("checked"),Sound.change(0)},Sound.change=function(a){var b,c="Donate to instrument creator (BTC): ";if(1===a){if(0===sound1.length)for(b=1;b<=22;b++)istring=zeroPad(b,3),newSound=new Howl({src:["sounds/celesta/celesta"+istring+".ogg","sounds/celesta/celesta"+istring+".mp3"],autoplay:!1}),sound1.push(newSound);if(0===swells0.length)for(b=1;b<=3;b++)newSound=new Howl({src:["sounds/swells0/swell"+b+".ogg","sounds/swells0/swell"+b+".mp3"],autoplay:!1}),swells1.push(newSound);currentSound=sound1,currentSwells=swells1,$("#musicianDonation").text("")}else if(0===a){if(0===sound0.length)for(b=1;b<=33;b++)istring=zeroPad(b,3),newSound=new Howl({src:["sounds/planet/planet"+istring+".ogg","sounds/planet/planet"+istring+".mp3"],autoplay:!1}),sound0.push(newSound);if(0===swells1.length)for(b=1;b<=3;b++)newSound=new Howl({src:["sounds/swells1/planetswell"+b+".ogg","sounds/swells1/planetswell"+b+".mp3"],autoplay:!1}),swells0.push(newSound);currentSound=sound0,currentSwells=swells0,SOUND_DONATION_ADDRESS="144b31mmaWQVDQFiUPo6HEzxc2Dm83WXrW",$("#musicianDonation").html(c+"<span>"+SOUND_DONATION_ADDRESS+"</span>")}else if(2===a){if(0===sound2.length)for(b=1;b<=13;b++)istring=zeroPad(b,3),newSound=new Howl({urls:["sounds/wikki/wikki"+istring+".ogg","sounds/wikki/wikki"+istring+".mp3"],autoplay:!1}),sound2.push(newSound);if(0===swells2.length)for(b=1;b<=3;b++)newSound=new Howl({urls:["sounds/swells2/wikkiswell"+b+".ogg","sounds/swells2/wikkiswell"+b+".mp3"],autoplay:!1}),swells2.push(newSound);currentSound=sound2,currentSwells=swells2,SOUND_DONATION_ADDRESS="1JFaYRGkDmhpSTbFKwqDWKr2ncvvrgYEAV",$("#musicianDonation").html(c+"<span>"+SOUND_DONATION_ADDRESS+"</span>")}};var currentNotes=0,noteTimeout=500;Sound.playRandomAtVolume=function(a){if(!globalMute){var b=Math.floor(100*Math.random());Sound.playPitchAtVolume(a,b)}},Sound.playPitchAtVolume=function(a,b){if(!globalMute){var c=Math.floor(b/100*currentSound.length);c+=Math.floor(4*Math.random())-2,c=Math.min(currentSound.length-1,c),c=Math.max(0,c),currentNotes<5&&(currentSound[c].volume(a),currentSound[c].play(),currentNotes++,setTimeout(function(){currentNotes--},noteTimeout))}};var lastBlockSound=-1;Sound.playRandomSwell=function(){if(!globalMute){var a;do{a=Math.floor(Math.random()*currentSwells.length)}while(a==lastBlockSound);lastBlockSound=a,currentSwells[a].play()}};var CONNECTED="Connected.",CONNECTING="Connecting...",NO_SUPPORT="No browser support.",CLOSED="Click to connect.",provider_name="blockchain.info";StatusBox.init=function(a){StatusBox.blockchain=$("#blockchainStatus"),StatusBox.mtgox=$("#mtgoxStatus"),a&&(StatusBox.blockchain.html(""),StatusBox.mtgox.html("Debug mode.")),$("#blockchainCheckBox").is(":checked")?StatusBox.reconnecting("blockchain"):StatusBox.closed("blockchain"),$("#mtgoxCheckBox").is(":checked")?StatusBox.reconnecting("mtgox"):StatusBox.closed("mtgox")},StatusBox.connected=function(a){"blockchain"==a&&StatusBox.blockchain.html("Transactions ("+provider_name+'): <span style="color: green;">'+CONNECTED+"</span>"),"mtgox"==a&&StatusBox.mtgox.html('Mt.Gox Trades: <span style="color: green;">'+CONNECTED+"</span>")},StatusBox.reconnecting=function(a){"blockchain"==a&&StatusBox.blockchain.html("Transactions ("+provider_name+'): <span style="color: yellow;">'+CONNECTING+"</span>"),"mtgox"==a&&StatusBox.mtgox.html('Mt.Gox Trades: <span style="color: yellow;">'+CONNECTING+"</span>")},StatusBox.nosupport=function(a){"blockchain"==a&&StatusBox.blockchain.html("Transactions ("+provider_name+'): <span style="color: red;">'+NO_SUPPORT+"</span>"),"mtgox"==a&&StatusBox.mtgox.html('Mt.Gox Trades: <span style="color: red;">'+NO_SUPPORT+"</span>")},StatusBox.closed=function(a){"blockchain"==a&&StatusBox.blockchain.html("Transactions ("+provider_name+'): <span style="color: gray;">'+CLOSED+"</span>"),"mtgox"==a&&StatusBox.mtgox.html('Mt.Gox Trades: <span style="color: gray;">'+CLOSED+"</span>")},extend(Floatable,Transaction);
//# sourceMappingURL=bitlisten.min.js.map