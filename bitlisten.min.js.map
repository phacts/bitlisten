{"version":3,"sources":["lib/extend.js","src/block.js","src/floatable.js","src/ratebox.js","src/socket.js","src/sound.js","src/statusbox.js","src/transaction.js","lib/easteregg.js","lib/howler.js","lib/jquery-qr.js","lib/jquery.nouislider.js","lib/polyfills.js","lib/reconnecting-websocket.js","src/main.js"],"names":["surrogateCtor","extend","base","sub","prototype","constructor","Block","height","numTransactions","outputTotal","blockSize","document","visibilityState","Floatable","call","this","outputBTC","Math","floor","satoshi","blockSizeKB","width","addImage","blockImage","addText","initPosition","Sound","playRandomSwell","velocity","x","y","pageDiv","getElementById","updateContainerSize","div","createElement","className","appendChild","innerDiv","updateTargets","push","setGlobalRate","rate","globalRate","checkbox","$","prop","parent","removeClass","html","parseFloat","toFixed","TransactionSocket","zeroPad","num","places","zero","toString","length","Array","join","StatusBox","Transaction","bitcoins","highlight","currency","currencyName","area","sqrt","PI","bubbleImage","bitcoinString","bitcoinVal","globalShowDollar","maxBitcoins","minVolume","maxVolume","volume","maxPitch","logUsed","pitch","min","log","globalScalePitch","playPitchAtVolume","playRandomAtVolume","transaction_count","style","opacity","Konami","callback","konami","addEvent","obj","type","fn","ref_obj","addEventListener","attachEvent","window","event","input","pattern","load","link","e","keyCode","substr","code","preventDefault","iphone","location","start_x","start_y","stop_x","stop_y","tap","capture","orig_keys","keys","touches","touch","pageX","pageY","check_direction","evt","changedTouches","x_magnitude","abs","y_magnitude","result","slice","HowlerGlobal","init","self","Howler","_counter","_codecs","_howls","_muted","_volume","_canPlayEvent","_navigator","navigator","masterGain","noAudio","usingWebAudio","autoSuspend","ctx","mobileAutoEnable","_setup","vol","setupAudioContext","gain","setValueAtTime","currentTime","i","_webAudio","ids","_getSoundIds","j","sound","_soundById","_node","mute","muted","unload","close","codecs","ext","replace","state","_autoSuspend","Audio","test","oncanplaythrough","_setupCodecs","audioTest","err","canPlayType","mpegTest","checkOpera","userAgent","match","isOldOpera","parseInt","split","mp3","mpeg","opus","ogg","oga","wav","aac","caf","m4a","mp4","weba","webm","dolby","flac","_enableMobileAudio","isMobile","isTouch","maxTouchPoints","msMaxTouchPoints","_mobileEnabled","_mobileUnloaded","sampleRate","_scratchBuffer","createBuffer","unlock","_autoResume","source","createBufferSource","buffer","connect","destination","start","noteOn","resume","onended","disconnect","removeEventListener","suspend","_sounds","_paused","_suspendTimer","clearTimeout","setTimeout","then","_resumeAfterSuspend","_emit","Howl","o","src","console","error","_autoplay","autoplay","_format","format","_html5","html5","_loop","loop","_pool","pool","_preload","preload","_rate","_sprite","sprite","_src","undefined","_xhrWithCredentials","xhrWithCredentials","_duration","_state","_endTimers","_queue","_playLock","_onend","onend","_onfade","onfade","_onload","onload","_onloaderror","onloaderror","_onplayerror","onplayerror","_onpause","onpause","_onplay","onplay","_onstop","onstop","_onmute","onmute","_onvolume","onvolume","_onrate","onrate","_onseek","onseek","_onresume","action","play","url","str","exec","toLowerCase","warn","protocol","loadBuffer","internal","id","_ended","_id","_inactiveSound","soundId","_loadQueue","seek","max","_seek","duration","timeout","_start","_stop","node","playWebAudio","_refreshBuffer","_playStart","bufferSource","noteGrainOn","Infinity","bind","once","_clearTimer","playHtml5","playbackRate","Promise","runLoadQueue","paused","loadedNoReadyState","ejecta","readyState","isCocoonJS","listener","pause","_rateSeek","_stopFade","stop","noteOff","_cleanBuffer","isNaN","arguments","_interval","args","indexOf","apply","fade","from","to","len","end","linearRampToValueAtTime","_startFadeInterval","isGroup","diff","steps","stepLen","lastTick","Date","now","_fadeTo","setInterval","tick","round","clearInterval","cancelScheduledValues","loopStart","loopEnd","index","realTime","playing","rateSeek","emitSeek","sounds","_errorFn","_loadFn","splice","remCache","cache","on","events","off","isId","Object","isArray","msg","task","shift","ended","_drain","reset","limit","cnt","_panner","howl","_parent","create","createGain","createGainNode","_errorListener","_loadListener","ceil","__default","loadSound","data","atob","dataView","Uint8Array","charCodeAt","decodeAudioData","xhr","XMLHttpRequest","open","withCredentials","responseType","status","response","onerror","safeXhrSend","send","arraybuffer","AudioContext","webkitAudioContext","iOS","platform","appVersion","version","safari","standalone","define","amd","exports","global","qr","options","createQR","href","size","escape","$qr","css","background","display","border-style","border-width","position","z-index","append","each","settings","delay","$this","qr_div","attr","mouseenter","qr_timeout_id","top","left","mouseleave","jQuery","throwError","message","RangeError","throwEqualError","F","a","b","closest","value","subRangeRatio","pa","pb","typeMatch","isInstance","isNumeric","isFinite","asArray","addClassFor","element","addClass","fromPercentage","range","toPercentage","isPercentage","toStepping","xVal","va","vb","xPct","fromStepping","getStep","snap","xSteps","fixEvent","mouse","pointer","originalEvent","pageXOffset","documentElement","scrollLeft","pageYOffset","scrollTop","clientX","clientY","points","cursor","Format","Formatting","val","FormatDefaults","Link","entry","update","Error","formatting","that","target","method","isTooltip","isHidden","isMethod","is$","isInput","is","methodIsFunction","methodIsName","el","name","at","c","output","N","testStep","parsed","testRange","percentage","n","testStart","handles","testSnap","testConnect","testOrientation","ort","testMargin","margin","testDirection","dir","testBehaviour","drag","fixed","testSerialization","sliders","ser","scope","reverse","tests","step","r","t","orientation","direction","behaviour","serialization","lower","upper","addHandle","handle","Classes","additions","children","addElement","clone","appendTo","addElements","elements","list","addLinks","links","addConnection","addHandles","addSlider","closure","originalOptions","baseSize","$Base","fireEvents","values","$Target","trigger","setHandle","delimit","$Handles","$Locations","toggleClass","$Serialization","write","getPositions","d","jump","instant","attach","namespace","disabled","hasClass","calcPoint","move","positions","proposal","h","doc","stopPropagation","actions","total","offset","edge","find","add","not","vSet","animate","valueOf","vGet","retour","saved","destroy","empty","initialize","rebuild","newOptions","noUiSlider","$val","pointerEnabled","msPointerEnabled","v","number","negative","preNegative","mark","esc","s","isNeg","RegExp","slider","re","set","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","visibly","q","p","prefixes","props","m","visibleCallbacks","hiddenCallbacks","_callbacks","onVisible","_callback","onHidden","isSupported","_supports","runCallbacks","_visible","_hidden","_nativeSwitch","listen","factory","module","ReconnectingWebSocket","protocols","reconnectAttempt","ws","WebSocket","onconnecting","debug","debugAll","localWs","timedOut","timeoutInterval","onopen","OPEN","reconnectAttempts","onclose","forcedClose","CLOSED","CONNECTING","reconnectInterval","pow","reconnectDecay","onmessage","URL","refresh","pageDivWidth","pageDivHeight","deltatime","HVEL_MAX","random","updateDiv","removeSelf","transform","removeChild","image","canvas","getContext","drawImage","text","innerHTML","offsetHeight","easterSuccess","derpy","time","-moz-transform","-o-transform","-webkit-transform","DEBUG_MODE","DONATION_ADDRESS","SOUND_DONATION_ADDRESS","globalMute","instanceId","pageDivId","last_update","Image","debugSpawner","updateLayoutWidth","updateLayoutHeight","newHeight","innerHeight","outerHeight","ready","prevChartWidth","hide","click","slideUp","order","switchExchange","toggleInterface","fadeOut","fadeIn","globalUpdate","delta","TradeSocket","loadup","vendor","$event","endResize","hideChart","show","colResizable","disable","showChart","resize","onbeforeunload","rateboxTimeout","currentExchange","ratebox_ms","rateboxGetRate","getJSON","price_usd","exchangeName","DELAY_CAP","lastBlockHeight","provider_name","transactionSocketDelay","connection","reconnecting","connected","newTransactions","op","newBlocks","JSON","stringify","closed","parse","transacted","out","outputs","blockHeight","transactions","nTx","volumeSent","estimatedBTCSent","nosupport","globalVolume","globalBank","soundBank","sound0","sound1","sound2","swells0","swells1","swells2","unmute","change","instrument_number","musicianString","istring","newSound","currentSound","currentSwells","urls","currentNotes","noteTimeout","randomPitch","lastBlockSound","randomIndex","CONNECTED","NO_SUPPORT","debugmode","blockchain","mtgox"],"mappings":"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","file":"bitlisten.min.js","sourcesContent":["function surrogateCtor() {}\r\n\r\nfunction extend(base, sub) {\r\n  // Copy the prototype from the base to setup inheritance\r\n  surrogateCtor.prototype = base.prototype;\r\n  // Tricky huh?\r\n  sub.prototype = new surrogateCtor();\r\n  // Remember the constructor property was set wrong, let's fix it\r\n  sub.prototype.constructor = sub;\r\n}","/** \r\n *  @constructor\r\n *  @extends Floatable\r\n */\r\nfunction Block(height, numTransactions, outputTotal, blockSize) {\r\n\tif (document.visibilityState === \"visible\") {\r\n\t\tFloatable.call(this);\r\n\r\n\t\tvar outputBTC = Math.floor(outputTotal / satoshi) + \" BCH\";\r\n\t\tvar blockSizeKB = Math.floor(blockSize / 1024) + \" KB\";\r\n\r\n\t\tthis.width = this.height = 500;\r\n\r\n\t\tthis.addImage(blockImage, this.width, this.height);\r\n\t\tthis.addText(\"Block #\" + height + \"<br />Number of Transactions: \" + numTransactions + \"<br />Transaction Volume: \" + outputBTC + \"<br />Block Size: \" + blockSizeKB);\r\n\t\tthis.initPosition();\r\n\t}\r\n\t\r\n\t// Sound\r\n\tSound.playRandomSwell();\r\n}\r\n\r\nextend(Floatable, Block);\r\n","/** @constructor */\nfunction Floatable() {\n\tthis.velocity = {\n\t\tx : 0,\n\t\ty : -1\n\t};\n\t\n\tthis.pageDiv = document.getElementById(\"bubbleDiv\");\n\tthis.updateContainerSize();\n\n\tthis.div = document.createElement(\"div\");\n\tthis.div.className = \"floatableDiv\";\n\tthis.pageDiv.appendChild(this.div);\n\tthis.innerDiv = document.createElement(\"div\");\n\tthis.div.appendChild(this.innerDiv);\n\tthis.innerDiv.className = \"innerDiv\";\n\n\t// Add this object to the update array\n\tupdateTargets.push(this);\n}\n\nFloatable.prototype.updateContainerSize = function() {\n\tthis.pageDivWidth = $(this.pageDiv).width();\n\tthis.pageDivHeight = $(this.pageDiv).height();\n};\n\nFloatable.prototype.update = function(deltatime) {\n\tvar HVEL_MAX = 1;\n\tvar step = deltatime / 50;\n\t\n\tthis.x += this.velocity.x * step;\n\tthis.y += this.velocity.y * step;\n\n\tthis.velocity.x += (Math.random() * 0.1 - 0.05) * step;\n\tif (this.velocity.x > HVEL_MAX) {\n\t\tthis.velocity.x = HVEL_MAX;\n\t} else if (this.velocity.x < -HVEL_MAX) {\n\t\tthis.velocity.x = -HVEL_MAX;\n\t}\n\tif (this.x < 0) {\n\t\tthis.velocity.x += 0.005 * step;\n\t} else if (this.x > this.pageDivWidth - this.width) {\n\t\tthis.velocity.x -= 0.005 * step;\n\t}\n\n\tthis.updateDiv();\n\n\tif (this.y < -this.height)\n\t\tthis.removeSelf();\n};\n\nFloatable.prototype.updateDiv = function() {\n\tthis.div.style[\"-webkit-transform\"] = \"translate(\" + this.x + \"px,\" + this.y + \"px)\";\n\tthis.div.style.transform = \"translate(\" + this.x + \"px,\" + this.y + \"px)\";\n};\n\nFloatable.prototype.removeSelf = function() {\n\tthis.pageDiv.removeChild(this.div);\n\t// Remove self from update array\n\tupdateTargets.splice(updateTargets.indexOf(this), 1);\n};\n\nFloatable.prototype.addImage = function(image, width, height) {\n\tthis.canvas = document.createElement('canvas');\n\tthis.image = image;\n\tthis.canvas.height = height;\n\tthis.canvas.width = width;\n\tthis.canvas.style.position = \"absolute\";\n\tthis.canvas.style.top = \"0px\";\n\tthis.canvas.style.left = \"0px\";\n\tvar ctx = this.canvas.getContext(\"2d\");\n\tctx.drawImage(this.image, 0, 0, width - 1, height - 1);\n\n\tthis.div.appendChild(this.canvas);\n};\n\nFloatable.prototype.addText = function(text) {\n\tthis.innerDiv.innerHTML += text;\n};\n\nFloatable.prototype.initPosition = function() {\n\tthis.x = Math.random() * (this.pageDivWidth - this.width);\n\tthis.y = this.pageDivHeight;\n\tthis.updateDiv();\n\tthis.div.style.width = this.width + \"px\";\n\tthis.div.style.height = this.height + \"px\";\n\tthis.innerDiv.style.top = (this.height / 2 - this.innerDiv.offsetHeight / 2) + 'px';\n\t// Centers the text within the bubble\n};\n\n// Thanks to Myself-Remastered for the image used in this easter egg\n// http://myself-remastered.deviantart.com/art/Derpy-Delivery-251264643\nvar easterSuccess = function() {\n\tvar derpy = new Floatable();\n\tderpy.width = 53;\n\tderpy.height = 48;\n\t\n\tderpy.image = document.createElement('img');\n\tderpy.image.src = \"images/easteregg.gif\";\n\tderpy.image.height = derpy.height;\n\tderpy.image.width = derpy.width;\n\tderpy.image.style.position = \"absolute\";\n\tderpy.image.style.top = \"0px\";\n\tderpy.image.style.left = \"0px\";\n\tderpy.div.appendChild(derpy.image);\n\t\n\tderpy.initPosition();\n\t\n\tderpy.update = function(time) {\n\t\tFloatable.prototype.update.call(derpy, time);\n\t\tderpy.velocity.x += Math.random() * 0.3 - 0.15;\n\t\tif (derpy.velocity.x > 0.1) {\n\t\t\t$(derpy.image).css({\n\t\t\t\t\"-moz-transform\": \"scaleX(-1)\",\n\t\t\t\t\"-o-transform\": \"scaleX(-1)\",\n\t\t\t\t\"-webkit-transform\": \"scaleX(-1)\",\n\t\t\t\t\"transform\": \"scaleX(-1)\"\n\t\t\t});\n\t\t}\n\t\tif (derpy.velocity.x < -0.1) {\n\t\t\t$(derpy.image).css({\n\t\t\t\t\"-moz-transform\": \"scaleX(1)\",\n\t\t\t\t\"-o-transform\": \"scaleX(1)\",\n\t\t\t\t\"-webkit-transform\": \"scaleX(1)\",\n\t\t\t\t\"transform\": \"scaleX(1)\"\n\t\t\t});\n\t\t}\n\t};\n};\nnew Konami(easterSuccess);\n","var rateboxTimeout;\nvar currentExchange;\nvar ratebox_ms = 20000; // was 3 second update interval\nvar globalRate = -1; // set upon first rate received\n\nfunction setGlobalRate(rate) {\n    if (globalRate === -1) {\n        var checkbox = $(\"#showDollarCheckBox\");\n        checkbox.prop(\"disabled\", false);\n        checkbox.parent().removeClass(\"disabled\");\n    }\n    $(\"#rate\").html(parseFloat(rate).toFixed(2));\n    globalRate = rate;\n}\n\nrateboxGetRate = function() {\n  // $.getJSON(\"https://blockchain.info/ticker?cors=true\", function(data) {\n  $.getJSON(\"https://api.coinmarketcap.com/v1/ticker/bitcoin-cash/\", function(data) {\n        // setGlobalRate(data.USD.last);\n        // console.log(data[0], 'this is data');\n        setGlobalRate(data[0].price_usd);\n    });\n};\n\n$(document).ready(function() {\n\t// Bitstamp websocket API\n    // var pusher = new Pusher('de504dc5763aeef9ff52');\n    // var channel = pusher.subscribe('live_trades');\n    // channel.bind('trade', function(ticker) {\n    //     setGlobalRate(ticker.price);\n    //     if (rateboxTimeout) clearTimeout(rateboxTimeout);\n    // });\n  rateboxGetRate();\n  setInterval(rateboxGetRate, ratebox_ms);\n});\n\nswitchExchange = function(exchangeName) {\n\t// clearTimeout(rateboxTimeout);\n\t// currentExchange = exchangeName;\n\t// $(\"#rate\").html(\"---\");\n\t\n\t// // if (exchangeName == \"bitstamp\") {\n\t// // \t$(\"#bitstampRate\").css(\"color\", \"white\");\n\t// // \t$(\"#mtgoxRate\").css(\"color\", \"gray\");\n\t// // } else if (exchangeName == \"mtgox\") {\n\t// // \t$(\"#mtgoxRate\").css(\"color\", \"white\");\n\t// // \t$(\"#bitstampRate\").css(\"color\", \"gray\");\n\t// // }\n\t\n\t// rateboxGetRate();\n};\n","var satoshi = 100000000;\nvar DELAY_CAP = 20000;\nvar lastBlockHeight = 0;\n\nvar provider_name = \"blockchain.info\";\n\nvar transactionSocketDelay = 1000;\n\n/** @constructor */\nfunction TransactionSocket() {\n\n}\n\nTransactionSocket.init = function() {\n\t// Terminate previous connection, if any\n\tif (TransactionSocket.connection)\n\t\tTransactionSocket.connection.close();\n\n\tif ('WebSocket' in window) {\n\t\tvar connection = new ReconnectingWebSocket('wss://ws.blockchain.info/bch/inv');\n\t\tTransactionSocket.connection = connection;\n\n\t\tStatusBox.reconnecting(\"blockchain\");\n\n\t\tconnection.onopen = function() {\n\t\t\tconsole.log('Blockchain.info: Connection open!');\n\t\t\tStatusBox.connected(\"blockchain\");\n\t\t\tvar newTransactions = {\n\t\t\t\t\"op\" : \"unconfirmed_sub\"\n\t\t\t};\n\t\t\tvar newBlocks = {\n\t\t\t\t\"op\" : \"blocks_sub\"\n\t\t\t};\n\t\t\tconnection.send(JSON.stringify(newTransactions));\n\t\t\tconnection.send(JSON.stringify(newBlocks));\n\t\t\tconnection.send(JSON.stringify({\n\t\t\t\t\"op\" : \"ping_tx\"\n\t\t\t}));\n\t\t\t// Display the latest transaction so the user sees something.\n\t\t};\n\n\t\tconnection.onclose = function() {\n\t\t\tconsole.log('Blockchain.info: Connection closed');\n\t\t\tif ($(\"#blockchainCheckBox\").prop(\"checked\"))\n\t\t\t\tStatusBox.reconnecting(\"blockchain\");\n\t\t\telse\n\t\t\t\tStatusBox.closed(\"blockchain\");\n\t\t};\n\n\t\tconnection.onerror = function(error) {\n\t\t\tconsole.log('Blockchain.info: Connection Error: ' + error);\n\t\t};\n\n\t\tconnection.onmessage = function(e) {\n\t\t\t\n\t\t\tvar data = JSON.parse(e.data);\n\t\t\t// console.log(data, 'data from web socket');\n\t\t\tif (data.op == \"no_data\") {\n\t\t\t    TransactionSocket.close();\n\t\t\t    setTimeout(TransactionSocket.init, transactionSocketDelay);\n\t\t\t    transactionSocketDelay *= 2;\n\t\t\t    console.log(\"connection borked, reconnecting\");\n\t\t\t}\n\n\t\t\t// New Transaction\n\t\t\tif (data.op == \"utx\") {\n\t\t\t\tvar transacted = 0;\n\n\t\t\t\tfor (var i = 0; i < data.x.out.length; i++) {\n\t\t\t\t\ttransacted += data.x.out[i].value;\n\t\t\t\t}\n\n\t\t\t\tvar bitcoins = transacted / satoshi;\n\t\t\t\t//console.log(\"Transaction: \" + bitcoins + \" BTC\");\n\n\t\t\t\tvar donation = false;\n                                var soundDonation = false;\n\t\t\t\tvar outputs = data.x.out;\n\t\t\t\tfor (var j = 0; j < outputs.length; j++) {\n\t\t\t\t\t// console.log('looking for donation!', outputs[j]);\n\t\t\t\t\tif ((outputs[j].addr) == DONATION_ADDRESS) {\n\t\t\t\t\t\tconsole.log('found donation!', outputs[j]);\n\t\t\t\t\t\tbitcoins = data.x.out[j].value / satoshi;\n\t\t\t\t\t\tnew Transaction(bitcoins, true);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n                if (transaction_count === 0) {\n                    new Transaction(bitcoins);\n                } else {\n\t\t\t\t    setTimeout(function() {\n\t\t\t\t\t    new Transaction(bitcoins);\n\t\t\t\t    }, Math.random() * DELAY_CAP);\n\t\t\t\t}\n\n\t\t\t} else if (data.op == \"block\") {\n\t\t\t\tvar blockHeight = data.x.height;\n\t\t\t\tvar transactions = data.x.nTx;\n\t\t\t\tvar volumeSent = data.x.estimatedBTCSent;\n\t\t\t\tvar blockSize = data.x.size;\n\t\t\t\t// Filter out the orphaned blocks.\n\t\t\t\tif (blockHeight > lastBlockHeight) {\n\t\t\t\t\tlastBlockHeight = blockHeight;\n\t\t\t\t\tconsole.log(\"New Block\", data);\n\t\t\t\t\tnew Block(blockHeight, transactions, volumeSent, blockSize);\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\t} else {\n\t\t//WebSockets are not supported.\n\t\tconsole.log(\"No websocket support.\");\n\t\tStatusBox.nosupport(\"blockchain\");\n\t}\n};\n\nTransactionSocket.close = function() {\n\tif (TransactionSocket.connection)\n\t\tTransactionSocket.connection.close();\n\tStatusBox.closed(\"blockchain\");\n};\n","var globalVolume = 50;\nvar globalScalePitch;\nvar globalBank;\nvar globalShowDollar = false;\n//init volume at 50%\nHowler.volume(globalVolume * 0.01);\n\nHowler.autoSuspend = false;\n\n// console.log(Howler.ctx, 'context');\n\nfunction Sound() {\n\n}\n\nvar soundBank = [];\n\t// the second number is the number of sound files available\n\tsoundBank[0] = [\"planet\", 33];\n\tsoundBank[1] = [\"celesta\", 22];\n\tsoundBank[2] = [\"wikki\", 13];\n\nfunction zeroPad(num, places) {\n\tvar zero = places - num.toString().length + 1;\n\treturn Array(+(zero > 0 && zero)).join(\"0\") + num;\n}\n\t\nSound.loadup = function(){\n\tvar newSound;\n\tvar istring;\n\n\t// sound0 = planet\n\tsound0 = []; \n\n    // sound1 = celesta\n\tsound1 = []; \n\n    // sound2 = celestaB\n\tsound2 = []; \n\n\t// String swells0, for blocks\n\tswells0 = [];\n\t\n\t// String swells1, for blocks\n\tswells1 = [];\n\n    // String swells2, for blocks\n\tswells2 = [];\n\t\n\t// These variables are populated (and their sounds loaded) by the Sound.change function below.\n};\n\n\n\nSound.init = function() {\n\n\t// Initialize sound toggle button\n\t$(\"#volumeControl\").click(function() {\n\t\tif (!globalMute) {\n\t\t\tglobalMute = true;\n\t\t\tHowler.mute();\n\t\t\t$(\"#volumeControl\").css(\"background-position\", \"0 0\");\n\t\t} else {\n\t\t\tglobalMute = false;\n\t\t\tHowler.unmute();\n\t\t\t$(\"#volumeControl\").css(\"background-position\", \"0 -46px\");\n\t\t}\n\t});\n    \n\t// Initialize sound slider\n\t$(\"#volumeSlider\").noUiSlider({\n\t\trange : {\n\t\t\t'min': 0,\n\t\t\t'max': 100\n\t\t},\n\t\tstart : 50,\n\t\thandles : 1,\n\t\tstep : 1,\n\t\torientation : \"vertical\"\n\t}).on('slide', function() {\n\t\t\tglobalVolume = 100 - $(this).val();\n\t\t\tHowler.volume(globalVolume * 0.01);\n\t});\n\t\n\tglobalScalePitch = $(\"#scalePitchCheckBox\").attr(\"checked\");\n\tSound.change(0);\n};\n\nSound.change = function(instrument_number) {\n\tvar musicianString = \"Donate to instrument creator (BTC): \";\n\tvar i;\n\t// INSTRUMENT 1\n\tif (instrument_number === 1) {\n\t\t// Load sound and swells if not already loaded\n\t\tif (sound1.length === 0) {\n\t\t\tfor (i = 1; i <= 22; i++) {\n\t\t\t\tistring = zeroPad(i, 3);\n\t\t\t\tnewSound = new Howl({\n\t\t\t\t\t\tsrc: [\"sounds/celesta/\" + \"celesta\" + istring + \".ogg\",\n\t\t\t\t\t\t\t   \"sounds/celesta/\" + \"celesta\" + istring + \".mp3\"],\n\t\t\t\t\t\tautoplay: false\n\t\t\t\t});\n\t\t\t\tsound1.push(newSound);\n\t\t\t}\n\t\t}\n\t\tif (swells0.length === 0) {\n\t\t\tfor (i = 1; i <= 3; i++) {\n\t\t\t\tnewSound = new Howl({\n\t\t\t\t\tsrc: [\"sounds/swells0/swell\" + i +\".ogg\",\n\t\t\t\t\t\t\t\"sounds/swells0/swell\" + i +\".mp3\"],\n\t\t\t\t\tautoplay: false\n\t\t\t\t});\n\t\t\t\tswells1.push(newSound);\n\t\t\t}\n\t\t}\n\t\tcurrentSound = sound1;\n\t\tcurrentSwells = swells1;\n\t\t$('#musicianDonation').text(\"\");\n\t}\n\t// INSTRUMENT 0\n\telse if (instrument_number === 0) {\n\t    // Load sound and swells if not already loaded\n\t\tif (sound0.length === 0) {\n\t\t\tfor (i = 1; i <= 33; i++) {\n\t\t\t\tistring = zeroPad(i, 3);\n\t\t\t\tnewSound = new Howl({\n\t\t\t\t\t\tsrc: [\"sounds/planet/\" + \"planet\" + istring + \".ogg\",\n\t\t\t\t\t\t\t   \"sounds/planet/\" + \"planet\" + istring + \".mp3\"],\n\t\t\t\t\t\tautoplay: false\n\t\t\t\t});\n\t\t\t\tsound0.push(newSound);\n\t\t\t}\n\t\t}\n        if (swells1.length === 0) {\n\t\t\tfor (i = 1; i <= 3; i++) {\n\t\t\t\tnewSound = new Howl({\n\t\t\t\t\tsrc: [\"sounds/swells1/planetswell\" + i +\".ogg\",\n\t\t\t\t\t\t\t\"sounds/swells1/planetswell\" + i +\".mp3\"],\n\t\t\t\t\tautoplay: false\n\t\t\t\t});\n\t\t\t\tswells0.push(newSound);\n\t\t\t}\n\t\t}\n\t\tcurrentSound = sound0;\n\t\tcurrentSwells = swells0;\n\t\tSOUND_DONATION_ADDRESS = \"144b31mmaWQVDQFiUPo6HEzxc2Dm83WXrW\";\n\t\t$('#musicianDonation').html(musicianString + \"<span>\" + SOUND_DONATION_ADDRESS + \"</span>\");\n\t}\n    // INSTRUMENT 2\n\telse if (instrument_number === 2) {\n\t\t// Load sound and swells if not already loaded\n\t\tif (sound2.length === 0) {\n\t\t\tfor (i = 1; i <= 13; i++) {\n\t\t\t\tistring = zeroPad(i, 3);\n\t\t\t\tnewSound = new Howl({\n\t\t\t\t\t\turls: [\"sounds/wikki/\" + \"wikki\" + istring + \".ogg\",\n\t\t\t\t\t\t\t   \"sounds/wikki/\" + \"wikki\" + istring + \".mp3\"],\n\t\t\t\t\t\tautoplay: false\n\t\t\t\t});\n\t\t\t\tsound2.push(newSound);\n\t\t\t}\n\t\t}\n\t\tif (swells2.length === 0) {\n\t\t\tfor (i = 1; i <= 3; i++) {\n\t\t\t\tnewSound = new Howl({\n\t\t\t\t\turls: [\"sounds/swells2/wikkiswell\" + i +\".ogg\",\n\t\t\t\t\t\t\t\"sounds/swells2/wikkiswell\" + i +\".mp3\"],\n\t\t\t\t\tautoplay: false\n\t\t\t\t});\n\t\t\t\tswells2.push(newSound);\n\t\t\t}\n\t\t}\n\t    currentSound = sound2;\n\t\tcurrentSwells = swells2;\n\t\tSOUND_DONATION_ADDRESS = \"1JFaYRGkDmhpSTbFKwqDWKr2ncvvrgYEAV\";\n\t\t$('#musicianDonation').html(musicianString + \"<span>\" + SOUND_DONATION_ADDRESS + \"</span>\");\n\t\t}\n};\n\nvar currentNotes = 0;\nvar noteTimeout = 500;\n\nSound.playRandomAtVolume = function(volume) {\n\tif (globalMute)\n\t\treturn;\n\t\t\n\tvar randomPitch = Math.floor(Math.random() * 100);\n\tSound.playPitchAtVolume(volume, randomPitch);\n};\n\nSound.playPitchAtVolume = function(volume, pitch) {\n\tif (globalMute)\n\t\treturn;\n\t// Find the index corresponding to the requested pitch\n\tvar index = Math.floor(pitch / 100.0 * currentSound.length);\n\t//console.log(\"Pitch: \" + pitch);\n\t\n\t// Here we fuzz the index a bit to prevent the same sound\n\t// from being heard over and over again, which gets annoying\n\tvar fuzz = Math.floor(Math.random() * 4) - 2;\n\tindex += fuzz;\n\tindex = Math.min(currentSound.length - 1, index);\n\tindex = Math.max(0, index);\n\t\n\t//console.log(\"Fuzz: \" + fuzz);\n\t//console.log(\"Index: \" + index);\n\t\n\n\t//var readyState = currentSound[index].get(\"readyState\");\n\tif (currentNotes < 5) {\n                currentSound[index].volume(volume);\n\t\tcurrentSound[index].play();\n\t\tcurrentNotes++;\n\t\tsetTimeout(function() {\n\t\t\tcurrentNotes--;\n\t\t}, noteTimeout);\n\t}\n};\n\nvar lastBlockSound = -1;\nSound.playRandomSwell = function() {\n\tif (globalMute)\n\t\treturn;\n\n\tvar randomIndex;\n\tdo {\n\t\trandomIndex = Math.floor(Math.random() * currentSwells.length);\n\t} while (randomIndex == lastBlockSound);\n\n\tlastBlockSound = randomIndex;\n\n\t//var readyState = this.swells[randomIndex].get(\"readyState\");\n\t//if (readyState >= 2)\n\tcurrentSwells[randomIndex].play();\n};\n","var CONNECTED = \"Connected.\";\nvar CONNECTING = \"Connecting...\";\nvar NO_SUPPORT = \"No browser support.\";\nvar CLOSED = \"Click to connect.\";\n\nvar provider_name = \"blockchain.info\";\n\nfunction StatusBox() {\n\n}\n\nStatusBox.init = function(debugmode) {\n\tStatusBox.blockchain = $(\"#blockchainStatus\");\n\tStatusBox.mtgox = $(\"#mtgoxStatus\");\n\n\tif (debugmode) {\n\t\tStatusBox.blockchain.html(\"\");\n\t\tStatusBox.mtgox.html(\"Debug mode.\");\n\t}\n\n\tif ($(\"#blockchainCheckBox\").is(\":checked\"))\n\t\tStatusBox.reconnecting(\"blockchain\");\n\telse\n\t\tStatusBox.closed(\"blockchain\");\n\n\tif ($(\"#mtgoxCheckBox\").is(\":checked\"))\n\t\tStatusBox.reconnecting(\"mtgox\");\n\telse\n\t\tStatusBox.closed(\"mtgox\");\n};\n// \"type\" can be either \"blockchain\" or \"mtgox\"\nStatusBox.connected = function(type) {\n\tif (type == \"blockchain\")\n\t\tStatusBox.blockchain.html('Transactions (' + provider_name + '): <span style=\"color: green;\">' + CONNECTED + '</span>');\n\tif (type == \"mtgox\")\n\t\tStatusBox.mtgox.html('Mt.Gox Trades: <span style=\"color: green;\">' + CONNECTED + '</span>');\n};\n\nStatusBox.reconnecting = function(type) {\n\tif (type == \"blockchain\")\n\t\tStatusBox.blockchain.html('Transactions (' + provider_name + '): <span style=\"color: yellow;\">' + CONNECTING + '</span>');\n\tif (type == \"mtgox\")\n\t\tStatusBox.mtgox.html('Mt.Gox Trades: <span style=\"color: yellow;\">' + CONNECTING + '</span>');\n};\n\nStatusBox.nosupport = function(type) {\n\tif (type == \"blockchain\")\n\t\tStatusBox.blockchain.html('Transactions (' + provider_name + '): <span style=\"color: red;\">' + NO_SUPPORT + '</span>');\n\tif (type == \"mtgox\")\n\t\tStatusBox.mtgox.html('Mt.Gox Trades: <span style=\"color: red;\">' + NO_SUPPORT + '</span>');\n};\n\nStatusBox.closed = function(type) {\n\tif (type == \"blockchain\")\n\t\tStatusBox.blockchain.html('Transactions (' + provider_name + '): <span style=\"color: gray;\">' + CLOSED + '</span>');\n\tif (type == \"mtgox\")\n\t\tStatusBox.mtgox.html('Mt.Gox Trades: <span style=\"color: gray;\">' + CLOSED + '</span>');\n};\n","/** \n *  @constructor\n *  @extends Floatable\n */\nfunction Transaction(bitcoins, highlight, currency, currencyName) {\n\tif (document.visibilityState === \"visible\") {\n\t\tFloatable.call(this);\n\n\t\tthis.area = bitcoins * 100 + 3000;\n\t\tthis.width = this.height = Math.sqrt(this.area / Math.PI) * 2;\n\n\t\tthis.addImage(bubbleImage, this.width, this.height);\n\t\n\t    var bitcoinVal = bitcoins.toFixed(2);\n\t    var bitcoinString;\n\t    \n\t    if(globalShowDollar === true) {\n    \t\tbitcoinString = \"$\" + (bitcoins*globalRate).toFixed(0);\n    \t} else if (bitcoinVal === \"0.00\") {\n\t        bitcoinString = \"&lt;<span class='bitcoinsymbol'>B</span>0.01\";\n\t    } else {\n\t        bitcoinString = \"<span class='bitcoinsymbol'>B</span>\" + bitcoinVal;\n\t    }\n\t\n\t\tif (!highlight) {\n\t\t\tthis.addText(bitcoinString);\n\t\t} else {\n\t\t\tthis.addText('<span style=\"color: yellow;\">' + bitcoinString + '</span><br /><span style=\"color: cyan;\">Donation</span><br /><span style=\"color: lime;\">Thanks!</span>');\n\t\t}\n\t\tif (currency && currencyName) {\n\t\t\tthis.addText('<br />' + currency.toFixed(2) + ' ' + currencyName);\n\t\t}\n\t\tthis.initPosition();\n\t\t\n\t\t// Sound\n\t    var maxBitcoins = 1000;\n\t    var minVolume = 0.3;\n\t    var maxVolume = 0.7;\n\t    var volume = bitcoins / (maxBitcoins / (maxVolume - minVolume)) + minVolume;\n\t    if (volume > maxVolume)\n\t\t    volume = maxVolume;\n\t\n\t    var maxPitch = 100.0;\n\t    // We need to use a log that makes it so that maxBitcoins reaches the maximum pitch.\n\t    // Well, the opposite of the maximum pitch. Anyway. So we solve:\n\t    // maxPitch = log(maxBitcoins + logUsed) / log(logUsed)\n\t    // For maxPitch = 100 (for 100%) and maxBitcoins = 1000, that gives us...\n\t    var logUsed = 1.0715307808111486871978099;\n\t    // So we find the smallest value between log(bitcoins + logUsed) / log(logUsed) and our max pitch...\n\t    var pitch = Math.min(maxPitch, Math.log(bitcoins + logUsed) / Math.log(logUsed));\n\t    // ...we invert it so that a bigger transaction = a deeper noise...\n\t    pitch = maxPitch - pitch;\n\t    // ...and we play the sound!\n\t    if(globalScalePitch) {\n\t\t    Sound.playPitchAtVolume(volume, pitch);\n\t    } else {\n\t\t    Sound.playRandomAtVolume(volume);\n\t    }\n\t    \n\t    transaction_count++;\n\t    \n\t    if (transaction_count === 5) {\n\t        document.getElementById(\"waitingForTransactions\").style.opacity = \"0\";\n\t    }\n\t\t\n\t}\n\n}\n\nextend(Floatable, Transaction);\n","/*\n * Konami-JS ~ \n * :: Now with support for touch events and multiple instances for \n * :: those situations that call for multiple easter eggs!\n * Code: http://konami-js.googlecode.com/\n * Examples: http://www.snaptortoise.com/konami-js\n * Copyright (c) 2009 George Mandis (georgemandis.com, snaptortoise.com)\n * Version: 1.4.2 (9/2/2013)\n * Licensed under the MIT License (http://opensource.org/licenses/MIT)\n * Tested in: Safari 4+, Google Chrome 4+, Firefox 3+, IE7+, Mobile Safari 2.2.1 and Dolphin Browser\n */\n\nvar Konami = function (callback) {\n\tvar konami = {\n\t\taddEvent: function (obj, type, fn, ref_obj) {\n\t\t\tif (obj.addEventListener)\n\t\t\t\tobj.addEventListener(type, fn, false);\n\t\t\telse if (obj.attachEvent) {\n\t\t\t\t// IE\n\t\t\t\tobj[\"e\" + type + fn] = fn;\n\t\t\t\tobj[type + fn] = function () {\n\t\t\t\t\tobj[\"e\" + type + fn](window.event, ref_obj);\n\t\t\t\t}\n\t\t\t\tobj.attachEvent(\"on\" + type, obj[type + fn]);\n\t\t\t}\n\t\t},\n\t\tinput: \"\",\n\t\tpattern: \"38384040373937396665\",\n\t\tload: function (link) {\n\t\t\tthis.addEvent(document, \"keydown\", function (e, ref_obj) {\n\t\t\t\tif (ref_obj) konami = ref_obj; // IE\n\t\t\t\tkonami.input += e ? e.keyCode : event.keyCode;\n\t\t\t\tif (konami.input.length > konami.pattern.length)\n\t\t\t\t\tkonami.input = konami.input.substr((konami.input.length - konami.pattern.length));\n\t\t\t\tif (konami.input == konami.pattern) {\n\t\t\t\t\tkonami.code(link);\n\t\t\t\t\tkonami.input = \"\";\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}, this);\n\t\t\tthis.iphone.load(link);\n\t\t},\n\t\tcode: function (link) {\n\t\t\twindow.location = link\n\t\t},\n\t\tiphone: {\n\t\t\tstart_x: 0,\n\t\t\tstart_y: 0,\n\t\t\tstop_x: 0,\n\t\t\tstop_y: 0,\n\t\t\ttap: false,\n\t\t\tcapture: false,\n\t\t\torig_keys: \"\",\n\t\t\tkeys: [\"UP\", \"UP\", \"DOWN\", \"DOWN\", \"LEFT\", \"RIGHT\", \"LEFT\", \"RIGHT\", \"TAP\", \"TAP\"],\n\t\t\tcode: function (link) {\n\t\t\t\tkonami.code(link);\n\t\t\t},\n\t\t\tload: function (link) {\n\t\t\t\tthis.orig_keys = this.keys;\n\t\t\t\tkonami.addEvent(document, \"touchmove\", function (e) {\n\t\t\t\t\tif (e.touches.length == 1 && konami.iphone.capture == true) {\n\t\t\t\t\t\tvar touch = e.touches[0];\n\t\t\t\t\t\tkonami.iphone.stop_x = touch.pageX;\n\t\t\t\t\t\tkonami.iphone.stop_y = touch.pageY;\n\t\t\t\t\t\tkonami.iphone.tap = false;\n\t\t\t\t\t\tkonami.iphone.capture = false;\n\t\t\t\t\t\tkonami.iphone.check_direction();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tkonami.addEvent(document, \"touchend\", function (evt) {\n\t\t\t\t\tif (konami.iphone.tap == true) konami.iphone.check_direction(link);\n\t\t\t\t}, false);\n\t\t\t\tkonami.addEvent(document, \"touchstart\", function (evt) {\n\t\t\t\t\tkonami.iphone.start_x = evt.changedTouches[0].pageX;\n\t\t\t\t\tkonami.iphone.start_y = evt.changedTouches[0].pageY;\n\t\t\t\t\tkonami.iphone.tap = true;\n\t\t\t\t\tkonami.iphone.capture = true;\n\t\t\t\t});\n\t\t\t},\n\t\t\tcheck_direction: function (link) {\n\t\t\t\tx_magnitude = Math.abs(this.start_x - this.stop_x);\n\t\t\t\ty_magnitude = Math.abs(this.start_y - this.stop_y);\n\t\t\t\tx = ((this.start_x - this.stop_x) < 0) ? \"RIGHT\" : \"LEFT\";\n\t\t\t\ty = ((this.start_y - this.stop_y) < 0) ? \"DOWN\" : \"UP\";\n\t\t\t\tresult = (x_magnitude > y_magnitude) ? x : y;\n\t\t\t\tresult = (this.tap == true) ? \"TAP\" : result;\n\n\t\t\t\tif (result == this.keys[0]) this.keys = this.keys.slice(1, this.keys.length);\n\t\t\t\tif (this.keys.length == 0) {\n\t\t\t\t\tthis.keys = this.orig_keys;\n\t\t\t\t\tthis.code(link);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\ttypeof callback === \"string\" && konami.load(callback);\n\tif (typeof callback === \"function\") {\n\t\tkonami.code = callback;\n\t\tkonami.load();\n\t}\n\n\treturn konami;\n};\n","/*!\n* howler.js v2.0.10\n* howlerjs.com\n*\n* (c) 2013-2018, James Simpson of GoldFire Studios\n* goldfirestudios.com\n*\n* MIT License\n*/\n(function() {\n    'use strict';\n    var HowlerGlobal = function() {\n        this.init();\n    };\n    HowlerGlobal.prototype = {\n        init: function() {\n            var self = this || Howler;\n            self._counter = 1000;\n            self._codecs = {};\n            self._howls = [];\n            self._muted = false;\n            self._volume = 1;\n            self._canPlayEvent = 'canplaythrough';\n            self._navigator = (typeof window !== 'undefined' && window.navigator) ? window.navigator : null;\n            self.masterGain = null;\n            self.noAudio = false;\n            self.usingWebAudio = true;\n            self.autoSuspend = true;\n            self.ctx = null;\n            self.mobileAutoEnable = true;\n            self._setup();\n            return self;\n        },\n        volume: function(vol) {\n            var self = this || Howler;\n            vol = parseFloat(vol);\n            if (!self.ctx) {\n                setupAudioContext();\n            }\n            if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n                self._volume = vol;\n                if (self._muted) {\n                    return self;\n                }\n                if (self.usingWebAudio) {\n                    self.masterGain.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n                }\n                for (var i = 0; i < self._howls.length; i++) {\n                    if (!self._howls[i]._webAudio) {\n                        var ids = self._howls[i]._getSoundIds();\n                        for (var j = 0; j < ids.length; j++) {\n                            var sound = self._howls[i]._soundById(ids[j]);\n                            if (sound && sound._node) {\n                                sound._node.volume = sound._volume * vol;\n                            }\n                        }\n                    }\n                }\n                return self;\n            }\n            return self._volume;\n        },\n        mute: function(muted) {\n            var self = this || Howler;\n            if (!self.ctx) {\n                setupAudioContext();\n            }\n            self._muted = muted;\n            if (self.usingWebAudio) {\n                self.masterGain.gain.setValueAtTime(muted ? 0 : self._volume, Howler.ctx.currentTime);\n            }\n            for (var i = 0; i < self._howls.length; i++) {\n                if (!self._howls[i]._webAudio) {\n                    var ids = self._howls[i]._getSoundIds();\n                    for (var j = 0; j < ids.length; j++) {\n                        var sound = self._howls[i]._soundById(ids[j]);\n                        if (sound && sound._node) {\n                            sound._node.muted = (muted) ? true : sound._muted;\n                        }\n                    }\n                }\n            }\n            return self;\n        },\n        unload: function() {\n            var self = this || Howler;\n            for (var i = self._howls.length - 1; i >= 0; i--) {\n                self._howls[i].unload();\n            }\n            if (self.usingWebAudio && self.ctx && typeof self.ctx.close !== 'undefined') {\n                self.ctx.close();\n                self.ctx = null;\n                setupAudioContext();\n            }\n            return self;\n        },\n        codecs: function(ext) {\n            return (this || Howler)._codecs[ext.replace(/^x-/, '')];\n        },\n        _setup: function() {\n            var self = this || Howler;\n            self.state = self.ctx ? self.ctx.state || 'running' : 'running';\n            self._autoSuspend();\n            if (!self.usingWebAudio) {\n                if (typeof Audio !== 'undefined') {\n                    try {\n                        var test = new Audio();\n                        if (typeof test.oncanplaythrough === 'undefined') {\n                            self._canPlayEvent = 'canplay';\n                        }\n                    } catch (e) {\n                        self.noAudio = true;\n                    }\n                } else {\n                    self.noAudio = true;\n                }\n            }\n            try {\n                var test = new Audio();\n                if (test.muted) {\n                    self.noAudio = true;\n                }\n            } catch (e) {}\n            if (!self.noAudio) {\n                self._setupCodecs();\n            }\n            return self;\n        },\n        _setupCodecs: function() {\n            var self = this || Howler;\n            var audioTest = null;\n            try {\n                audioTest = (typeof Audio !== 'undefined') ? new Audio() : null;\n            } catch (err) {\n                return self;\n            }\n            if (!audioTest || typeof audioTest.canPlayType !== 'function') {\n                return self;\n            }\n            var mpegTest = audioTest.canPlayType('audio/mpeg;').replace(/^no$/, '');\n            var checkOpera = self._navigator && self._navigator.userAgent.match(/OPR\\/([0-6].)/g);\n            var isOldOpera = (checkOpera && parseInt(checkOpera[0].split('/')[1], 10) < 33);\n            self._codecs = {\n                mp3: !!(!isOldOpera && (mpegTest || audioTest.canPlayType('audio/mp3;').replace(/^no$/, ''))),\n                mpeg: !!mpegTest,\n                opus: !!audioTest.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/, ''),\n                ogg: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n                oga: !!audioTest.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/, ''),\n                wav: !!audioTest.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/, ''),\n                aac: !!audioTest.canPlayType('audio/aac;').replace(/^no$/, ''),\n                caf: !!audioTest.canPlayType('audio/x-caf;').replace(/^no$/, ''),\n                m4a: !!(audioTest.canPlayType('audio/x-m4a;') || audioTest.canPlayType('audio/m4a;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n                mp4: !!(audioTest.canPlayType('audio/x-mp4;') || audioTest.canPlayType('audio/mp4;') || audioTest.canPlayType('audio/aac;')).replace(/^no$/, ''),\n                weba: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n                webm: !!audioTest.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/, ''),\n                dolby: !!audioTest.canPlayType('audio/mp4; codecs=\"ec-3\"').replace(/^no$/, ''),\n                flac: !!(audioTest.canPlayType('audio/x-flac;') || audioTest.canPlayType('audio/flac;')).replace(/^no$/, '')\n            };\n            return self;\n        },\n        _enableMobileAudio: function() {\n            var self = this || Howler;\n            var isMobile = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(self._navigator && self._navigator.userAgent);\n            var isTouch = !!(('ontouchend'in window) || (self._navigator && self._navigator.maxTouchPoints > 0) || (self._navigator && self._navigator.msMaxTouchPoints > 0));\n            if (self._mobileEnabled || !self.ctx || (!isMobile && !isTouch)) {\n                return;\n            }\n            self._mobileEnabled = false;\n            if (!self._mobileUnloaded && self.ctx.sampleRate !== 44100) {\n                self._mobileUnloaded = true;\n                self.unload();\n            }\n            self._scratchBuffer = self.ctx.createBuffer(1, 1, 22050);\n            var unlock = function() {\n                Howler._autoResume();\n                var source = self.ctx.createBufferSource();\n                source.buffer = self._scratchBuffer;\n                source.connect(self.ctx.destination);\n                if (typeof source.start === 'undefined') {\n                    source.noteOn(0);\n                } else {\n                    source.start(0);\n                }\n                if (typeof self.ctx.resume === 'function') {\n                    self.ctx.resume();\n                }\n                source.onended = function() {\n                    source.disconnect(0);\n                    self._mobileEnabled = true;\n                    self.mobileAutoEnable = false;\n                    document.removeEventListener('touchstart', unlock, true);\n                    document.removeEventListener('touchend', unlock, true);\n                }\n                ;\n            };\n            document.addEventListener('touchstart', unlock, true);\n            document.addEventListener('touchend', unlock, true);\n            return self;\n        },\n        _autoSuspend: function() {\n            var self = this;\n            if (!self.autoSuspend || !self.ctx || typeof self.ctx.suspend === 'undefined' || !Howler.usingWebAudio) {\n                return;\n            }\n            for (var i = 0; i < self._howls.length; i++) {\n                if (self._howls[i]._webAudio) {\n                    for (var j = 0; j < self._howls[i]._sounds.length; j++) {\n                        if (!self._howls[i]._sounds[j]._paused) {\n                            return self;\n                        }\n                    }\n                }\n            }\n            if (self._suspendTimer) {\n                clearTimeout(self._suspendTimer);\n            }\n            self._suspendTimer = setTimeout(function() {\n                if (!self.autoSuspend) {\n                    return;\n                }\n                self._suspendTimer = null;\n                self.state = 'suspending';\n                self.ctx.suspend().then(function() {\n                    self.state = 'suspended';\n                    if (self._resumeAfterSuspend) {\n                        delete self._resumeAfterSuspend;\n                        self._autoResume();\n                    }\n                });\n            }, 30000);\n            return self;\n        },\n        _autoResume: function() {\n            var self = this;\n            if (!self.ctx || typeof self.ctx.resume === 'undefined' || !Howler.usingWebAudio) {\n                return;\n            }\n            if (self.state === 'running' && self._suspendTimer) {\n                clearTimeout(self._suspendTimer);\n                self._suspendTimer = null;\n            } else if (self.state === 'suspended') {\n                self.ctx.resume().then(function() {\n                    self.state = 'running';\n                    for (var i = 0; i < self._howls.length; i++) {\n                        self._howls[i]._emit('resume');\n                    }\n                });\n                if (self._suspendTimer) {\n                    clearTimeout(self._suspendTimer);\n                    self._suspendTimer = null;\n                }\n            } else if (self.state === 'suspending') {\n                self._resumeAfterSuspend = true;\n            }\n            return self;\n        }\n    };\n    var Howler = new HowlerGlobal();\n    var Howl = function(o) {\n        var self = this;\n        if (!o.src || o.src.length === 0) {\n            console.error('An array of source files must be passed with any new Howl.');\n            return;\n        }\n        self.init(o);\n    };\n    Howl.prototype = {\n        init: function(o) {\n            var self = this;\n            if (!Howler.ctx) {\n                setupAudioContext();\n            }\n            self._autoplay = o.autoplay || false;\n            self._format = (typeof o.format !== 'string') ? o.format : [o.format];\n            self._html5 = o.html5 || false;\n            self._muted = o.mute || false;\n            self._loop = o.loop || false;\n            self._pool = o.pool || 5;\n            self._preload = (typeof o.preload === 'boolean') ? o.preload : true;\n            self._rate = o.rate || 1;\n            self._sprite = o.sprite || {};\n            self._src = (typeof o.src !== 'string') ? o.src : [o.src];\n            self._volume = o.volume !== undefined ? o.volume : 1;\n            self._xhrWithCredentials = o.xhrWithCredentials || false;\n            self._duration = 0;\n            self._state = 'unloaded';\n            self._sounds = [];\n            self._endTimers = {};\n            self._queue = [];\n            self._playLock = false;\n            self._onend = o.onend ? [{\n                fn: o.onend\n            }] : [];\n            self._onfade = o.onfade ? [{\n                fn: o.onfade\n            }] : [];\n            self._onload = o.onload ? [{\n                fn: o.onload\n            }] : [];\n            self._onloaderror = o.onloaderror ? [{\n                fn: o.onloaderror\n            }] : [];\n            self._onplayerror = o.onplayerror ? [{\n                fn: o.onplayerror\n            }] : [];\n            self._onpause = o.onpause ? [{\n                fn: o.onpause\n            }] : [];\n            self._onplay = o.onplay ? [{\n                fn: o.onplay\n            }] : [];\n            self._onstop = o.onstop ? [{\n                fn: o.onstop\n            }] : [];\n            self._onmute = o.onmute ? [{\n                fn: o.onmute\n            }] : [];\n            self._onvolume = o.onvolume ? [{\n                fn: o.onvolume\n            }] : [];\n            self._onrate = o.onrate ? [{\n                fn: o.onrate\n            }] : [];\n            self._onseek = o.onseek ? [{\n                fn: o.onseek\n            }] : [];\n            self._onresume = [];\n            self._webAudio = Howler.usingWebAudio && !self._html5;\n            if (typeof Howler.ctx !== 'undefined' && Howler.ctx && Howler.mobileAutoEnable) {\n                Howler._enableMobileAudio();\n            }\n            Howler._howls.push(self);\n            if (self._autoplay) {\n                self._queue.push({\n                    event: 'play',\n                    action: function() {\n                        self.play();\n                    }\n                });\n            }\n            if (self._preload) {\n                self.load();\n            }\n            return self;\n        },\n        load: function() {\n            var self = this;\n            var url = null;\n            if (Howler.noAudio) {\n                self._emit('loaderror', null, 'No audio support.');\n                return;\n            }\n            if (typeof self._src === 'string') {\n                self._src = [self._src];\n            }\n            for (var i = 0; i < self._src.length; i++) {\n                var ext, str;\n                if (self._format && self._format[i]) {\n                    ext = self._format[i];\n                } else {\n                    str = self._src[i];\n                    if (typeof str !== 'string') {\n                        self._emit('loaderror', null, 'Non-string found in selected audio sources - ignoring.');\n                        continue;\n                    }\n                    ext = /^data:audio\\/([^;,]+);/i.exec(str);\n                    if (!ext) {\n                        ext = /\\.([^.]+)$/.exec(str.split('?', 1)[0]);\n                    }\n                    if (ext) {\n                        ext = ext[1].toLowerCase();\n                    }\n                }\n                if (!ext) {\n                    console.warn('No file extension was found. Consider using the \"format\" property or specify an extension.');\n                }\n                if (ext && Howler.codecs(ext)) {\n                    url = self._src[i];\n                    break;\n                }\n            }\n            if (!url) {\n                self._emit('loaderror', null, 'No codec support for selected audio sources.');\n                return;\n            }\n            self._src = url;\n            self._state = 'loading';\n            if (window.location.protocol === 'https:' && url.slice(0, 5) === 'http:') {\n                self._html5 = true;\n                self._webAudio = false;\n            }\n            new Sound(self);\n            if (self._webAudio) {\n                loadBuffer(self);\n            }\n            return self;\n        },\n        play: function(sprite, internal) {\n            var self = this;\n            var id = null;\n            if (typeof sprite === 'number') {\n                id = sprite;\n                sprite = null;\n            } else if (typeof sprite === 'string' && self._state === 'loaded' && !self._sprite[sprite]) {\n                return null;\n            } else if (typeof sprite === 'undefined') {\n                sprite = '__default';\n                var num = 0;\n                for (var i = 0; i < self._sounds.length; i++) {\n                    if (self._sounds[i]._paused && !self._sounds[i]._ended) {\n                        num++;\n                        id = self._sounds[i]._id;\n                    }\n                }\n                if (num === 1) {\n                    sprite = null;\n                } else {\n                    id = null;\n                }\n            }\n            var sound = id ? self._soundById(id) : self._inactiveSound();\n            if (!sound) {\n                return null;\n            }\n            if (id && !sprite) {\n                sprite = sound._sprite || '__default';\n            }\n            if (self._state !== 'loaded') {\n                sound._sprite = sprite;\n                sound._ended = false;\n                var soundId = sound._id;\n                self._queue.push({\n                    event: 'play',\n                    action: function() {\n                        self.play(soundId);\n                    }\n                });\n                return soundId;\n            }\n            if (id && !sound._paused) {\n                if (!internal) {\n                    self._loadQueue('play');\n                }\n                return sound._id;\n            }\n            if (self._webAudio) {\n                Howler._autoResume();\n            }\n            var seek = Math.max(0, sound._seek > 0 ? sound._seek : self._sprite[sprite][0] / 1000);\n            var duration = Math.max(0, ((self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000) - seek);\n            var timeout = (duration * 1000) / Math.abs(sound._rate);\n            sound._paused = false;\n            sound._ended = false;\n            sound._sprite = sprite;\n            sound._seek = seek;\n            sound._start = self._sprite[sprite][0] / 1000;\n            sound._stop = (self._sprite[sprite][0] + self._sprite[sprite][1]) / 1000;\n            sound._loop = !!(sound._loop || self._sprite[sprite][2]);\n            var node = sound._node;\n            if (self._webAudio) {\n                var playWebAudio = function() {\n                    self._refreshBuffer(sound);\n                    var vol = (sound._muted || self._muted) ? 0 : sound._volume;\n                    node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n                    sound._playStart = Howler.ctx.currentTime;\n                    if (typeof node.bufferSource.start === 'undefined') {\n                        sound._loop ? node.bufferSource.noteGrainOn(0, seek, 86400) : node.bufferSource.noteGrainOn(0, seek, duration);\n                    } else {\n                        sound._loop ? node.bufferSource.start(0, seek, 86400) : node.bufferSource.start(0, seek, duration);\n                    }\n                    if (timeout !== Infinity) {\n                        self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n                    }\n                    if (!internal) {\n                        setTimeout(function() {\n                            self._emit('play', sound._id);\n                        }, 0);\n                    }\n                };\n                if (Howler.state === 'running') {\n                    playWebAudio();\n                } else {\n                    self.once('resume', playWebAudio);\n                    self._clearTimer(sound._id);\n                }\n            } else {\n                var playHtml5 = function() {\n                    node.currentTime = seek;\n                    node.muted = sound._muted || self._muted || Howler._muted || node.muted;\n                    node.volume = sound._volume * Howler.volume();\n                    node.playbackRate = sound._rate;\n                    try {\n                        var play = node.play();\n                        if (typeof Promise !== 'undefined' && play instanceof Promise) {\n                            self._playLock = true;\n                            var runLoadQueue = function() {\n                                self._playLock = false;\n                                if (!internal) {\n                                    self._emit('play', sound._id);\n                                }\n                            };\n                            play.then(runLoadQueue, runLoadQueue);\n                        } else if (!internal) {\n                            self._emit('play', sound._id);\n                        }\n                        node.playbackRate = sound._rate;\n                        if (node.paused) {\n                            self._emit('playerror', sound._id, 'Playback was unable to start. This is most commonly an issue ' + 'on mobile devices where playback was not within a user interaction.');\n                            return;\n                        }\n                        if (sprite !== '__default' || sound._loop) {\n                            self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n                        } else {\n                            self._endTimers[sound._id] = function() {\n                                self._ended(sound);\n                                node.removeEventListener('ended', self._endTimers[sound._id], false);\n                            }\n                            ;\n                            node.addEventListener('ended', self._endTimers[sound._id], false);\n                        }\n                    } catch (err) {\n                        self._emit('playerror', sound._id, err);\n                    }\n                };\n                var loadedNoReadyState = (window && window.ejecta) || (!node.readyState && Howler._navigator.isCocoonJS);\n                if (node.readyState >= 3 || loadedNoReadyState) {\n                    playHtml5();\n                } else {\n                    var listener = function() {\n                        playHtml5();\n                        node.removeEventListener(Howler._canPlayEvent, listener, false);\n                    };\n                    node.addEventListener(Howler._canPlayEvent, listener, false);\n                    self._clearTimer(sound._id);\n                }\n            }\n            return sound._id;\n        },\n        pause: function(id) {\n            var self = this;\n            if (self._state !== 'loaded' || self._playLock) {\n                self._queue.push({\n                    event: 'pause',\n                    action: function() {\n                        self.pause(id);\n                    }\n                });\n                return self;\n            }\n            var ids = self._getSoundIds(id);\n            for (var i = 0; i < ids.length; i++) {\n                self._clearTimer(ids[i]);\n                var sound = self._soundById(ids[i]);\n                if (sound && !sound._paused) {\n                    sound._seek = self.seek(ids[i]);\n                    sound._rateSeek = 0;\n                    sound._paused = true;\n                    self._stopFade(ids[i]);\n                    if (sound._node) {\n                        if (self._webAudio) {\n                            if (!sound._node.bufferSource) {\n                                continue;\n                            }\n                            if (typeof sound._node.bufferSource.stop === 'undefined') {\n                                sound._node.bufferSource.noteOff(0);\n                            } else {\n                                sound._node.bufferSource.stop(0);\n                            }\n                            self._cleanBuffer(sound._node);\n                        } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n                            sound._node.pause();\n                        }\n                    }\n                }\n                if (!arguments[1]) {\n                    self._emit('pause', sound ? sound._id : null);\n                }\n            }\n            return self;\n        },\n        stop: function(id, internal) {\n            var self = this;\n            if (self._state !== 'loaded') {\n                self._queue.push({\n                    event: 'stop',\n                    action: function() {\n                        self.stop(id);\n                    }\n                });\n                return self;\n            }\n            var ids = self._getSoundIds(id);\n            for (var i = 0; i < ids.length; i++) {\n                self._clearTimer(ids[i]);\n                var sound = self._soundById(ids[i]);\n                if (sound) {\n                    sound._seek = sound._start || 0;\n                    sound._rateSeek = 0;\n                    sound._paused = true;\n                    sound._ended = true;\n                    self._stopFade(ids[i]);\n                    if (sound._node) {\n                        if (self._webAudio) {\n                            if (sound._node.bufferSource) {\n                                if (typeof sound._node.bufferSource.stop === 'undefined') {\n                                    sound._node.bufferSource.noteOff(0);\n                                } else {\n                                    sound._node.bufferSource.stop(0);\n                                }\n                                self._cleanBuffer(sound._node);\n                            }\n                        } else if (!isNaN(sound._node.duration) || sound._node.duration === Infinity) {\n                            sound._node.currentTime = sound._start || 0;\n                            sound._node.pause();\n                        }\n                    }\n                    if (!internal) {\n                        self._emit('stop', sound._id);\n                    }\n                }\n            }\n            return self;\n        },\n        mute: function(muted, id) {\n            var self = this;\n            if (self._state !== 'loaded') {\n                self._queue.push({\n                    event: 'mute',\n                    action: function() {\n                        self.mute(muted, id);\n                    }\n                });\n                return self;\n            }\n            if (typeof id === 'undefined') {\n                if (typeof muted === 'boolean') {\n                    self._muted = muted;\n                } else {\n                    return self._muted;\n                }\n            }\n            var ids = self._getSoundIds(id);\n            for (var i = 0; i < ids.length; i++) {\n                var sound = self._soundById(ids[i]);\n                if (sound) {\n                    sound._muted = muted;\n                    if (sound._interval) {\n                        self._stopFade(sound._id);\n                    }\n                    if (self._webAudio && sound._node) {\n                        sound._node.gain.setValueAtTime(muted ? 0 : sound._volume, Howler.ctx.currentTime);\n                    } else if (sound._node) {\n                        sound._node.muted = Howler._muted ? true : muted;\n                    }\n                    self._emit('mute', sound._id);\n                }\n            }\n            return self;\n        },\n        volume: function() {\n            var self = this;\n            var args = arguments;\n            var vol, id;\n            if (args.length === 0) {\n                return self._volume;\n            } else if (args.length === 1 || args.length === 2 && typeof args[1] === 'undefined') {\n                var ids = self._getSoundIds();\n                var index = ids.indexOf(args[0]);\n                if (index >= 0) {\n                    id = parseInt(args[0], 10);\n                } else {\n                    vol = parseFloat(args[0]);\n                }\n            } else if (args.length >= 2) {\n                vol = parseFloat(args[0]);\n                id = parseInt(args[1], 10);\n            }\n            var sound;\n            if (typeof vol !== 'undefined' && vol >= 0 && vol <= 1) {\n                if (self._state !== 'loaded') {\n                    self._queue.push({\n                        event: 'volume',\n                        action: function() {\n                            self.volume.apply(self, args);\n                        }\n                    });\n                    return self;\n                }\n                if (typeof id === 'undefined') {\n                    self._volume = vol;\n                }\n                id = self._getSoundIds(id);\n                for (var i = 0; i < id.length; i++) {\n                    sound = self._soundById(id[i]);\n                    if (sound) {\n                        sound._volume = vol;\n                        if (!args[2]) {\n                            self._stopFade(id[i]);\n                        }\n                        if (self._webAudio && sound._node && !sound._muted) {\n                            sound._node.gain.setValueAtTime(vol, Howler.ctx.currentTime);\n                        } else if (sound._node && !sound._muted) {\n                            sound._node.volume = vol * Howler.volume();\n                        }\n                        self._emit('volume', sound._id);\n                    }\n                }\n            } else {\n                sound = id ? self._soundById(id) : self._sounds[0];\n                return sound ? sound._volume : 0;\n            }\n            return self;\n        },\n        fade: function(from, to, len, id) {\n            var self = this;\n            if (self._state !== 'loaded') {\n                self._queue.push({\n                    event: 'fade',\n                    action: function() {\n                        self.fade(from, to, len, id);\n                    }\n                });\n                return self;\n            }\n            self.volume(from, id);\n            var ids = self._getSoundIds(id);\n            for (var i = 0; i < ids.length; i++) {\n                var sound = self._soundById(ids[i]);\n                if (sound) {\n                    if (!id) {\n                        self._stopFade(ids[i]);\n                    }\n                    if (self._webAudio && !sound._muted) {\n                        var currentTime = Howler.ctx.currentTime;\n                        var end = currentTime + (len / 1000);\n                        sound._volume = from;\n                        sound._node.gain.setValueAtTime(from, currentTime);\n                        sound._node.gain.linearRampToValueAtTime(to, end);\n                    }\n                    self._startFadeInterval(sound, from, to, len, ids[i], typeof id === 'undefined');\n                }\n            }\n            return self;\n        },\n        _startFadeInterval: function(sound, from, to, len, id, isGroup) {\n            var self = this;\n            var vol = from;\n            var diff = to - from;\n            var steps = Math.abs(diff / 0.01);\n            var stepLen = Math.max(4, (steps > 0) ? len / steps : len);\n            var lastTick = Date.now();\n            sound._fadeTo = to;\n            sound._interval = setInterval(function() {\n                var tick = (Date.now() - lastTick) / len;\n                lastTick = Date.now();\n                vol += diff * tick;\n                vol = Math.max(0, vol);\n                vol = Math.min(1, vol);\n                vol = Math.round(vol * 100) / 100;\n                if (self._webAudio) {\n                    sound._volume = vol;\n                } else {\n                    self.volume(vol, sound._id, true);\n                }\n                if (isGroup) {\n                    self._volume = vol;\n                }\n                if ((to < from && vol <= to) || (to > from && vol >= to)) {\n                    clearInterval(sound._interval);\n                    sound._interval = null;\n                    sound._fadeTo = null;\n                    self.volume(to, sound._id);\n                    self._emit('fade', sound._id);\n                }\n            }, stepLen);\n        },\n        _stopFade: function(id) {\n            var self = this;\n            var sound = self._soundById(id);\n            if (sound && sound._interval) {\n                if (self._webAudio) {\n                    sound._node.gain.cancelScheduledValues(Howler.ctx.currentTime);\n                }\n                clearInterval(sound._interval);\n                sound._interval = null;\n                self.volume(sound._fadeTo, id);\n                sound._fadeTo = null;\n                self._emit('fade', id);\n            }\n            return self;\n        },\n        loop: function() {\n            var self = this;\n            var args = arguments;\n            var loop, id, sound;\n            if (args.length === 0) {\n                return self._loop;\n            } else if (args.length === 1) {\n                if (typeof args[0] === 'boolean') {\n                    loop = args[0];\n                    self._loop = loop;\n                } else {\n                    sound = self._soundById(parseInt(args[0], 10));\n                    return sound ? sound._loop : false;\n                }\n            } else if (args.length === 2) {\n                loop = args[0];\n                id = parseInt(args[1], 10);\n            }\n            var ids = self._getSoundIds(id);\n            for (var i = 0; i < ids.length; i++) {\n                sound = self._soundById(ids[i]);\n                if (sound) {\n                    sound._loop = loop;\n                    if (self._webAudio && sound._node && sound._node.bufferSource) {\n                        sound._node.bufferSource.loop = loop;\n                        if (loop) {\n                            sound._node.bufferSource.loopStart = sound._start || 0;\n                            sound._node.bufferSource.loopEnd = sound._stop;\n                        }\n                    }\n                }\n            }\n            return self;\n        },\n        rate: function() {\n            var self = this;\n            var args = arguments;\n            var rate, id;\n            if (args.length === 0) {\n                id = self._sounds[0]._id;\n            } else if (args.length === 1) {\n                var ids = self._getSoundIds();\n                var index = ids.indexOf(args[0]);\n                if (index >= 0) {\n                    id = parseInt(args[0], 10);\n                } else {\n                    rate = parseFloat(args[0]);\n                }\n            } else if (args.length === 2) {\n                rate = parseFloat(args[0]);\n                id = parseInt(args[1], 10);\n            }\n            var sound;\n            if (typeof rate === 'number') {\n                if (self._state !== 'loaded') {\n                    self._queue.push({\n                        event: 'rate',\n                        action: function() {\n                            self.rate.apply(self, args);\n                        }\n                    });\n                    return self;\n                }\n                if (typeof id === 'undefined') {\n                    self._rate = rate;\n                }\n                id = self._getSoundIds(id);\n                for (var i = 0; i < id.length; i++) {\n                    sound = self._soundById(id[i]);\n                    if (sound) {\n                        sound._rateSeek = self.seek(id[i]);\n                        sound._playStart = self._webAudio ? Howler.ctx.currentTime : sound._playStart;\n                        sound._rate = rate;\n                        if (self._webAudio && sound._node && sound._node.bufferSource) {\n                            sound._node.bufferSource.playbackRate.setValueAtTime(rate, Howler.ctx.currentTime);\n                        } else if (sound._node) {\n                            sound._node.playbackRate = rate;\n                        }\n                        var seek = self.seek(id[i]);\n                        var duration = ((self._sprite[sound._sprite][0] + self._sprite[sound._sprite][1]) / 1000) - seek;\n                        var timeout = (duration * 1000) / Math.abs(sound._rate);\n                        if (self._endTimers[id[i]] || !sound._paused) {\n                            self._clearTimer(id[i]);\n                            self._endTimers[id[i]] = setTimeout(self._ended.bind(self, sound), timeout);\n                        }\n                        self._emit('rate', sound._id);\n                    }\n                }\n            } else {\n                sound = self._soundById(id);\n                return sound ? sound._rate : self._rate;\n            }\n            return self;\n        },\n        seek: function() {\n            var self = this;\n            var args = arguments;\n            var seek, id;\n            if (args.length === 0) {\n                id = self._sounds[0]._id;\n            } else if (args.length === 1) {\n                var ids = self._getSoundIds();\n                var index = ids.indexOf(args[0]);\n                if (index >= 0) {\n                    id = parseInt(args[0], 10);\n                } else if (self._sounds.length) {\n                    id = self._sounds[0]._id;\n                    seek = parseFloat(args[0]);\n                }\n            } else if (args.length === 2) {\n                seek = parseFloat(args[0]);\n                id = parseInt(args[1], 10);\n            }\n            if (typeof id === 'undefined') {\n                return self;\n            }\n            if (self._state !== 'loaded') {\n                self._queue.push({\n                    event: 'seek',\n                    action: function() {\n                        self.seek.apply(self, args);\n                    }\n                });\n                return self;\n            }\n            var sound = self._soundById(id);\n            if (sound) {\n                if (typeof seek === 'number' && seek >= 0) {\n                    var playing = self.playing(id);\n                    if (playing) {\n                        self.pause(id, true);\n                    }\n                    sound._seek = seek;\n                    sound._ended = false;\n                    self._clearTimer(id);\n                    if (playing) {\n                        self.play(id, true);\n                    }\n                    if (!self._webAudio && sound._node) {\n                        sound._node.currentTime = seek;\n                    }\n                    if (playing && !self._webAudio) {\n                        var emitSeek = function() {\n                            if (!self._playLock) {\n                                self._emit('seek', id);\n                            } else {\n                                setTimeout(emitSeek, 0);\n                            }\n                        };\n                        setTimeout(emitSeek, 0);\n                    } else {\n                        self._emit('seek', id);\n                    }\n                } else {\n                    if (self._webAudio) {\n                        var realTime = self.playing(id) ? Howler.ctx.currentTime - sound._playStart : 0;\n                        var rateSeek = sound._rateSeek ? sound._rateSeek - sound._seek : 0;\n                        return sound._seek + (rateSeek + realTime * Math.abs(sound._rate));\n                    } else {\n                        return sound._node.currentTime;\n                    }\n                }\n            }\n            return self;\n        },\n        playing: function(id) {\n            var self = this;\n            if (typeof id === 'number') {\n                var sound = self._soundById(id);\n                return sound ? !sound._paused : false;\n            }\n            for (var i = 0; i < self._sounds.length; i++) {\n                if (!self._sounds[i]._paused) {\n                    return true;\n                }\n            }\n            return false;\n        },\n        duration: function(id) {\n            var self = this;\n            var duration = self._duration;\n            var sound = self._soundById(id);\n            if (sound) {\n                duration = self._sprite[sound._sprite][1] / 1000;\n            }\n            return duration;\n        },\n        state: function() {\n            return this._state;\n        },\n        unload: function() {\n            var self = this;\n            var sounds = self._sounds;\n            for (var i = 0; i < sounds.length; i++) {\n                if (!sounds[i]._paused) {\n                    self.stop(sounds[i]._id);\n                }\n                if (!self._webAudio) {\n                    var checkIE = /MSIE |Trident\\//.test(Howler._navigator && Howler._navigator.userAgent);\n                    if (!checkIE) {\n                        sounds[i]._node.src = 'data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA';\n                    }\n                    sounds[i]._node.removeEventListener('error', sounds[i]._errorFn, false);\n                    sounds[i]._node.removeEventListener(Howler._canPlayEvent, sounds[i]._loadFn, false);\n                }\n                delete sounds[i]._node;\n                self._clearTimer(sounds[i]._id);\n                var index = Howler._howls.indexOf(self);\n                if (index >= 0) {\n                    Howler._howls.splice(index, 1);\n                }\n            }\n            var remCache = true;\n            for (i = 0; i < Howler._howls.length; i++) {\n                if (Howler._howls[i]._src === self._src) {\n                    remCache = false;\n                    break;\n                }\n            }\n            if (cache && remCache) {\n                delete cache[self._src];\n            }\n            Howler.noAudio = false;\n            self._state = 'unloaded';\n            self._sounds = [];\n            self = null;\n            return null;\n        },\n        on: function(event, fn, id, once) {\n            var self = this;\n            var events = self['_on' + event];\n            if (typeof fn === 'function') {\n                events.push(once ? {\n                    id: id,\n                    fn: fn,\n                    once: once\n                } : {\n                    id: id,\n                    fn: fn\n                });\n            }\n            return self;\n        },\n        off: function(event, fn, id) {\n            var self = this;\n            var events = self['_on' + event];\n            var i = 0;\n            if (typeof fn === 'number') {\n                id = fn;\n                fn = null;\n            }\n            if (fn || id) {\n                for (i = 0; i < events.length; i++) {\n                    var isId = (id === events[i].id);\n                    if (fn === events[i].fn && isId || !fn && isId) {\n                        events.splice(i, 1);\n                        break;\n                    }\n                }\n            } else if (event) {\n                self['_on' + event] = [];\n            } else {\n                var keys = Object.keys(self);\n                for (i = 0; i < keys.length; i++) {\n                    if ((keys[i].indexOf('_on') === 0) && Array.isArray(self[keys[i]])) {\n                        self[keys[i]] = [];\n                    }\n                }\n            }\n            return self;\n        },\n        once: function(event, fn, id) {\n            var self = this;\n            self.on(event, fn, id, 1);\n            return self;\n        },\n        _emit: function(event, id, msg) {\n            var self = this;\n            var events = self['_on' + event];\n            for (var i = events.length - 1; i >= 0; i--) {\n                if (!events[i].id || events[i].id === id || event === 'load') {\n                    setTimeout(function(fn) {\n                        fn.call(this, id, msg);\n                    }\n                    .bind(self, events[i].fn), 0);\n                    if (events[i].once) {\n                        self.off(event, events[i].fn, events[i].id);\n                    }\n                }\n            }\n            self._loadQueue(event);\n            return self;\n        },\n        _loadQueue: function(event) {\n            var self = this;\n            if (self._queue.length > 0) {\n                var task = self._queue[0];\n                if (task.event === event) {\n                    self._queue.shift();\n                    self._loadQueue();\n                }\n                if (!event) {\n                    task.action();\n                }\n            }\n            return self;\n        },\n        _ended: function(sound) {\n            var self = this;\n            var sprite = sound._sprite;\n            if (!self._webAudio && sound._node && !sound._node.paused && !sound._node.ended && sound._node.currentTime < sound._stop) {\n                setTimeout(self._ended.bind(self, sound), 100);\n                return self;\n            }\n            var loop = !!(sound._loop || self._sprite[sprite][2]);\n            self._emit('end', sound._id);\n            if (!self._webAudio && loop) {\n                self.stop(sound._id, true).play(sound._id);\n            }\n            if (self._webAudio && loop) {\n                self._emit('play', sound._id);\n                sound._seek = sound._start || 0;\n                sound._rateSeek = 0;\n                sound._playStart = Howler.ctx.currentTime;\n                var timeout = ((sound._stop - sound._start) * 1000) / Math.abs(sound._rate);\n                self._endTimers[sound._id] = setTimeout(self._ended.bind(self, sound), timeout);\n            }\n            if (self._webAudio && !loop) {\n                sound._paused = true;\n                sound._ended = true;\n                sound._seek = sound._start || 0;\n                sound._rateSeek = 0;\n                self._clearTimer(sound._id);\n                self._cleanBuffer(sound._node);\n                Howler._autoSuspend();\n            }\n            if (!self._webAudio && !loop) {\n                self.stop(sound._id);\n            }\n            return self;\n        },\n        _clearTimer: function(id) {\n            var self = this;\n            if (self._endTimers[id]) {\n                if (typeof self._endTimers[id] !== 'function') {\n                    clearTimeout(self._endTimers[id]);\n                } else {\n                    var sound = self._soundById(id);\n                    if (sound && sound._node) {\n                        sound._node.removeEventListener('ended', self._endTimers[id], false);\n                    }\n                }\n                delete self._endTimers[id];\n            }\n            return self;\n        },\n        _soundById: function(id) {\n            var self = this;\n            for (var i = 0; i < self._sounds.length; i++) {\n                if (id === self._sounds[i]._id) {\n                    return self._sounds[i];\n                }\n            }\n            return null;\n        },\n        _inactiveSound: function() {\n            var self = this;\n            self._drain();\n            for (var i = 0; i < self._sounds.length; i++) {\n                if (self._sounds[i]._ended) {\n                    return self._sounds[i].reset();\n                }\n            }\n            return new Sound(self);\n        },\n        _drain: function() {\n            var self = this;\n            var limit = self._pool;\n            var cnt = 0;\n            var i = 0;\n            if (self._sounds.length < limit) {\n                return;\n            }\n            for (i = 0; i < self._sounds.length; i++) {\n                if (self._sounds[i]._ended) {\n                    cnt++;\n                }\n            }\n            for (i = self._sounds.length - 1; i >= 0; i--) {\n                if (cnt <= limit) {\n                    return;\n                }\n                if (self._sounds[i]._ended) {\n                    if (self._webAudio && self._sounds[i]._node) {\n                        self._sounds[i]._node.disconnect(0);\n                    }\n                    self._sounds.splice(i, 1);\n                    cnt--;\n                }\n            }\n        },\n        _getSoundIds: function(id) {\n            var self = this;\n            if (typeof id === 'undefined') {\n                var ids = [];\n                for (var i = 0; i < self._sounds.length; i++) {\n                    ids.push(self._sounds[i]._id);\n                }\n                return ids;\n            } else {\n                return [id];\n            }\n        },\n        _refreshBuffer: function(sound) {\n            var self = this;\n            sound._node.bufferSource = Howler.ctx.createBufferSource();\n            sound._node.bufferSource.buffer = cache[self._src];\n            if (sound._panner) {\n                sound._node.bufferSource.connect(sound._panner);\n            } else {\n                sound._node.bufferSource.connect(sound._node);\n            }\n            sound._node.bufferSource.loop = sound._loop;\n            if (sound._loop) {\n                sound._node.bufferSource.loopStart = sound._start || 0;\n                sound._node.bufferSource.loopEnd = sound._stop;\n            }\n            sound._node.bufferSource.playbackRate.setValueAtTime(sound._rate, Howler.ctx.currentTime);\n            return self;\n        },\n        _cleanBuffer: function(node) {\n            var self = this;\n            if (Howler._scratchBuffer) {\n                node.bufferSource.onended = null;\n                node.bufferSource.disconnect(0);\n                try {\n                    node.bufferSource.buffer = Howler._scratchBuffer;\n                } catch (e) {}\n            }\n            node.bufferSource = null;\n            return self;\n        }\n    };\n    var Sound = function(howl) {\n        this._parent = howl;\n        this.init();\n    };\n    Sound.prototype = {\n        init: function() {\n            var self = this;\n            var parent = self._parent;\n            self._muted = parent._muted;\n            self._loop = parent._loop;\n            self._volume = parent._volume;\n            self._rate = parent._rate;\n            self._seek = 0;\n            self._paused = true;\n            self._ended = true;\n            self._sprite = '__default';\n            self._id = ++Howler._counter;\n            parent._sounds.push(self);\n            self.create();\n            return self;\n        },\n        create: function() {\n            var self = this;\n            var parent = self._parent;\n            var volume = (Howler._muted || self._muted || self._parent._muted) ? 0 : self._volume;\n            if (parent._webAudio) {\n                self._node = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n                self._node.gain.setValueAtTime(volume, Howler.ctx.currentTime);\n                self._node.paused = true;\n                self._node.connect(Howler.masterGain);\n            } else {\n                self._node = new Audio();\n                self._errorFn = self._errorListener.bind(self);\n                self._node.addEventListener('error', self._errorFn, false);\n                self._loadFn = self._loadListener.bind(self);\n                self._node.addEventListener(Howler._canPlayEvent, self._loadFn, false);\n                self._node.src = parent._src;\n                self._node.preload = 'auto';\n                self._node.volume = volume * Howler.volume();\n                self._node.load();\n            }\n            return self;\n        },\n        reset: function() {\n            var self = this;\n            var parent = self._parent;\n            self._muted = parent._muted;\n            self._loop = parent._loop;\n            self._volume = parent._volume;\n            self._rate = parent._rate;\n            self._seek = 0;\n            self._rateSeek = 0;\n            self._paused = true;\n            self._ended = true;\n            self._sprite = '__default';\n            self._id = ++Howler._counter;\n            return self;\n        },\n        _errorListener: function() {\n            var self = this;\n            self._parent._emit('loaderror', self._id, self._node.error ? self._node.error.code : 0);\n            self._node.removeEventListener('error', self._errorFn, false);\n        },\n        _loadListener: function() {\n            var self = this;\n            var parent = self._parent;\n            parent._duration = Math.ceil(self._node.duration * 10) / 10;\n            if (Object.keys(parent._sprite).length === 0) {\n                parent._sprite = {\n                    __default: [0, parent._duration * 1000]\n                };\n            }\n            if (parent._state !== 'loaded') {\n                parent._state = 'loaded';\n                parent._emit('load');\n                parent._loadQueue();\n            }\n            self._node.removeEventListener(Howler._canPlayEvent, self._loadFn, false);\n        }\n    };\n    var cache = {};\n    var loadBuffer = function(self) {\n        var url = self._src;\n        if (cache[url]) {\n            self._duration = cache[url].duration;\n            loadSound(self);\n            return;\n        }\n        if (/^data:[^;]+;base64,/.test(url)) {\n            var data = atob(url.split(',')[1]);\n            var dataView = new Uint8Array(data.length);\n            for (var i = 0; i < data.length; ++i) {\n                dataView[i] = data.charCodeAt(i);\n            }\n            decodeAudioData(dataView.buffer, self);\n        } else {\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', url, true);\n            xhr.withCredentials = self._xhrWithCredentials;\n            xhr.responseType = 'arraybuffer';\n            xhr.onload = function() {\n                var code = (xhr.status + '')[0];\n                if (code !== '0' && code !== '2' && code !== '3') {\n                    self._emit('loaderror', null, 'Failed loading audio file with status: ' + xhr.status + '.');\n                    return;\n                }\n                decodeAudioData(xhr.response, self);\n            }\n            ;\n            xhr.onerror = function() {\n                if (self._webAudio) {\n                    self._html5 = true;\n                    self._webAudio = false;\n                    self._sounds = [];\n                    delete cache[url];\n                    self.load();\n                }\n            }\n            ;\n            safeXhrSend(xhr);\n        }\n    };\n    var safeXhrSend = function(xhr) {\n        try {\n            xhr.send();\n        } catch (e) {\n            xhr.onerror();\n        }\n    };\n    var decodeAudioData = function(arraybuffer, self) {\n        Howler.ctx.decodeAudioData(arraybuffer, function(buffer) {\n            if (buffer && self._sounds.length > 0) {\n                cache[self._src] = buffer;\n                loadSound(self, buffer);\n            }\n        }, function() {\n            self._emit('loaderror', null, 'Decoding audio data failed.');\n        });\n    };\n    var loadSound = function(self, buffer) {\n        if (buffer && !self._duration) {\n            self._duration = buffer.duration;\n        }\n        if (Object.keys(self._sprite).length === 0) {\n            self._sprite = {\n                __default: [0, self._duration * 1000]\n            };\n        }\n        if (self._state !== 'loaded') {\n            self._state = 'loaded';\n            self._emit('load');\n            self._loadQueue();\n        }\n    };\n    var setupAudioContext = function() {\n        try {\n            if (typeof AudioContext !== 'undefined') {\n                Howler.ctx = new AudioContext();\n            } else if (typeof webkitAudioContext !== 'undefined') {\n                Howler.ctx = new webkitAudioContext();\n            } else {\n                Howler.usingWebAudio = false;\n            }\n        } catch (e) {\n            Howler.usingWebAudio = false;\n        }\n        var iOS = (/iP(hone|od|ad)/.test(Howler._navigator && Howler._navigator.platform));\n        var appVersion = Howler._navigator && Howler._navigator.appVersion.match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n        var version = appVersion ? parseInt(appVersion[1], 10) : null;\n        if (iOS && version && version < 9) {\n            var safari = /safari/.test(Howler._navigator && Howler._navigator.userAgent.toLowerCase());\n            if (Howler._navigator && Howler._navigator.standalone && !safari || Howler._navigator && !Howler._navigator.standalone && !safari) {\n                Howler.usingWebAudio = false;\n            }\n        }\n        if (Howler.usingWebAudio) {\n            Howler.masterGain = (typeof Howler.ctx.createGain === 'undefined') ? Howler.ctx.createGainNode() : Howler.ctx.createGain();\n            Howler.masterGain.gain.setValueAtTime(Howler._muted ? 0 : 1, Howler.ctx.currentTime);\n            Howler.masterGain.connect(Howler.ctx.destination);\n        }\n        Howler._setup();\n    };\n    if (typeof define === 'function' && define.amd) {\n        define([], function() {\n            return {\n                Howler: Howler,\n                Howl: Howl\n            };\n        });\n    }\n    if (typeof exports !== 'undefined') {\n        exports.Howler = Howler;\n        exports.Howl = Howl;\n    }\n    if (typeof window !== 'undefined') {\n        window.HowlerGlobal = HowlerGlobal;\n        window.Howler = Howler;\n        window.Howl = Howl;\n        window.Sound = Sound;\n    } else if (typeof global !== 'undefined') {\n        global.HowlerGlobal = HowlerGlobal;\n        global.Howler = Howler;\n        global.Howl = Howl;\n        global.Sound = Sound;\n    }\n}\n)();\n","/**\n * jquery-qr ( //http://github.com/farmisen/jquery-qr/ ) \n * Copyright (c) Fabrice Armisen 2010\n * Licensed under the MIT license ( http://www.opensource.org/licenses/mit-license.php )\n *\n * Modified by Maximillian Laumeister for BitListen.com\n */\n \n (function ($) {\n\n  $.fn.qr = function (options) {\n\n    return this.each(function () {\n\n      var settings = {\n        'size': '230',\n        'delay': '0'\n      };\n\n      if (options) {\n        $.extend(settings, options);\n      }\n\n      var $this = $(this);\n\n      $this.qr_div = createQR($this.attr('qrtarget'), settings.size);\n\n      $this.mouseenter(function (event) {\n        $this.qr_timeout_id = window.setTimeout(function () {\n          $($this.qr_div).css({\n            'display': 'block',\n            'top': event.pageY + 5,\n            'left': event.pageX + 15\n          });\n        }, settings.delay);\n\n      });\n\n      $this.mouseleave(function (event) {\n        if ($this.qr_timeout_id != null) {\n          window.clearTimeout($this.qr_timeout_id);\n          $this.qr_timeout_id = null;\n        }\n        $($this.qr_div).css({\n          display: \"none\"\n        });\n\n      });\n    }); //each\n\n    function createQR(href, size) {\n      var url = escape(href);\n      while (url.indexOf('/') != -1) url = url.replace('/', '%2f');\n\n      var qr = document.createElement(\"div\");\n      $qr = $(qr)\n      $qr.css({\n        'background': \"url('https://chart.apis.google.com/chart?cht=qr&chs=\" + size + \"x\" + size + \"&chl=\" + url + \"') no-repeat\",\n        'width': size + 'px',\n        'height': size + 'px',\n        'display': \"none\",\n        \"border-style\": \"solid\",\n        'border-width': \"1px\",\n        'position': 'absolute',\n        'z-index': '1000'\n      });\n      $('body').append($qr);\n      return qr;\n    }\n\n  };\n})(jQuery);","/*! $.noUiSlider - WTFPL - refreshless.com/nouislider/ */\n\n/*jslint browser: true */\n/*jslint devel: true */\n/*jslint continue: true */\n/*jslint plusplus: true */\n/*jslint sub: true */\n/*jslint white: true */\n\n// ==ClosureCompiler==\n// @externs_url http://refreshless.com/externs/jquery-1.8.js\n// @compilation_level ADVANCED_OPTIMIZATIONS\n// @warning_level VERBOSE\n// ==/ClosureCompiler==\n\n(function( $ ){\n\n\t'use strict';\n\n\tvar\n\t// Cache the document selector;\n/** @const */ doc = $(document),\n\t// Namespace for binding and unbinding slider events;\n/** @const */ namespace = '.nui',\n\t// Copy of the current value function;\n/** @const */ $val = $.fn.val,\n\t// Determine the events to bind. IE11 implements pointerEvents without\n\t// a prefix, which breaks compatibility with the IE10 implementation.\n/** @const */ actions = window.navigator.pointerEnabled ? {\n\t\tstart: 'pointerdown',\n\t\tmove: 'pointermove',\n\t\tend: 'pointerup'\n\t} : window.navigator.msPointerEnabled ? {\n\t\tstart: 'MSPointerDown',\n\t\tmove: 'MSPointerMove',\n\t\tend: 'MSPointerUp'\n\t} : {\n\t\tstart: 'mousedown touchstart',\n\t\tmove: 'mousemove touchmove',\n\t\tend: 'mouseup touchend'\n\t},\n\t// Re-usable list of classes;\n/** @const */ Classes = [\n/*  0 */  'noUi-target'\n/*  1 */ ,'noUi-base'\n/*  2 */ ,'noUi-origin'\n/*  3 */ ,'noUi-handle'\n/*  4 */ ,'noUi-horizontal'\n/*  5 */ ,'noUi-vertical'\n/*  6 */ ,'noUi-background'\n/*  7 */ ,'noUi-connect'\n/*  8 */ ,'noUi-ltr'\n/*  9 */ ,'noUi-rtl'\n/* 10 */ ,'noUi-dragable'\n/* 11 */ ,''\n/* 12 */ ,'noUi-state-drag'\n/* 13 */ ,''\n/* 14 */ ,'noUi-state-tap'\n/* 15 */ ,'noUi-active'\n/* 16 */ ,'noUi-extended'\n/* 17 */ ,'noUi-stacking'\n\t],\n/** @const */ Formatting = [\n/*  0 */  'decimals'\n/*  1 */ ,'mark'\n/*  2 */ ,'thousand'\n/*  3 */ ,'prefix'\n/*  4 */ ,'postfix'\n/*  5 */ ,'encoder'\n/*  6 */ ,'decoder'\n/*  7 */ ,'negative'\n/*  8 */ ,'negativeBefore'\n\t],\n/** @const */ FormatDefaults = [\n/*  0 */  2\n/*  1 */ ,'.'\n/*  2 */ ,''\n/*  3 */ ,''\n/*  4 */ ,''\n/*  5 */ ,function(a){ return a; }\n/*  6 */ ,function(a){ return a; }\n/*  7 */ ,'-'\n/*  8 */ ,''\n\t];\n\n\n// Error handling\n\n\tfunction throwError( message ){\n\t\tthrow new RangeError('noUiSlider: ' + message);\n\t}\n\n\t// Throw an error if formatting options are incompatible.\n\tfunction throwEqualError( F, a, b ) {\n\t\tif ( (F[a] || F[b]) && (F[a] === F[b]) ) {\n\t\t\tthrowError(\"(Link) '\"+a+\"' can't match '\"+b+\"'.'\");\n\t\t}\n\t}\n\n\n// General helpers\n\n\t// Limits a value to 0 - 100\n\tfunction limit ( a ) {\n\t\treturn Math.max(Math.min(a, 100), 0);\n\t}\n\n\t// Round a value to the closest 'to'.\n\tfunction closest ( value, to ) {\n\t\treturn Math.round(value / to) * to;\n\t}\n\n\t// Determine the size of a sub-range in relation to a full range.\n\tfunction subRangeRatio ( pa, pb ) {\n\t\treturn (100 / (pb - pa));\n\t}\n\n\n// Type validation\n\n\tfunction typeMatch ( a, b ) {\n\t\treturn (typeof a) === (typeof b);\n\t}\n\n\t// Test in an object is an instance of jQuery or Zepto.\n\tfunction isInstance ( a ) {\n\t\treturn a instanceof $ || ( $['zepto'] && $['zepto']['isZ'](a) );\n\t}\n\n\t// Checks whether a value is numerical.\n\tfunction isNumeric ( a ) {\n\t\treturn typeof a === 'number' && !isNaN( a ) && isFinite( a );\n\t}\n\n\t// Wraps a variable as an array, if it isn't one yet.\n\tfunction asArray ( a ) {\n\t\treturn $.isArray(a) ? a : [a];\n\t}\n\n\n// Class handling\n\n\t// Sets a class and removes it after [duration] ms.\n\tfunction addClassFor ( element, className, duration ) {\n\t\telement.addClass(className);\n\t\tsetTimeout(function(){\n\t\t\telement.removeClass(className);\n\t\t}, duration);\n\t}\n\n\t// Tests if element has a class, adds it if not. Returns original state.\n\tfunction getsClass ( element, className ) {\n\n\t\tvar has = element.hasClass(className);\n\n\t\tif ( !has ) {\n\t\t\telement.addClass( className );\n\t\t}\n\n\t\treturn has;\n\t}\n\n\n// Value calculation\n\n\t// (percentage) How many percent is this value of this range?\n\tfunction fromPercentage ( range, value ) {\n\t\treturn (value * 100) / ( range[1] - range[0] );\n\t}\n\n\t// (percentage) Where is this value on this range?\n\tfunction toPercentage ( range, value ) {\n\t\treturn fromPercentage( range, range[0] < 0 ?\n\t\t\tvalue + Math.abs(range[0]) :\n\t\t\t\tvalue - range[0] );\n\t}\n\n\t// (value) How much is this percentage on this range?\n\tfunction isPercentage ( range, value ) {\n\t\treturn ((value * ( range[1] - range[0] )) / 100) + range[0];\n\t}\n\n\t// (percentage)\n\tfunction toStepping ( options, value ) {\n\n\t\tif ( value >= options.xVal.slice(-1)[0] ){\n\t\t\treturn 100;\n\t\t}\n\n\t\tvar j = 1, va, vb, pa, pb;\n\t\twhile ( value >= options.xVal[j] ){\n\t\t\tj++;\n\t\t}\n\n\t\tva = options.xVal[j-1];\n\t\tvb = options.xVal[j];\n\t\tpa = options.xPct[j-1];\n\t\tpb = options.xPct[j];\n\n\t\treturn pa + (toPercentage([va, vb], value) / subRangeRatio (pa, pb));\n\t}\n\n\t// (value)\n\tfunction fromStepping ( options, value ) {\n\n\t\t// There is no range group that fits 100\n\t\tif ( value >= 100 ){\n\t\t\treturn options.xVal.slice(-1)[0];\n\t\t}\n\n\t\tvar j = 1, va, vb, pa, pb;\n\t\twhile ( value >= options.xPct[j] ){\n\t\t\tj++;\n\t\t}\n\n\t\tva = options.xVal[j-1];\n\t\tvb = options.xVal[j];\n\t\tpa = options.xPct[j-1];\n\t\tpb = options.xPct[j];\n\n\t\treturn isPercentage([va, vb], (value - pa) * subRangeRatio (pa, pb));\n\t}\n\n\t// (percentage) Get the step that applies at a certain value.\n\tfunction getStep ( options, value ){\n\n\t\tvar j = 1, a, b;\n\t\twhile ( value >= options.xPct[j] ){\n\t\t\tj++;\n\t\t}\n\n\t\tif ( options.snap ) {\n\n\t\t\ta = options.xPct[j-1];\n\t\t\tb = options.xPct[j];\n\n\t\t\tif ((value - a) > ((b-a)/2)){\n\t\t\t\treturn b;\n\t\t\t}\n\n\t\t\treturn a;\n\t\t}\n\n\t\tif ( !options.xSteps[j-1] ){\n\t\t\treturn value;\n\t\t}\n\n\t\treturn options.xPct[j-1] + closest(\n\t\t\tvalue - options.xPct[j-1],\n\t\t\toptions.xSteps[j-1]\n\t\t);\n\t}\n\n\n// Event handling\n\n\t// Provide a clean event with standardized offset values.\n\tfunction fixEvent ( e ) {\n\n\t\t// Prevent scrolling and panning on touch events, while\n\t\t// attempting to slide. The tap event also depends on this.\n\t\te.preventDefault();\n\n\t\t// Filter the event to register the type, which can be\n\t\t// touch, mouse or pointer. Offset changes need to be\n\t\t// made on an event specific basis.\n\t\tvar  touch = e.type.indexOf('touch') === 0\n\t\t\t,mouse = e.type.indexOf('mouse') === 0\n\t\t\t,pointer = e.type.indexOf('pointer') === 0\n\t\t\t,x,y, event = e;\n\n\t\t// IE10 implemented pointer events with a prefix;\n\t\tif ( e.type.indexOf('MSPointer') === 0 ) {\n\t\t\tpointer = true;\n\t\t}\n\n\t\t// Get the originalEvent, if the event has been wrapped\n\t\t// by jQuery. Zepto doesn't wrap the event.\n\t\tif ( e.originalEvent ) {\n\t\t\te = e.originalEvent;\n\t\t}\n\n\t\tif ( touch ) {\n\t\t\t// noUiSlider supports one movement at a time,\n\t\t\t// so we can select the first 'changedTouch'.\n\t\t\tx = e.changedTouches[0].pageX;\n\t\t\ty = e.changedTouches[0].pageY;\n\t\t}\n\n\t\tif ( mouse || pointer ) {\n\n\t\t\t// Polyfill the pageXOffset and pageYOffset\n\t\t\t// variables for IE7 and IE8;\n\t\t\tif( !pointer && window.pageXOffset === undefined ){\n\t\t\t\twindow.pageXOffset = document.documentElement.scrollLeft;\n\t\t\t\twindow.pageYOffset = document.documentElement.scrollTop;\n\t\t\t}\n\n\t\t\tx = e.clientX + window.pageXOffset;\n\t\t\ty = e.clientY + window.pageYOffset;\n\t\t}\n\n\t\tevent.points = [x, y];\n\t\tevent.cursor = mouse;\n\n\t\treturn event;\n\t}\n\n\n// Organize formatting in an object.\n\n\t/** @constructor */\n\tfunction Format( options ){\n\n\t\t// If no settings where provided, the defaults will be loaded.\n\t\tif ( options === undefined ){\n\t\t\toptions = {};\n\t\t}\n\n\t\tif ( typeof options !== 'object' ){\n\t\t\tthrowError(\"(Format) 'format' option must be an object.\");\n\t\t}\n\n\t\tvar settings = {};\n\n\t\t// Copy all values into a new object.\n\t\t$(Formatting).each(function(i, val){\n\n\t\t\tif ( options[val] === undefined ){\n\n\t\t\t\tsettings[val] = FormatDefaults[i];\n\n\t\t\t// When we aren't loading defaults, validate the entry.\n\t\t\t} else if ( typeMatch(options[val],  FormatDefaults[i]) ) {\n\n\t\t\t\t// Support for up to 7 decimals.\n\t\t\t\t// More can't be guaranteed due to floating point issues.\n\t\t\t\tif ( val === 'decimals' ){\n\t\t\t\t\tif ( options[val] < 0 || options[val] > 7 ){\n\t\t\t\t\t\tthrowError(\"(Format) 'format.decimals' option must be between 0 and 7.\");\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tsettings[val] = options[val];\n\n\t\t\t// If the value isn't valid, emit an error.\n\t\t\t} else {\n\t\t\t\tthrowError(\"(Format) 'format.\"+val+\"' must be a \" + typeof FormatDefaults[i] + \".\");\n\t\t\t}\n\t\t});\n\n\t\t// Some values can't be extracted from a\n\t\t// string if certain combinations are present.\n\t\tthrowEqualError(settings, 'mark', 'thousand');\n\t\tthrowEqualError(settings, 'prefix', 'negative');\n\t\tthrowEqualError(settings, 'prefix', 'negativeBefore');\n\n\t\tthis.settings = settings;\n\t}\n\n\t// Shorthand for internal value get\n\tFormat.prototype.v = function ( a ) {\n\t\treturn this.settings[a];\n\t};\n\n\tFormat.prototype.to = function ( number ) {\n\n\t\tfunction reverse ( a ) {\n\t\t\treturn a.split('').reverse().join('');\n\t\t}\n\n\t\tnumber = this.v('encoder')( number );\n\n\t\tvar negative = '', preNegative = '', base = '', mark = '';\n\n\t\tif ( number < 0 ) {\n\t\t\tnegative = this.v('negative');\n\t\t\tpreNegative = this.v('negativeBefore');\n\t\t}\n\n\t\t// Round to proper decimal count\n\t\tnumber = Math.abs(number).toFixed( this.v('decimals') ).toString();\n\t\tnumber = number.split('.');\n\n\t\t// Rounding away decimals might cause a value of -0\n\t\t// when using very small ranges. Remove those cases.\n\t\tif ( parseFloat(number) === 0 ) {\n\t\t\tnumber[0] = '0';\n\t\t}\n\n\t\t// Group numbers in sets of three.\n\t\tif ( this.v('thousand') ) {\n\t\t\tbase = reverse(number[0]).match(/.{1,3}/g);\n\t\t\tbase = reverse(base.join(reverse( this.v('thousand') )));\n\t\t} else {\n\t\t\tbase = number[0];\n\t\t}\n\n\t\t// Ignore the decimal separator if decimals are set to 0.\n\t\tif ( this.v('mark') && number.length > 1 ) {\n\t\t\tmark = this.v('mark') + number[1];\n\t\t}\n\n\t\t// Return the finalized formatted number.\n\t\treturn preNegative +\n\t\t\tthis.v('prefix') +\n\t\t\tnegative +\n\t\t\tbase +\n\t\t\tmark +\n\t\t\tthis.v('postfix');\n\t};\n\n\tFormat.prototype.from = function ( input ) {\n\n\t\tfunction esc(s){\n\t\t\treturn s.replace(/[\\-\\/\\\\\\^$*+?.()|\\[\\]{}]/g, '\\\\$&');\n\t\t}\n\n\t\tvar isNeg;\n\t\t// The set request might want to ignore this handle.\n\t\t// Test for 'undefined' too, as a two-handle slider\n\t\t// can still be set with an integer.\n\t\tif( input === null || input === undefined ) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Remove formatting and set period for float parsing.\n\t\tinput = input.toString();\n\n\t\t// Replace the preNegative indicator.\n\t\tisNeg = input.replace(new RegExp('^' + esc( this.v('negativeBefore') )), '');\n\n\t\t// Check if the value changed by removing the negativeBefore symbol.\n\t\tif( input !== isNeg ) {\n\t\t\tinput = isNeg;\n\t\t\tisNeg = '-';\n\t\t} else {\n\t\t\tisNeg = '';\n\t\t}\n\n\t\t// If prefix is set and the number is actually prefixed.\n\t\tinput = input.replace(new RegExp('^'+esc( this.v('prefix') )), '');\n\n\t\t// Only replace if a negative sign is set.\n\t\tif ( this.v['negative'] ) {\n\n\t\t\t// Reset isNeg to prevent double '-' insertion.\n\t\t\tisNeg = '';\n\n\t\t\t// Reset the negative sign to '-'\n\t\t\tinput = input.replace(new RegExp('^'+esc( this.v('negative') )), '-');\n\t\t}\n\n\t\t// Clean the input string\n\t\tinput = input\n\t\t// If postfix is set and the number is postfixed.\n\t\t\t.replace( new RegExp(esc( this.v('postfix') ) + '$'), '')\n\t\t// Remove the separator every three digits.\n\t\t\t.replace( new RegExp(esc( this.v('thousand') ), 'g'), '')\n\t\t// Set the decimal separator back to period.\n\t\t\t.replace( this.v('mark'), '.');\n\n\t\t// Run the user defined decoder. Returns input by default.\n\t\tinput = this.v('decoder')( parseFloat( isNeg + input ) );\n\n\t\t// Ignore invalid input\n\t\tif (isNaN( input )) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn input;\n\t};\n\n\n// Serialization target\n\n/** @constructor */\n\tfunction Link( entry, update ){\n\n\t\t// Make sure Link isn't called as a function, in which case\n\t\t// the 'this' scope would be the window.\n\t\tif ( !(this instanceof Link) ) {\n\t\t\tthrow new Error( \"Link: \" +\n\t\t\t\t\"Don't use Link as a function. \" +\n\t\t\t\t\"Use the 'new' keyword.\");\n\t\t}\n\n\t\tif ( !entry ) {\n\t\t\tthrow new RangeError(\"Link: missing parameters.\");\n\t\t}\n\n\t\t// Write all formatting to this object.\n\t\t// No validation needed, as we'll merge these with the parent\n\t\t// format options first.\n\t\tthis.formatting = entry['format'] || {};\n\n\t\t// Store the update option.\n\t\tthis.update = !update;\n\n\t\t// In IE < 9, .bind() isn't available, need this link in .change().\n\tvar that = this,\n\n\t\t// Get values from the input.\n\t\ttarget = entry['target'] || function(){},\n\t\tmethod = entry['method'],\n\n\t\t// Find the type of this link.\n\t\tisTooltip = ( typeof target === 'string' && target.indexOf('-tooltip-') === 0 ),\n\t\tisHidden = ( typeof target === 'string' && target.indexOf('-') !== 0 ),\n\t\tisMethod = ( typeof target === 'function' ),\n\t\tis$ = ( isInstance(target) ),\n\t\tisInput = ( is$ && target.is('input, select, textarea') ),\n\t\tmethodIsFunction = ( is$ && typeof method === 'function' ),\n\t\tmethodIsName = ( is$ && typeof method === 'string' && target[method] );\n\n\t\t// If target is a string, a new hidden input will be created.\n\t\tif ( isTooltip ) {\n\n\t\t\t// By default, use the 'html' method.\n\t\t\tthis.method = method || 'html';\n\n\t\t\t// Use jQuery to create the element\n\t\t\tthis.el = $( target.replace('-tooltip-', '') || '<div/>' )[0];\n\n\t\t\treturn;\n\t\t}\n\n\t\t// If the string doesn't begin with '-', which is reserved, add a new hidden input.\n\t\tif ( isHidden ) {\n\n\t\t\tthis.method = 'val';\n\n\t\t\tthis.el = document.createElement('input');\n\t\t\tthis.el.name = target;\n\t\t\tthis.el.type = 'hidden';\n\n\t\t\treturn;\n\t\t}\n\n\t\t// The target can also be a function, which will be called.\n\t\tif ( isMethod ) {\n\t\t\tthis.target = false;\n\t\t\tthis.method = target;\n\t\t\treturn;\n\t\t}\n\n\t\t// If the target is and $ element.\n\t\tif ( is$ ) {\n\n\t\t\t// The method must exist on the element.\n\t\t\tif ( method && ( methodIsFunction || methodIsName ) ) {\n\t\t\t\tthis.target = target;\n\t\t\t\tthis.method = method;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If a jQuery/Zepto input element is provided, but no method is set,\n\t\t\t// the element can assume it needs to respond to 'change'...\n\t\t\tif ( !method && isInput ) {\n\n\t\t\t\t// Default to .val if this is an input element.\n\t\t\t\tthis.method = 'val';\n\t\t\t\tthis.target = target;\n\n\t\t\t\t// Set the slider to a new value on change.\n\t\t\t\tthis.target.on('change', function( e ){\n\n\t\t\t\t\t// Returns null array.\n\t\t\t\t\tfunction at(a,b,c){\n\t\t\t\t\t\treturn [c?a:b, c?b:a];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar output = at(null, $(e.target).val(), that.N);\n\n\t\t\t\t\tthat.obj.val(output, { 'link': that });\n\t\t\t\t});\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// ... or not.\n\t\t\tif ( !method && !isInput ) {\n\n\t\t\t\t// Default arbitrarily to 'html'.\n\t\t\t\tthis.method = 'html';\n\t\t\t\tthis.target = target;\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tthrow new RangeError(\"Link: Invalid Link.\");\n\t}\n\n\t// Provides external items with the slider value.\n\tLink.prototype.write = function ( options, value, handle, slider, update ) {\n\n\t\t// Don't synchronize this Link.\n\t\tif ( this.update && update === false ) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Convert the value to the slider stepping/range.\n\t\tvalue = fromStepping( options, value );\n\n\t\t// Format values for display.\n\t\tvalue = this.format( value );\n\n\t\t// Store the numerical value.\n\t\tthis.saved = value;\n\n\t\t// Branch between serialization to a function or an object.\n\t\tif ( typeof this.method === 'function' ) {\n\t\t\t// When target is undefined, the target was a function.\n\t\t\t// In that case, provided the slider as the calling scope.\n\t\t\t// Use [0] to get the DOM element, not the $ instance.\n\t\t\tthis.method.call( this.target[0] || slider[0], value, handle, slider );\n\t\t} else {\n\t\t\tthis.target[ this.method ]( value, handle, slider );\n\t\t}\n\t};\n\n\t// Parses slider value to user defined display.\n\tLink.prototype.format = function ( a ) {\n\t\treturn this.formatting.to(a);\n\t};\n\n\t// Converts a formatted value back to a real number.\n\tLink.prototype.valueOf = function ( a ) {\n\t\treturn this.formatting.from(a);\n\t};\n\n\n// Input validation\n\n\tfunction testStep ( parsed, entry ) {\n\n\t\tif ( !isNumeric( entry ) ) {\n\t\t\tthrowError(\"'step' is not numeric.\");\n\t\t}\n\n\t\t// The step option can still be used to set stepping\n\t\t// for linear sliders. Overwritten if set in 'range'.\n\t\tparsed.xSteps[0] = entry;\n\t}\n\n\tfunction testRange ( parsed, entry ) {\n\n\t\t// Filter incorrect input.\n\t\tif ( typeof entry !== 'object' || $.isArray(entry) ) {\n\t\t\tthrowError(\"'range' is not an object.\");\n\t\t}\n\n\t\t// Loop all entries.\n\t\t$.each( entry, function ( index, value ) {\n\n\t\t\tvar percentage;\n\n\t\t\t// Wrap numerical input in an array.\n\t\t\tif ( typeof value === \"number\" ) {\n\t\t\t\tvalue = [value];\n\t\t\t}\n\n\t\t\t// Reject any invalid input.\n\t\t\tif ( !$.isArray( value ) ){\n\t\t\t\tthrowError(\"'range' contains invalid value.\");\n\t\t\t}\n\n\t\t\t// Covert min/max syntax to 0 and 100.\n\t\t\tif ( index === 'min' ) {\n\t\t\t\tpercentage = 0;\n\t\t\t} else if ( index === 'max' ) {\n\t\t\t\tpercentage = 100;\n\t\t\t} else {\n\t\t\t\tpercentage = parseFloat( index );\n\t\t\t}\n\n\t\t\t// Check for correct input.\n\t\t\tif ( !isNumeric( percentage ) || !isNumeric( value[0] ) ) {\n\t\t\t\tthrowError(\"'range' value isn't numeric.\");\n\t\t\t}\n\n\t\t\t// Store values.\n\t\t\tparsed.xPct.push( percentage );\n\t\t\tparsed.xVal.push( value[0] );\n\n\t\t\t// NaN will evaluate to false too, but to keep\n\t\t\t// logging clear, set step explicitly. Make sure\n\t\t\t// not to override the 'step' setting with false.\n\t\t\tif ( !percentage ) {\n\t\t\t\tif ( !isNaN( value[1] ) ) {\n\t\t\t\t\tparsed.xSteps[0] = value[1];\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tparsed.xSteps.push( isNaN(value[1]) ? false : value[1] );\n\t\t\t}\n\t\t});\n\n\t\t$.each(parsed.xSteps, function(i,n){\n\n\t\t\t// Ignore 'false' stepping.\n\t\t\tif ( !n ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// Check if step fits. Not required, but this might serve some goal.\n\t\t\t// !((parsed.xVal[i+1] - parsed.xVal[i]) % n);\n\n\t\t\t// Factor to range ratio\n\t\t\tparsed.xSteps[i] = fromPercentage([\n\t\t\t\t parsed.xVal[i]\n\t\t\t\t,parsed.xVal[i+1]\n\t\t\t], n) / subRangeRatio (\n\t\t\t\tparsed.xPct[i],\n\t\t\t\tparsed.xPct[i+1] );\n\t\t});\n\t}\n\n\tfunction testStart ( parsed, entry ) {\n\n\t\tif ( typeof entry === \"number\" ) {\n\t\t\tentry = [entry];\n\t\t}\n\n\t\t// Validate input. Values aren't tested, the internal Link will do\n\t\t// that and provide a valid location.\n\t\tif ( !$.isArray( entry ) || !entry.length || entry.length > 2 ) {\n\t\t\tthrowError(\"'start' option is incorrect.\");\n\t\t}\n\n\t\t// Store the number of handles.\n\t\tparsed.handles = entry.length;\n\n\t\t// When the slider is initialized, the .val method will\n\t\t// be called with the start options.\n\t\tparsed.start = entry;\n\t}\n\n\tfunction testSnap ( parsed, entry ) {\n\n\t\t// Enforce 100% stepping within subranges.\n\t\tparsed.snap = entry;\n\n\t\tif ( typeof entry !== 'boolean' ){\n\t\t\tthrowError(\"'snap' option must be a boolean.\");\n\t\t}\n\t}\n\n\tfunction testConnect ( parsed, entry ) {\n\n\t\tif ( entry === 'lower' && parsed.handles === 1 ) {\n\t\t\tparsed.connect = 1;\n\t\t} else if ( entry === 'upper' && parsed.handles === 1 ) {\n\t\t\tparsed.connect = 2;\n\t\t} else if ( entry === true && parsed.handles === 2 ) {\n\t\t\tparsed.connect = 3;\n\t\t} else if ( entry === false ) {\n\t\t\tparsed.connect = 0;\n\t\t} else {\n\t\t\tthrowError(\"'connect' option was doesn't match handle count.\");\n\t\t}\n\t}\n\n\tfunction testOrientation ( parsed, entry ) {\n\n\t\t// Set orientation to an a numerical value for easy\n\t\t// array selection.\n\t\tswitch ( entry ){\n\t\t  case 'horizontal':\n\t\t\tparsed.ort = 0;\n\t\t\tbreak;\n\t\t  case 'vertical':\n\t\t\tparsed.ort = 1;\n\t\t\tbreak;\n\t\t  default:\n\t\t\tthrowError(\"'orientation' option is invalid.\");\n\t\t}\n\t}\n\n\tfunction testMargin ( parsed, entry ) {\n\n\t\tif ( parsed.xPct.length > 2 ) {\n\t\t\tthrowError(\"'margin' option is only supported on linear sliders.\");\n\t\t}\n\n\t\t// Parse value to range and store. As xVal is checked\n\t\t// to be no bigger than 2, use it as range.\n\t\tparsed.margin = fromPercentage(parsed.xVal, entry);\n\n\t\tif ( !isNumeric(entry) ){\n\t\t\tthrowError(\"'margin' option must be numeric.\");\n\t\t}\n\t}\n\n\tfunction testDirection ( parsed, entry ) {\n\n\t\t// Set direction as a numerical value for easy parsing.\n\t\t// Invert connection for RTL sliders, so that the proper\n\t\t// handles get the connect/background classes.\n\t\tswitch ( entry ) {\n\t\t  case 'ltr':\n\t\t\tparsed.dir = 0;\n\t\t\tbreak;\n\t\t  case 'rtl':\n\t\t\tparsed.dir = 1;\n\t\t\tparsed.connect = [0,2,1,3][parsed.connect];\n\t\t\tbreak;\n\t\t  default:\n\t\t\tthrowError(\"'direction' option was not recognized.\");\n\t\t}\n\t}\n\n\tfunction testBehaviour ( parsed, entry ) {\n\n\t\t// Make sure the input is a string.\n\t\tif ( typeof entry !== 'string' ) {\n\t\t\tthrowError(\"'behaviour' must be a string containing options.\");\n\t\t}\n\n\t\t// Check if the string contains any keywords.\n\t\t// None are required.\n\t\tvar tap = entry.indexOf('tap') >= 0,\n\t\t\textend = entry.indexOf('extend') >= 0,\n\t\t\tdrag = entry.indexOf('drag') >= 0,\n\t\t\tfixed = entry.indexOf('fixed') >= 0,\n\t\t\tsnap = entry.indexOf('snap') >= 0;\n\n\t\tparsed.events = {\n\t\t\ttap: tap || snap,\n\t\t\textend: extend,\n\t\t\tdrag: drag,\n\t\t\tfixed: fixed,\n\t\t\tsnap: snap\n\t\t};\n\t}\n\n\tfunction testSerialization ( parsed, entry, sliders ) {\n\n\t\tparsed.ser = [ entry['lower'], entry['upper'] ];\n\t\tparsed.formatting = new Format( entry['format'] );\n\n\t\t$.each( parsed.ser, function( i, a ){\n\n\t\t\t// Check if the provided option is an array.\n\t\t\tif ( !$.isArray(a) ) {\n\t\t\t\tthrowError(\"'serialization.\"+(!i?'lower':'upper')+\"' must be an array.\");\n\t\t\t}\n\n\t\t\t$.each(a, function(){\n\n\t\t\t\t// Check if entry is a Link.\n\t\t\t\tif ( !(this instanceof Link) ) {\n\t\t\t\t\tthrowError(\"'serialization.\"+(!i?'lower':'upper')+\"' can only contain Link instances.\");\n\t\t\t\t}\n\n\t\t\t\t// Assign other properties.\n\t\t\t\tthis.N = i;\n\t\t\t\tthis.obj = sliders;\n\t\t\t\tthis.scope = this.scope || sliders;\n\n\t\t\t\t// Run internal validator.\n\t\t\t\tthis.formatting = new Format($.extend({}\n\t\t\t\t\t,entry['format']\n\t\t\t\t\t,this.formatting\n\t\t\t\t));\n\t\t\t});\n\t\t});\n\n\t\t// If the slider has two handles and is RTL,\n\t\t// reverse the serialization input. For one handle,\n\t\t// lower is still lower.\n\t\tif ( parsed.dir && parsed.handles > 1 ) {\n\t\t\tparsed.ser.reverse();\n\t\t}\n\t}\n\n\t// Test all developer settings and parse to assumption-safe values.\n\tfunction test ( options, sliders ){\n\n\t/*\tEvery input option is tested and parsed. This'll prevent\n\t\tendless validation in internal methods. These tests are\n\t\tstructured with an item for every option available. An\n\t\toption can be marked as required by setting the 'r' flag.\n\t\tThe testing function is provided with three arguments:\n\t\t\t- The provided value for the option;\n\t\t\t- A reference to the options object;\n\t\t\t- The name for the option;\n\n\t\tThe testing function returns false when an error is detected,\n\t\tor true when everything is OK. It can also modify the option\n\t\tobject, to make sure all values can be correctly looped elsewhere. */\n\n\t\tvar parsed = {\n\t\t\t xPct: []\n\t\t\t,xVal: []\n\t\t\t,xSteps: [ false ]\n\t\t\t,margin: 0\n\t\t}, tests;\n\n\t\ttests = {\n\t\t\t'step': { r: false, t: testStep },\n\t\t\t'range': { r: true, t: testRange },\n\t\t\t'start': { r: true, t: testStart },\n\t\t\t'snap': { r: false, t: testSnap },\n\t\t\t'connect': { r: true, t: testConnect },\n\t\t\t'orientation': { r: false, t: testOrientation },\n\t\t\t'margin': { r: false, t: testMargin },\n\t\t\t'direction': { r: true, t: testDirection },\n\t\t\t'behaviour': { r: true, t: testBehaviour },\n\t\t\t'serialization': { r: true, t: testSerialization }\n\t\t};\n\n\t\t// Set defaults where applicable.\n\t\toptions = $.extend({\n\t\t\t 'connect': false\n\t\t\t,'direction': 'ltr'\n\t\t\t,'behaviour': 'tap'\n\t\t\t,'orientation': 'horizontal'\n\t\t}, options);\n\n\t\t// Make sure the test for serialization runs.\n\t\toptions['serialization'] = $.extend({\n\t\t\t 'lower': []\n\t\t\t,'upper': []\n\t\t\t,'format': {}\n\t\t}, options['serialization']);\n\n\t\t// Run all options through a testing mechanism to ensure correct\n\t\t// input. It should be noted that options might get modified to\n\t\t// be handled properly. E.g. wrapping integers in arrays.\n\t\t$.each( tests, function( name, test ){\n\n\t\t\tif ( options[name] === undefined ) {\n\t\t\t\tif ( test.r ) {\n\t\t\t\t\tthrowError(\"'\" + name + \"' is required.\");\n\t\t\t\t} else {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ttest.t( parsed, options[name], sliders );\n\t\t});\n\n\t\t// Pre-define the styles.\n\t\tparsed.style = parsed.ort ? 'top' : 'left';\n\n\t\treturn parsed;\n\t}\n\n\n// DOM additions\n\n\t// Append a handle to the base.\n\tfunction addHandle ( options, index ) {\n\n\t\tvar handle = $('<div><div/></div>').addClass( Classes[2] ),\n\t\t\tadditions = [ '-lower', '-upper' ];\n\n\t\tif ( options.dir ) {\n\t\t\tadditions.reverse();\n\t\t}\n\n\t\thandle.children().addClass(\n\t\t\tClasses[3] + \" \" + Classes[3]+additions[index]\n\t\t);\n\n\t\treturn handle;\n\t}\n\n\t// Create a copy of an element-creating Link.\n\tfunction addElement ( handle, link ) {\n\n\t\t// If the Link requires creation of a new element,\n\t\t// create this element and return a new Link instance.\n\t\tif ( link.el ) {\n\t\t\tlink = new Link({\n\t\t\t\t'target': $(link.el).clone().appendTo( handle ),\n\t\t\t\t'method': link.method,\n\t\t\t\t'format': link.formatting\n\t\t\t}, true);\n\t\t}\n\n\t\t// Otherwise, return the reference.\n\t\treturn link;\n\t}\n\n\t// Loop all links for a handle.\n\tfunction addElements ( elements, handle, formatting ) {\n\n\t\tvar index, list = [];\n\n\t\t// Use the Link interface to provide unified\n\t\t// formatting for the .val() method.\n\t\tlist.push(\n\t\t\tnew Link({\n\t\t\t\t'format': formatting\n\t\t\t}, true)\n\t\t);\n\n\t\t// Loop all links in either 'lower' or 'upper'.\n\t\tfor ( index = 0; index < elements.length; index++ ) {\n\t\t\tlist.push(addElement(handle, elements[index]));\n\t\t}\n\n\t\treturn list;\n\t}\n\n\t// Go over all Links and assign them to a handle.\n\tfunction addLinks ( options, handles ) {\n\n\t\tvar index, links = [];\n\n\t\t// Copy the links into a new array, instead of modifying\n\t\t// the 'options.ser' list. This allows replacement of the invalid\n\t\t// '.el' Links, while the others are still passed by reference.\n\t\tfor ( index = 0; index < options.handles; index++ ) {\n\n\t\t\t// Append a new array.\n\t\t\tlinks[index] = addElements(\n\t\t\t\toptions.ser[index],\n\t\t\t\thandles[index].children(),\n\t\t\t\toptions.formatting\n\t\t\t);\n\t\t}\n\n\t\treturn links;\n\t}\n\n\t// Add the proper connection classes.\n\tfunction addConnection ( connect, target, handles ) {\n\n\t\t// Apply the required connection classes to the elements\n\t\t// that need them. Some classes are made up for several\n\t\t// segments listed in the class list, to allow easy\n\t\t// renaming and provide a minor compression benefit.\n\t\tswitch ( connect ) {\n\t\t\tcase 1:\ttarget.addClass( Classes[7] );\n\t\t\t\t\thandles[0].addClass( Classes[6] );\n\t\t\t\t\tbreak;\n\t\t\tcase 3: handles[1].addClass( Classes[6] );\n\t\t\t\t\t/* falls through */\n\t\t\tcase 2: handles[0].addClass( Classes[7] );\n\t\t\t\t\t/* falls through */\n\t\t\tcase 0: target.addClass(Classes[6]);\n\t\t\t\t\tbreak;\n\t\t}\n\t}\n\n\t// Add handles and loop Link elements.\n\tfunction addHandles ( options, base ) {\n\n\t\tvar index, handles = [];\n\n\t\t// Append handles.\n\t\tfor ( index = 0; index < options.handles; index++ ) {\n\n\t\t\t// Keep a list of all added handles.\n\t\t\thandles.push( addHandle( options, index ).appendTo(base) );\n\t\t}\n\n\t\treturn handles;\n\t}\n\n\t// Initialize a single slider.\n\tfunction addSlider ( options, target ) {\n\n\t\t// Apply classes and data to the target.\n\t\ttarget.addClass([\n\t\t\tClasses[0],\n\t\t\tClasses[8 + options.dir],\n\t\t\tClasses[4 + options.ort]\n\t\t].join(' '));\n\n\t\treturn $('<div/>').appendTo(target).addClass( Classes[1] );\n\t}\n\n\n// Slider scope\n\nfunction closure ( target, options, originalOptions ){\n\n// Internal variables\n\n\t// All variables local to 'closure' are marked $.\n\tvar $Target = $(target),\n\t\t$Locations = [-1, -1],\n\t\t$Base,\n\t\t$Serialization,\n\t\t$Handles;\n\n\t// Shorthand for base dimensions.\n\tfunction baseSize ( ) {\n\t\treturn $Base[['width', 'height'][options.ort]]();\n\t}\n\n\n// External event handling\n\n\tfunction fireEvents ( events ) {\n\n\t\t// Use the external api to get the values.\n\t\t// Wrap the values in an array, as .trigger takes\n\t\t// only one additional argument.\n\t\tvar index, values = [ $Target.val() ];\n\n\t\tfor ( index = 0; index < events.length; index++ ){\n\t\t\t$Target.trigger(events[index], values);\n\t\t}\n\t}\n\n\n// Handle placement\n\n\t// Test suggested values and apply margin, step.\n\tfunction setHandle ( handle, to, delimit ) {\n\n\t\tvar n = handle[0] !== $Handles[0][0] ? 1 : 0,\n\t\t\tlower = $Locations[0] + options.margin,\n\t\t\tupper = $Locations[1] - options.margin;\n\n\t\t// Don't delimit range dragging.\n\t\tif ( delimit && $Handles.length > 1 ) {\n\t\t\tto = n ? Math.max( to, lower ) : Math.min( to, upper );\n\t\t}\n\n\t\t// Handle the step option.\n\t\tif ( to < 100 ){\n\t\t\tto = getStep(options, to);\n\t\t}\n\n\t\t// Limit to 0/100 for .val input, trim anything beyond 7 digits, as\n\t\t// JavaScript has some issues in its floating point implementation.\n\t\tto = limit(parseFloat(to.toFixed(7)));\n\n\t\t// Return falsy if handle can't move. False for 0 or 100 limit,\n\t\t// '0' for limiting by another handle.\n\t\tif ( to === $Locations[n] ) {\n\t\t\tif ( $Handles.length === 1 ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn ( to === lower || to === upper ) ? 0 : false;\n\t\t}\n\n\t\t// Set the handle to the new position.\n\t\thandle.css( options.style, to + '%' );\n\n\t\t// Force proper handle stacking\n\t\tif ( handle.is(':first-child') ) {\n\t\t\thandle.toggleClass(Classes[17], to > 50 );\n\t\t}\n\n\t\t// Update locations.\n\t\t$Locations[n] = to;\n\n\t\t// Invert the value if this is a right-to-left slider.\n\t\tif ( options.dir ) {\n\t\t\tto = 100 - to;\n\t\t}\n\n\t\t// Write values to serialization Links.\n\t\t// Convert the value to the correct relative representation.\n\t\t$($Serialization[n]).each(function(){\n\t\t\tthis.write( options, to, handle.children(), $Target );\n\t\t});\n\n\t\treturn true;\n\t}\n\n\t// Delimit proposed values for handle positions.\n\tfunction getPositions ( a, b, delimit ) {\n\n\t\t// Add movement to current position.\n\t\tvar c = a + b[0], d = a + b[1];\n\n\t\t// Only alter the other position on drag,\n\t\t// not on standard sliding.\n\t\tif ( delimit ) {\n\t\t\tif ( c < 0 ) {\n\t\t\t\td += Math.abs(c);\n\t\t\t}\n\t\t\tif ( d > 100 ) {\n\t\t\t\tc -= ( d - 100 );\n\t\t\t}\n\n\t\t\t// Limit values to 0 and 100.\n\t\t\treturn [limit(c), limit(d)];\n\t\t}\n\n\t\treturn [c,d];\n\t}\n\n\t// Handles movement by tapping.\n\tfunction jump ( handle, to, instant ) {\n\n\t\tif ( !instant ) {\n\t\t\t// Flag the slider as it is now in a transitional state.\n\t\t\t// Transition takes 300 ms, so re-enable the slider afterwards.\n\t\t\taddClassFor( $Target, Classes[14], 300 );\n\t\t}\n\n\t\t// Move the handle to the new position.\n\t\tsetHandle( handle, to, false );\n\n\t\tfireEvents(['slide', 'set', 'change']);\n\t}\n\n\n// Events\n\n\t// Handler for attaching events trough a proxy.\n\tfunction attach ( events, element, callback, data ) {\n\n\t\t// Add the noUiSlider namespace to all events.\n\t\tevents = events.replace( /\\s/g, namespace + ' ' ) + namespace;\n\n\t\t// Bind a closure on the target.\n\t\treturn element.on( events, function( e ){\n\n\t\t\t// jQuery and Zepto handle unset attributes differently.\n\t\t\tvar disabled = $Target.attr('disabled');\n\t\t\t\tdisabled = !( disabled === undefined || disabled === null );\n\n\t\t\t// Test if there is anything that should prevent an event\n\t\t\t// from being handled, such as a disabled state or an active\n\t\t\t// 'tap' transition.\n\t\t\tif( $Target.hasClass( Classes[14] ) || disabled ) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\te = fixEvent(e);\n\t\t\te.calcPoint = e.points[ options.ort ];\n\n\t\t\t// Call the event handler with the event [ and additional data ].\n\t\t\tcallback ( e, data );\n\t\t});\n\t}\n\n\t// Handle movement on document for handle and range drag.\n\tfunction move ( event, data ) {\n\n\t\tvar handles = data.handles || $Handles, positions, state = false,\n\t\t\tproposal = ((event.calcPoint - data.start) * 100) / baseSize(),\n\t\t\th = handles[0][0] !== $Handles[0][0] ? 1 : 0;\n\n\t\t// Calculate relative positions for the handles.\n\t\tpositions = getPositions( proposal, data.positions, handles.length > 1);\n\n\t\tstate = setHandle ( handles[0], positions[h], handles.length === 1 );\n\n\t\tif ( handles.length > 1 ) {\n\t\t\tstate = setHandle ( handles[1], positions[h?0:1], false ) || state;\n\t\t}\n\n\t\t// Fire the 'slide' event if any handle moved.\n\t\tif ( state ) {\n\t\t\tfireEvents(['slide']);\n\t\t}\n\t}\n\n\t// Unbind move events on document, call callbacks.\n\tfunction end ( event ) {\n\n\t\t// The handle is no longer active, so remove the class.\n\t\t$('.' + Classes[15]).removeClass(Classes[15]);\n\n\t\t// Remove cursor styles and text-selection events bound to the body.\n\t\tif ( event.cursor ) {\n\t\t\t$('body').css('cursor', '').off( namespace );\n\t\t}\n\n\t\t// Unbind the move and end events, which are added on 'start'.\n\t\tdoc.off( namespace );\n\n\t\t// Remove dragging class.\n\t\t$Target.removeClass(Classes[12]);\n\n\t\t// Fire the change and set events.\n\t\tfireEvents(['set', 'change']);\n\t}\n\n\t// Bind move events on document.\n\tfunction start ( event, data ) {\n\n\t\t// Mark the handle as 'active' so it can be styled.\n\t\tif( data.handles.length === 1 ) {\n\t\t\tdata.handles[0].children().addClass(Classes[15]);\n\t\t}\n\n\t\t// A drag should never propagate up to the 'tap' event.\n\t\tevent.stopPropagation();\n\n\t\t// Attach the move event.\n\t\tattach ( actions.move, doc, move, {\n\t\t\tstart: event.calcPoint,\n\t\t\thandles: data.handles,\n\t\t\tpositions: [\n\t\t\t\t$Locations[0],\n\t\t\t\t$Locations[$Handles.length - 1]\n\t\t\t]\n\t\t});\n\n\t\t// Unbind all movement when the drag ends.\n\t\tattach ( actions.end, doc, end, null );\n\n\t\t// Text selection isn't an issue on touch devices,\n\t\t// so adding cursor styles can be skipped.\n\t\tif ( event.cursor ) {\n\n\t\t\t// Prevent the 'I' cursor and extend the range-drag cursor.\n\t\t\t$('body').css('cursor', $(event.target).css('cursor'));\n\n\t\t\t// Mark the target with a dragging state.\n\t\t\tif ( $Handles.length > 1 ) {\n\t\t\t\t$Target.addClass(Classes[12]);\n\t\t\t}\n\n\t\t\t// Prevent text selection when dragging the handles.\n\t\t\t$('body').on('selectstart' + namespace, false);\n\t\t}\n\t}\n\n\t// Move closest handle to tapped location.\n\tfunction tap ( event ) {\n\n\t\tvar location = event.calcPoint, total = 0, to;\n\n\t\t// The tap event shouldn't propagate up and cause 'edge' to run.\n\t\tevent.stopPropagation();\n\n\t\t// Add up the handle offsets.\n\t\t$.each( $Handles, function(){\n\t\t\ttotal += this.offset()[ options.style ];\n\t\t});\n\n\t\t// Find the handle closest to the tapped position.\n\t\ttotal = ( location < total/2 || $Handles.length === 1 ) ? 0 : 1;\n\n\t\tlocation -= $Base.offset()[ options.style ];\n\n\t\t// Calculate the new position.\n\t\tto = ( location * 100 ) / baseSize();\n\n\t\t// Find the closest handle and calculate the tapped point.\n\t\t// The set handle to the new position.\n\t\tjump( $Handles[total], to, options.events.snap );\n\n\t\tif ( options.events.snap ) {\n\t\t\tstart(event, { handles: [$Handles[total]] });\n\t\t}\n\t}\n\n\t// Move handle to edges when target gets tapped.\n\tfunction edge ( event ) {\n\n\t\tvar i = event.calcPoint < $Base.offset()[ options.style ],\n\t\t\tto = i ? 0 : 100;\n\n\t\ti = i ? 0 : $Handles.length - 1;\n\n\t\tjump( $Handles[i], to, false );\n\t}\n\n\t// Attach events to several slider parts.\n\tfunction events ( behaviour ) {\n\n\t\tvar i, drag;\n\n\t\t// Attach the standard drag event to the handles.\n\t\tif ( !behaviour.fixed ) {\n\n\t\t\tfor ( i = 0; i < $Handles.length; i++ ) {\n\n\t\t\t\t// These events are only bound to the visual handle\n\t\t\t\t// element, not the 'real' origin element.\n\t\t\t\tattach ( actions.start, $Handles[i].children(), start, {\n\t\t\t\t\thandles: [ $Handles[i] ]\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Attach the tap event to the slider base.\n\t\tif ( behaviour.tap ) {\n\t\t\tattach ( actions.start, $Base, tap, {\n\t\t\t\thandles: $Handles\n\t\t\t});\n\t\t}\n\n\t\t// Extend tapping behaviour to target\n\t\tif ( behaviour.extend ) {\n\n\t\t\t$Target.addClass( Classes[16] );\n\n\t\t\tif ( behaviour.tap ) {\n\t\t\t\tattach ( actions.start, $Target, edge, {\n\t\t\t\t\thandles: $Handles\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// Make the range dragable.\n\t\tif ( behaviour.drag ){\n\n\t\t\tdrag = $Base.find( '.' + Classes[7] ).addClass( Classes[10] );\n\n\t\t\t// When the range is fixed, the entire range can\n\t\t\t// be dragged by the handles. The handle in the first\n\t\t\t// origin will propagate the start event upward,\n\t\t\t// but it needs to be bound manually on the other.\n\t\t\tif ( behaviour.fixed ) {\n\t\t\t\tdrag = drag.add($Base.children().not( drag ).children());\n\t\t\t}\n\n\t\t\tattach ( actions.start, drag, start, {\n\t\t\t\thandles: $Handles\n\t\t\t});\n\t\t}\n\t}\n\n\n// Initialize slider\n\n\t// Throw an error if the slider was already initialized.\n\tif ( !$Target.is(':empty') ) {\n\t\tthrow new Error('Slider was already initialized.');\n\t}\n\n\t// Create the base element, initialise HTML and set classes.\n\t// Add handles and links.\n\t$Base = addSlider( options, $Target );\n\t$Handles = addHandles( options, $Base );\n\t$Serialization = addLinks( options, $Handles );\n\n\t// Set the connect classes.\n\taddConnection ( options.connect, $Target, $Handles );\n\n\t// Attach user events.\n\tevents( options.events );\n\n\n// Methods\n\n\t// Set the slider value.\n\ttarget.vSet = function ( values, callback, link, update, animate ){\n\n\t\tvar i, to;\n\n\t\t// The RTL settings is implemented by reversing the front-end,\n\t\t// internal mechanisms are the same.\n\t\tif ( options.dir && options.handles > 1 ) {\n\t\t\tvalues.reverse();\n\t\t}\n\n\t\t// Animation is optional.\n\t\tif ( animate ) {\n\t\t\taddClassFor( $Target, Classes[14], 300 );\n\t\t}\n\n\t\t// If there are multiple handles to be set run the setting\n\t\t// mechanism twice for the first handle, to make sure it\n\t\t// can be bounced of the second one properly.\n\t\tfor ( i = 0; i < ( $Handles.length > 1 ? 3 : 1 ); i++ ) {\n\n\t\t\tto = link || $Serialization[i%2][0];\n\t\t\tto = to.valueOf( values[i%2] );\n\n\t\t\tif ( to === false ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Calculate the new handle position\n\t\t\tto = toStepping( options, to );\n\n\t\t\t// Invert the value if this is a right-to-left slider.\n\t\t\tif ( options.dir ) {\n\t\t\t\tto = 100 - to;\n\t\t\t}\n\n\t\t\t// Force delimitation.\n\t\t\tif ( setHandle( $Handles[i%2], to, true ) === true ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t// Reset the input if it doesn't match the slider.\n\t\t\t$($Serialization[i%2]).each(function(){\n\t\t\t\tthis.write(\n\t\t\t\t\toptions,\n\t\t\t\t\t$Locations[i%2],\n\t\t\t\t\t$Handles[i%2].children(),\n\t\t\t\t\t$Target,\n\t\t\t\t\tupdate\n\t\t\t\t);\n\t\t\t});\n\t\t}\n\n\t\t// Optionally fire the 'set' event.\n\t\tif( callback === true ) {\n\t\t\tfireEvents(['set']);\n\t\t}\n\n\t\treturn this;\n\t};\n\n\t// Get the slider value.\n\ttarget.vGet = function ( ){\n\n\t\tvar i, retour = [];\n\n\t\t// Get the value from all handles.\n\t\tfor ( i = 0; i < options.handles; i++ ){\n\t\t\tretour[i] = $Serialization[i][0].saved;\n\t\t}\n\n\t\t// If only one handle is used, return a single value.\n\t\tif ( retour.length === 1 ){\n\t\t\treturn retour[0];\n\t\t}\n\n\t\tif ( options.dir && options.handles > 1 ) {\n\t\t\treturn retour.reverse();\n\t\t}\n\n\t\treturn retour;\n\t};\n\n\t// Destroy the slider and unbind all events.\n\ttarget.destroy = function ( ){\n\n\t\t// Loop all linked serialization objects and unbind all\n\t\t// events in the noUiSlider namespace.\n\t\t$.each($Serialization, function(){\n\t\t\t$.each(this, function(){\n\t\t\t\t// Won't remove 'change' when bound implicitly.\n\t\t\t\tif ( this.target ) {\n\t\t\t\t\tthis.target.off( namespace );\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\n\t\t// Unbind events on the slider, remove all classes and child elements.\n\t\t$(this).off(namespace)\n\t\t\t.removeClass(Classes.join(' '))\n\t\t\t.empty();\n\n\t\t// Return the original options from the closure.\n\t\treturn originalOptions;\n\t};\n\n\n// Value setting\n\n\t// Use the public value method to set the start values.\n\t$Target.val( options.start );\n}\n\n\n// Access points\n\n\t// Run the standard initializer\n\tfunction initialize ( originalOptions ) {\n\n\t\t// Throw error if group is empty.\n\t\tif ( !this.length ){\n\t\t\tthrowError(\"Can't initialize slider on empty selection.\");\n\t\t}\n\n\t\t// Test the options once, not for every slider.\n\t\tvar options = test( originalOptions, this );\n\n\t\t// Loop all items, and provide a new closed-scope environment.\n\t\treturn this.each(function(){\n\t\t\tclosure(this, options, originalOptions);\n\t\t});\n\t}\n\n\t// Destroy the slider, then re-enter initialization.\n\tfunction rebuild ( options ) {\n\n\t\treturn this.each(function(){\n\n\t\t\t// Get the current values from the slider,\n\t\t\t// including the initialization options.\n\t\t\tvar values = $(this).val(),\n\t\t\t\toriginalOptions = this.destroy(),\n\n\t\t\t\t// Extend the previous options with the newly provided ones.\n\t\t\t\tnewOptions = $.extend( {}, originalOptions, options );\n\n\t\t\t// Run the standard initializer.\n\t\t\t$(this).noUiSlider( newOptions );\n\n\t\t\t// If the start option hasn't changed,\n\t\t\t// reset the previous values.\n\t\t\tif ( originalOptions.start === newOptions.start ) {\n\t\t\t\t$(this).val(values);\n\t\t\t}\n\t\t});\n\t}\n\n\n\t// Expose serialization constructor.\n\t/** @expose */\n\t$.noUiSlider = { 'Link': Link };\n\n\t// Extend jQuery/Zepto with the noUiSlider method.\n\t/** @expose */\n\t$.fn.noUiSlider = function ( options, re ) {\n\t\treturn ( re ? rebuild : initialize ).call(this, options);\n\t};\n\n\t$.fn.val = function ( ) {\n\n\t\t// Convert the function arguments to an array.\n\t\tvar args = Array.prototype.slice.call( arguments, 0 ),\n\t\t\tset, link, update, animate;\n\n\t\t// Test if there are arguments, and if not, call the 'get' method.\n\t\tif ( !args.length ) {\n\n\t\t\t// Determine whether to use the native val method.\n\t\t\tif ( this.hasClass(Classes[0]) ) {\n\t\t\t\treturn this[0].vGet();\n\t\t\t}\n\n\t\t\treturn $val.apply( this );\n\t\t}\n\n\t\t// Extract modifiers for value method.\n\t\tif ( typeof args[1] === 'object' ) {\n\t\t\tset = args[1]['set'];\n\t\t\tlink = args[1]['link'];\n\t\t\tupdate = args[1]['update'];\n\t\t\tanimate = args[1]['animate'];\n\n\t\t// Support the 'true' option.\n\t\t} else if ( args[1] === true ) {\n\t\t\tset = true;\n\t\t}\n\n\t\t// Loop all individual items, and handle setting appropriately.\n\t\treturn this.each(function(){\n\n\t\t\tif ( $(this).hasClass(Classes[0]) ) {\n\t\t\t\tthis.vSet( asArray(args[0]), set, link, update, animate );\n\t\t\t} else {\n\t\t\t\t$val.apply( $(this), args );\n\t\t\t}\n\t\t});\n\t};\n\n}( window['jQuery'] || window['Zepto'] ));\n","/**\n * Provides requestAnimationFrame in a cross browser way.\n * @author paulirish / http://paulirish.com/\n */\n \nif ( !window.requestAnimationFrame ) {\n \n\twindow.requestAnimationFrame = ( function() {\n \n\t\treturn window.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame ||\n\t\twindow.oRequestAnimationFrame ||\n\t\twindow.msRequestAnimationFrame ||\n\t\tfunction( /* function FrameRequestCallback */ callback, /* DOMElement Element */ element ) {\n \n\t\t\twindow.setTimeout( callback, 1000 / 60 );\n \n\t\t};\n \n\t} )();\n \n}\n\n/*!\n * isVis - v0.5.5 Aug 2011 - Page Visibility API Polyfill\n * Copyright (c) 2011 Addy Osmani\n * Dual licensed under the MIT and GPL licenses.\n */\n(function () {\n\n    window.visibly = {\n        b: null,\n        q: document,\n        p: undefined,\n        prefixes: ['webkit', 'ms'],\n        props: ['VisibilityState', 'visibilitychange', 'Hidden'],\n        m: ['focus', 'blur'],\n        visibleCallbacks: [],\n        hiddenCallbacks: [],\n        _callbacks: [],\n\n        onVisible: function ( _callback ) {\n            this.visibleCallbacks.push(_callback);\n        },\n        onHidden: function ( _callback ) {\n            this.hiddenCallbacks.push(_callback);\n        },\n        isSupported: function () {\n            return (this._supports(0) || this._supports(1));\n        },\n        _supports: function ( index ) {\n            return ((this.prefixes[index] + this.props[2]) in this.q);\n        },\n        runCallbacks: function ( index ) {\n            if ( index ) {\n                this._callbacks = (index == 1) ? this.visibleCallbacks : this.hiddenCallbacks;\n                for (var i = 0; i < this._callbacks.length; i++) {\n                    this._callbacks[i]();\n                }\n            }\n        },\n        _visible: function () {\n            window.visibly.runCallbacks(1);\n        },\n        _hidden: function () {\n            window.visibly.runCallbacks(2);\n        },\n        _nativeSwitch: function () {\n            ((this.q[this.b + this.props[2]]) === true) ? this._hidden() : this._visible();\n        },\n        listen: function () {\n\n            try { /*if no native page visibility support found..*/\n                if (!(this.isSupported())) {\n                    if (document.addEventListener) { /*for browsers without focusin/out support eg. firefox, opera use focus/blur*/\n\t\t\t\t\t\t/*window used instead of doc as Opera complains otherwise*/\n                        window.addEventListener(this.m[0], this._visible, 1);\n                        window.addEventListener(this.m[1], this._hidden, 1);\n                    } else { /*IE <10s most reliable focus events are onfocusin/onfocusout*/\n                        this.q.attachEvent('onfocusin', this._visible);\n                        this.q.attachEvent('onfocusout', this._hidden);\n                    }\n                } else { /*switch support based on prefix*/\n                    this.b =  (this._supports(0) == this.p) ? this.prefixes[1] : this.prefixes[0];\n                    this.q.addEventListener(this.b + this.props[1], function () {\n                        window.visibly._nativeSwitch.apply(window.visibly, arguments);\n                    }, 1);\n                }\n            } catch (e) {}\n        },\n        init: function () {\n            this.listen();\n        }\n    }\n\n    this.visibly.init();\n\n})();\n","// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it succesfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc... \n *\n * It is API compatible with the standard WebSocket API.\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n */\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof module !== 'undefined' && module.exports){\n        module.exports = factory();\n    } else {\n        global.ReconnectingWebSocket = factory();\n    }\n})(this, function () {\n\n    function ReconnectingWebSocket(url, protocols) {\n        protocols = protocols || [];\n\n        // These can be altered by calling code.\n        this.debug = false;\n        this.reconnectInterval = 1000;\n        this.reconnectDecay = 1.5;\n        this.reconnectAttempts = 0;\n        this.timeoutInterval = 2000;\n\n        var self = this;\n        var ws;\n        var forcedClose = false;\n        var timedOut = false;\n        \n        this.url = url;\n        this.protocols = protocols;\n        this.readyState = WebSocket.CONNECTING;\n        this.URL = url; // Public API\n\n        this.onopen = function(event) {\n        };\n\n        this.onclose = function(event) {\n        };\n\n        this.onconnecting = function(event) {\n        };\n\n        this.onmessage = function(event) {\n        };\n\n        this.onerror = function(event) {\n        };\n\n        function connect(reconnectAttempt) {\n            ws = new WebSocket(url, protocols);\n            \n            self.onconnecting();\n            if (self.debug || ReconnectingWebSocket.debugAll) {\n                console.debug('ReconnectingWebSocket', 'attempt-connect', url);\n            }\n            \n            var localWs = ws;\n            var timeout = setTimeout(function() {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'connection-timeout', url);\n                }\n                timedOut = true;\n                localWs.close();\n                timedOut = false;\n            }, self.timeoutInterval);\n            \n            ws.onopen = function(event) {\n                clearTimeout(timeout);\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onopen', url);\n                }\n                self.readyState = WebSocket.OPEN;\n                reconnectAttempt = false;\n                self.reconnectAttempts = 0;\n                self.onopen(event);\n            };\n            \n            ws.onclose = function(event) {\n                clearTimeout(timeout);\n                ws = null;\n                if (forcedClose) {\n                    self.readyState = WebSocket.CLOSED;\n                    self.onclose(event);\n                } else {\n                    self.readyState = WebSocket.CONNECTING;\n                    self.onconnecting();\n                    if (!reconnectAttempt && !timedOut) {\n                        if (self.debug || ReconnectingWebSocket.debugAll) {\n                            console.debug('ReconnectingWebSocket', 'onclose', url);\n                        }\n                        self.onclose(event);\n                    }\n                    setTimeout(function() {\n                        self.reconnectAttempts++;\n                        connect(true);\n                    }, self.reconnectInterval * Math.pow(self.reconnectDecay, self.reconnectAttempts));\n                }\n            };\n            ws.onmessage = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onmessage', url, event.data);\n                }\n                self.onmessage(event);\n            };\n            ws.onerror = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onerror', url, event);\n                }\n                self.onerror(event);\n            };\n        }\n        connect(false);\n\n        this.send = function(data) {\n            if (ws) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'send', url, data);\n                }\n                return ws.send(data);\n            } else {\n                throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\n            }\n        };\n\n        this.close = function() {\n            forcedClose = true;\n            if (ws) {\n                ws.close();\n            }\n        };\n\n        /**\n         * Additional public API method to refresh the connection if still open (close, re-open).\n         * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n         */\n        this.refresh = function() {\n            if (ws) {\n                ws.close();\n            }\n        };\n    }\n\n    /**\n     * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n     */\n    ReconnectingWebSocket.debugAll = false;\n\n    return ReconnectingWebSocket;\n});\n","// Set debugmode to true and transactions/trades will be\n// randomly generated, and no outside connections will be made.\nvar DEBUG_MODE = false;\n\nvar DONATION_ADDRESS;\nvar SOUND_DONATION_ADDRESS;\n\nvar globalMute = false;\n\nvar instanceId = 0;\nvar pageDivId = \"pageDiv\";\n\nvar last_update = 0;\n\nvar updateTargets = [];\n\nvar transaction_count = 0;\n\n// Preload images\nvar bubbleImage = new Image();\nbubbleImage.src = \"images/bubble.png\";\nvar blockImage = new Image();\nblockImage.src = \"images/block.png\";\n\nvar debugSpawner;\n\nvar updateLayoutWidth = function() {\n\t$(\".chartMask\").css(\"visibility\", \"visible\");\n};\n\nvar updateLayoutHeight = function() {\n\tvar newHeight = window.innerHeight;\n\tif ($(\"#header\").css(\"display\") != \"none\") newHeight -= $(\"#header\").outerHeight();\n\t$(\"#pageSplitter\").height(newHeight);\n};\n\n$(document).ready(function() {\n\n\tprevChartWidth = $(\"#pageSplitter\").width() / 2;\n\t\n\t$(\"#chartCell\").hide();\n\t\n\t// DONATION_ADDRESS = $(\"#donationAddress\").html().replace('bitcoincash:', '');\n\tDONATION_ADDRESS = \"1CXEWG16ec6mjJbPxnSUE2xHvmzMiB1ZVp\"; // NON cash address! just legacy.\n\t// Because the user has javascript running:\n\t$(\"#noJavascript\").css(\"display\", \"none\");\n\n\t// Initialize draggable vertical page splitter\n\tupdateLayoutHeight();\n\t\n\tStatusBox.init(DEBUG_MODE);\n\n\t$(\".clickSuppress\").click(function() {\n\t\t$(\".clickSuppress\").parent().slideUp(300);\n\t});\n\n\t// Create a bubble spawner for testing\n\tdebugSpawner = function() {\n\t\t// Generate some test bubbles\n\t\tif (Math.random() <= 0.1) {\n\t\t\t// Try to simulate the transaction spread\n\t\t\tvar volume;\n\t\t\tvar order = Math.random();\n\t\t\tif (order < 0.6) {\n\t\t\t\tvolume = Math.random();\n\t\t\t} else if (order < 0.8) {\n\t\t\t\tvolume = Math.random() * 10;\n\t\t\t} else if (order < 0.95) {\n\t\t\t\tvolume = Math.random() * 100;\n\t\t\t} else {\n\t\t\t\tvolume = Math.random() * 1000;\n\t\t\t}\n\n\t\t\tif (Math.random() < 0.5)\n\t\t\t\tnew Transaction(volume, false);\n\t\t\telse\n\t\t\t\tnew Transaction(volume, false, volume * 75, 'USD');\n\t\t}\n\t};\n\t// Spam the following line into console, it's kind of fun.\n\t// new Block(228158, 270, 100 * satoshi, 153 * 1024);\n\t\n\tswitchExchange(\"bitstamp\");\n\t\n\t// Attach mouseover qr\n\t$(\"#donationAddress\").qr();\n\t\n});\n\n// Function for handling interface show/hide\nvar toggleInterface = function() {\n\tif ($(\".interface:hidden\").length === 0) {\n\t\t$(\".interface\").fadeOut(500, updateLayoutHeight);\n\t\t$(\"#hideInterface\").html(\"[ Show Interface ]\");\n\t\t$(\"#hideInterface\").css(\"opacity\", \"0.5\");\n\t} else {\n\t\t$(\".interface\").fadeIn(500);\n\t\t$(\"#hideInterface\").html(\"[ Hide Interface ]\");\n\t\t$(\"#hideInterface\").css(\"opacity\", \"1\");\n\t\tupdateLayoutHeight();\n\t}\n};\n\nvar globalUpdate = function(time) {\n\twindow.requestAnimationFrame(globalUpdate);\n\tvar delta = time - last_update;\n\tlast_update = time;\n\tfor (var i = 0; i < updateTargets.length; i++) {\n\t\tupdateTargets[i].update(delta);\n\t}\n};\n\n$(window).bind(\"load\", function() {\n\tif (DEBUG_MODE) {\n\t\tsetInterval(debugSpawner, 100);\n\t} else {\n\t\tif ($(\"#blockchainCheckBox\").prop(\"checked\"))\n\t\t\tTransactionSocket.init();\n\t\tif ($(\"#mtgoxCheckBox\").prop(\"checked\"))\n\t\t\tTradeSocket.init();\n\t}\n\n\twindow.requestAnimationFrame(globalUpdate);\n\t\n\tSound.loadup();\n\tSound.init(0);\n// console.log(Howler.ctx.state, 'ctx state');\n\tif (Howler.ctx.state !== 'running' && /Google Inc/.test(navigator.vendor)) {\n\t\t$('#init_me').attr('style', 'display:inherit;');\n\t}\n\n\t$('#init_me').bind('click', function($event) {\n\t\t$event.preventDefault();\n\t\tHowler.ctx.resume();\n\t\t$(this).attr('style', 'display:none;');\n\t\treturn false;\n\t});\n});\n\nvar endResize = function() {\n    $(\".chartMask\").css(\"visibility\", \"hidden\");\n\tfor (var i = 0; i < updateTargets.length; i++) {\n\t\tupdateTargets[i].updateContainerSize();\n\t}\n};\n\nvar hideChart = function() {\n\t$(\"#chartElement\").hide();\n\t$(\"#showChart\").show();\n\tprevChartWidth = $(\"#chartCell\").width();\n\t$(\"#chartCell\").width(0);\n\t$(\"#chartCell\").hide();\n\t$(\"#pageSplitter\").colResizable({\n\t\tdisable: true\n\t});\n};\n\nvar showChart = function() {\n\t// $(\"#chartElement\").show();\n\t// $(\"#showChart\").hide();\n\t// $(\"#chartCell\").width(prevChartWidth);\n\t// $(\"#chartCell\").show();\n\t// $(window).trigger(\"resize\");\n\t// if ($(\"#bitcoinChart\").length === 0) {\n\t// \t// Load the iframe\n\t// \t$(\"#chartHolder\").html('<iframe id=\"bitcoinChart\" scrolling=\"no\" frameBorder=\"0\" src=\"http://bitcoin.clarkmoody.com/widget/chart/zeroblock/\"></iframe>');\n\t// }\n\t// $(\"#pageSplitter\").colResizable({\n\t// \tliveDrag: true,\n\t// \tonDrag: updateLayoutWidth,\n\t// \tonResize: endResize\n\t// });\n};\n\n$(window).resize(function() {\n    updateLayoutHeight();\n});\n\nwindow.onbeforeunload = function(e) {\n\tclearInterval(globalUpdate);\n\tTransactionSocket.close();\n\tTradeSocket.close();\n};\n\n"]}